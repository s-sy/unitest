{"version":3,"sources":["webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?ca0b","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?b13f","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?d8b6","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?1279","uni-app:///pages/shares/home.vue","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?8602","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/shares/home.vue?7332"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACuFlnB;AACA;AACA,kG;;;;AAIA;AACA;AACA;AACA,mBADA;AAEA,uBAFA;AAGA,mBAHA;AAIA,gBAJA;AAKA,qBALA;AAMA,wCANA;AAOA,mBAPA;AAQA,wCARA;AASA,qBATA;AAUA,eAVA;AAWA,yBAXA;AAYA,oBAZA;AAaA,kBAbA;AAcA,kDAdA;;;AAiBA,GAnBA;AAoBA;AACA,gBADA,0BACA;AACA,oBADA,GACA,KADA;AAEA,kBAFA,GAEA,kCAFA;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA;AACA;AACA;AACA,qBAJA,MAIA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,mBArBA;AAsBA,iBAvBA,CAHA;AA2BA,KA5BA;AA6BA,gBA7BA,0BA6BA;AACA,oBADA,GACA,MADA;AAEA,qBAFA,GAEA,EAFA;AAGA,sBAHA,GAGA,0BAHA;AAIA;AACA,uBALA,GAKA,+BALA;AAMA;AACA;AACA,wBARA,GAQA,kEARA;AASA;AACA;AACA;AACA;AACA,iBAJA,MAIA;AACA;AACA;AACA;AACA,mCAjBA;;;AAoBA;AACA;AACA,gCADA;AAEA,6CAFA;AAGA,uBAHA,EAGA,IAHA,CAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CADA;AAEA,sCAFA;AAGA,0CAHA;AAIA,+BAJA,mBAIA,IAJA,EAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAZA;AAaA,4BAbA,kBAaA;AACA;AACA;AACA,yBAhBA;;AAkBA;AACA,mBA/BA;AAgCA,iBAjCA,CApBA;;;;AAyDA,KAtFA;AAuFA,WAvFA,mBAuFA,CAvFA,EAuFA;AACA;AACA;AACA;AACA;AACA;AACA,KA7FA;AA8FA,WA9FA,qBA8FA;AACA,oBADA,GACA,MADA;AAEA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA,yBAXA,GAWA,mCAXA;;AAaA;AACA,+BADA,EACA;AACA,yCAFA;AAGA;AACA;AADA,qBAHA;AAMA,iDANA,EAMA;AACA,sCAPA,EAOA;AACA;AACA,sCATA;AAUA,8DAVA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA,yBAHA,KAGA,QAHA,KAGA,CAFA,IAEA,QAFA,IAEA,CADA,OACA,QADA,OACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAFA;AAGA,sDAHA;AAIA,wCAJA;AAKA,0CALA;AAMA,4CANA;AAOA,mCAPA;AAQA,2CARA;AASA,gDATA;AAUA;AACA,sDADA;AAEA;AACA,0CAHA;AAIA,sCAJA;AAKA,kCALA,EAVA;;AAiBA,sCAjBA,wBAiBA,UAjBA,EAiBA;;AAEA;AACA,oCADA;AAEA,oEAFA;;AAIA,2BAvBA,EADA;;AA0BA;AACA,uCADA;AAEA,qDAFA;AAGA,kCAHA;AAIA,gCAJA;AAKA,sCALA;AAMA,+DANA;AAOA,sCAPA,wBAOA,SAPA,EAOA;AACA;AACA;AACA;AACA,8DADA;AAEA,wDAFA;AAGA,wDAHA,EADA;AAKA;AACA,6DANA,EAMA;AACA;AACA;;6DARA;;AAYA,2BArBA,EA1BA;;AAiDA;AACA;AACA,sCADA;AAEA,6CAFA;AAGA,4DAHA;AAIA,4CAJA;AAKA,4CALA;AAMA,0CANA;AAOA,kCAPA;AAQA,2CARA;AASA,gDATA;AAUA;AACA;AACA,yCAFA;AAGA,0CAHA;AAIA,sCAJA;AAKA,kCALA,EAVA;;AAiBA,sCAjBA,wBAiBA,UAjBA,EAiBA;AACA;AACA;AACA,oDADA;AAEA,iEAFA;;AAIA,2BAvBA;AAwBA,sCAxBA;AAyBA,oCAzBA,CAyBA;AAzBA,yBAlDA;;AA8EA;AACA,sCADA;AAEA,oDAFA;;AAIA,wCAJA;AAKA,0CALA;AAMA,kCANA;AAOA,2CAPA;AAQA,gDARA;AASA,sCATA;AAUA;AACA;AACA,yCAFA;AAGA,0CAHA;AAIA,sCAJA;AAKA,kCALA,EAVA;;AAiBA,yCAjBA;;AAmBA,8GADA,SACA,SADA,SACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,4CADA;AAEA,yDAFA;;AAIA,+BALA,EAKA,CALA;AAMA,6BAPA;AAQA,2BAlCA,EA9EA;;AAkHA;AACA,sCADA;AAEA,sCAFA;;AAIA,wCAJA;AAKA,0CALA;AAMA,kCANA;AAOA,2CAPA;AAQA,gDARA;AASA,sCATA;AAUA;AACA;AACA,yCAFA;AAGA,0CAHA;AAIA,sCAJA;AAKA,kCALA,EAVA;;AAiBA,yCAjBA;;AAmBA,8GADA,SACA,SADA,SACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA,4CADA;AAEA,8DAFA;;AAIA,+BALA,EAKA,CALA;AAMA,6BAPA;AAQA,2BAlCA,EAlHA;;AAsJA;AACA,sCADA;AAEA,0CAFA;AAGA,kCAHA;AAIA,0CAJA;AAKA,kCALA;AAMA,2CANA;AAOA,gDAPA;AAQA;AACA,sDADA;AAEA;AACA,0CAHA;AAIA,sCAJA;AAKA,kCALA,EARA;;AAeA,sCAfA,wBAeA,UAfA,EAeA;;AAEA;AACA,kEADA;AAEA,iEAFA;;AAIA,2BArBA;;AAuBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnMA;AAqMA,uBAtMA;AAuMA,qBAlOA;AAmOA;;AAEA;;AAEA;AACA;;;;;AAKA,yBAJA,OAIA,SAJA,OAIA,CAHA,KAGA,SAHA,KAGA,CAFA,IAEA,SAFA,IAEA,CADA,OACA,SADA,OACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAxPA;AAyPA;;;;AAIA,yBAHA,KAGA,SAHA,KAGA,CAFA,IAEA,SAFA,IAEA,CADA,OACA,SADA,OACA;AACA;AACA,qBA/PA,GAbA,SAaA,CAbA;;AA8QA;AACA;AACA,mCAhRA;;AAkRA;AACA;AACA;AApRA;AAsRA,KApXA;AAqXA,UArXA,oBAqXA;;AAEA;AACA,KAxXA;AAyXA,aAzXA,uBAyXA;;AAEA;AACA,uCADA;AAEA,eAFA,mBAEA,GAFA,EAEA;AACA;;AAEA,SALA;;;;;;;;AAaA,KAxYA;AAyYA,SAzYA,mBAyYA;;;;;;AAMA;;AAEA,KAjZA;AAkZA,UAlZA,oBAkZA;AACA;;AAEA,KArZA,EApBA;;AA2aA,SA3aA,qBA2aA;AACA,kBADA,GACA,MADA;AAEA;AACA,uDAHA;;AAKA,mCALA,SAKA,GALA;AAMA,mCANA,SAMA,SANA;AAOA;AACA;AACA;AACA;AACA,+BAXA;AAYA,GAvbA,E;;;;;;;;;;;;;AC7FA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/shares/home.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=72f0369e&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/shares/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=72f0369e&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\" style=\"width:100%\">\r\n\t\t<cu-custom bgColor=\"bg-white\" :isBack=\"false\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\" class=\"title-text\">分享</block>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"top-one\">\r\n\t\t\t<view class=\"huatu\">\r\n\t\t\t\t<image class=\"huatu\"  :src=\"shareInfoList[checkIndex].background\" mode=\"aspectFit\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"fc\" :style=\"{'color':shareInfo.fontColor}\">\r\n\t\t\t\t<view class=\"projectName font-overflow\" >\r\n\t\t\t\t\t{{shareInfo.content}}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<view class=\"buttom-content\">\r\n\t\t\t\t\t<image class=\"userImage\" :src=\"wxUser.headimgUrl\"></image>\r\n\t\t\t\t\t<view class=\"center-dstr\" :style=\"{'color':shareInfo.fontColor}\">\r\n\t\t\t\t\t\t<view class=\"text-title font-overflow\" >\r\n\t\t\t\t\t\t\t{{projectItem.projectName}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"font-overflow\">\r\n\t\t\t\t\t\t\t{{wxUser.realName?wxUser.realName: wxUser.nickName}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"font-overflow\">\r\n\t\t\t\t\t\t向你推荐\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<image class=\"erweima\" :src=\"Qcode\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"chang font-overflow\">\r\n\t\t\t\t\t\t\t长按识别小程序码\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"button-m\">\r\n\t\t\t<button class=\"button-class\" type=\"default\" @tap=\"shareFc()\">生成海报</button>\r\n\t\t</view>\r\n\t\t<view class=\"\" style=\"width:710rpx;padding:0rpx 20rpx;\">\r\n\t\t\t<scroll-view scroll-x=\"true\" >\r\n\t\t\t\r\n\t\t\t\t<view class=\"view-class\" >\r\n\t\t\t\t<block  v-for=\"(item,index) in shareInfoList\">\r\n\t\t\t\t\t<view :class=\"index==checkIndex?'item-one':'item-two'\" @click=\"onClick\" :data-item=\"index\">\r\n\t\t\t\t\t\t<view class=\"view-item\">\r\n\t\t\t\t\t\t\t<image class=\"img-class\" :src=\"item.background?item.background:'https://img.0728jh.com/1332139872148000768/material/b0911111-12b9-4255-a6b9-f16c3c90c3df.png'\" mode=\"aspectFill\" ></image>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<image v-if=\"index==checkIndex\" class=\"check-is\" src=\"https://img.0728jh.com/1332139872148000768/material/b0911111-12b9-4255-a6b9-f16c3c90c3df.png\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t\t</view>\r\n\t\t\t</block>\r\n\t\t\t</scroll-view>\t\r\n\t\t</view>\r\n\t\t\r\n\t\t<view class=\"content\">\r\n\t\t\t<view class=\"flex_row_c_c modalView\" :class=\"qrShow?'show':''\" @tap=\"hideQr()\">\r\n\t\t\t\t<view class=\"flex_column\">\r\n\t\t\t\t\t<view class=\"backgroundColor-white padding1vh border_radius_10px\">\r\n\t\t\t\t\t\t<image :src=\"poster.finalPath || ''\" mode=\"widthFix\" class=\"posterImage\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"flex_row marginTop2vh\">\r\n\t\t\t\t\t\t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"saveImage()\">保存图片</button>\r\n\t\t\t\t\t\t<!-- \t<button type=\"primary\" size=\"mini\" @tap.prevent.stop=\"share()\">分享图片</button> -->\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<!-- <view class=\"img-default-class\">\r\n\t\t\t\t<image src=\"https://img.0728jh.com/staticImg/authandphone.png\"></image>\r\n\t\t\t</view> -->\r\n\t\t<!-- \t<button v-if=\"wxUser.nickName\" class=\"haibao\" :disabled=\"disabled\" type=\"primary\" @tap=\"shareFc()\">生成海报</button>\r\n\t\t\t<button v-else class=\"haibao\" type=\"primary\" :disabled=\"disabled\" @click=\"getUserProfile\">生成海报</button> -->\r\n\t\t\t<view class=\"hideCanvasView\">\r\n\t\t\t\t<canvas class=\"hideCanvas\" id=\"default_PosterCanvasId\" canvas-id=\"default_PosterCanvasId\" :style=\"{width: (poster.width||10) + 'px', height: (poster.height||10) + 'px'}\"></canvas>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\n</template>\n\n<script>\r\n\timport api from '../api/home.js'\r\n\timport _app from '../../utils/QS-SharePoster/app.js';\r\n\timport {\r\n\t\tgetSharePoster\r\n\t} from '../../utils/QS-SharePoster/QS-SharePoster.js';\r\n\r\n\texport default {\r\n\t\tdata:function(){\r\n\t\t\treturn {\r\n\t\t\t\tshareInfo:{},\r\n\t\t\t\tshareInfoList:[],\r\n\t\t\t\tcheckIndex:0,\r\n\t\t\t\tposter: {},\r\n\t\t\t\tposterImage: '',\r\n\t\t\t\tcanvasId: 'default_PosterCanvasId',\r\n\t\t\t\tqrShow: false,\r\n\t\t\t\twxUser: getApp().globalData.wxUser,\r\n\t\t\t\tbaseBudding: {},\r\n\t\t\t\tQcode: '',\r\n\t\t\t\tpconsultantList: [],\r\n\t\t\t\tdisabled: true,\r\n\t\t\t\tnickName: '',\r\n\t\t\t\tprojectItem: getApp().globalData.projectItem,\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tasync getShareInfo() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet id = getApp().globalData.projectItem.id\r\n\t\t\t\treturn new Promise((res,rej)=>{\r\n\t\t\t\t\tthat.http(api.ShareInfo + \"/\" + id, 'GET', {}, false).then((reslut)=>{\r\n\t\t\t\t\t\t// console.log(\"___________________________________\")\r\n\t\t\t\t\t\t// console.log(reslut)\r\n\t\t\t\t\t\t// console.log()\r\n\t\t\t\t\t\t// console.log(Object.prototype.toString.call(reslut.data) == \"[object Object]\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif(Object.prototype.toString.call(reslut.data) == \"[object Array]\"){\r\n\t\t\t\t\t\t\tthat.shareInfoList = reslut.data;\r\n\t\t\t\t\t\t\tthat.shareInfo=reslut.data[0];\r\n\t\t\t\t\t\t\tres(\"success\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tlet sharelistcopy= [];\r\n\t\t\t\t\t\t\t\tsharelistcopy.push(reslut.data);\r\n\t\t\t\t\t\t\t\tthat.shareInfoList=sharelistcopy;\r\n\t\t\t\t\t\t\t\tthat.shareInfo=reslut.data;\r\n\t\t\t\t\t\t\tres(\"success\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync getShareCode() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet scene = '';\r\n\t\t\t\tlet wxUser = getApp().globalData.wxUser\r\n\t\t\t\tconsole.log(wxUser)\r\n\t\t\t\tlet project = getApp().globalData.projectItem\r\n\t\t\t\tscene = 'age_' + project.affiliationCode + '_' + wxUser.userCode\r\n\t\t\t\tconsole.log(scene)\r\n\t\t\t\tlet nickName = that.wxUser.realName ? that.wxUser.realName : that.wxUser.nickName\r\n\t\t\t\tif (nickName) {\r\n\t\t\t\t\tif (nickName.length > 4) {\r\n\t\t\t\t\t\tnickName = nickName.substring(0, 5)\r\n\t\t\t\t\t}\r\n\t\t\t\t} else {\r\n\t\t\t\t\tnickName = \"\"\r\n\t\t\t\t}\r\n\t\t\t\tthat.nickName = nickName + '向你推荐'\r\n\t\t\t\tconsole.log(scene)\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\tthat.http(api.ShareCode, 'POST', {\r\n\t\t\t\t\t\tscene: scene,\r\n\t\t\t\t\t\tpage: 'pages/index/index'\r\n\t\t\t\t\t}, false).then(res => {\r\n\t\t\t\t\t\tconsole.log(\"ShareCode\")\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.code == 0) {\r\n\t\t\t\t\t\t\tconst fsm = wx.getFileSystemManager();\r\n\t\t\t\t\t\t\tconst FILE_BASE_NAME = 'tmp_img_src';\r\n\t\t\t\t\t\t\tlet filePath = `${wx.env.USER_DATA_PATH}/${FILE_BASE_NAME}.jpg`;\r\n\t\t\t\t\t\t\t//console.log(res.data)\r\n\t\t\t\t\t\t\t// that.baseqred=res.data;\r\n\t\t\t\t\t\t\tfsm.writeFile({\r\n\t\t\t\t\t\t\t\tfilePath,\r\n\t\t\t\t\t\t\t\tdata: res.data,\r\n\t\t\t\t\t\t\t\tencoding: 'base64',\r\n\t\t\t\t\t\t\t\tsuccess(ress) {\r\n\t\t\t\t\t\t\t\t\tconsole.log(\"dizhi\")\r\n\t\t\t\t\t\t\t\t\tconsole.log(filePath)\r\n\t\t\t\t\t\t\t\t\tthat.Qcode = filePath\r\n\t\t\t\t\t\t\t\t\t//that.shareFc()\r\n\t\t\t\t\t\t\t\t\t//resolve(filePath)\r\n\t\t\t\t\t\t\t\t\tthat.disabled = false\r\n\t\t\t\t\t\t\t\t\tl(filePath);\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\tfail() {\r\n\t\t\t\t\t\t\t\t\t// this.canvasFlag=true;\r\n\t\t\t\t\t\t\t\t\t// uni.showToast({title:'海报生成失败',duration:2000,icon:'none'});\r\n\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//})\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tonClick(e){\r\n\t\t\t\tconsole.log(e);\r\n\t\t\t\tlet iss=e.currentTarget.dataset.item\r\n\t\t\t\tconsole.log(iss)\r\n\t\t\t\tthis.checkIndex=iss\r\n\t\t\t\tthis.shareInfo=this.shareInfoList[iss];\r\n\t\t\t},\r\n\tasync shareFc() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t// console.log(\"------------------------------查看分享数据列表---------------------------------------------\")\r\n\t\t\t\t// console.log(that.wxUser)\r\n\t\t\t\t// console.log(that.projectItem)\r\n\t\t\t\t// console.log(that.shareInfo)\r\n\t\t\t\t// console.log(that.Qcode)\r\n\t\t\t\t// console.log(\"------------------------------查看分享数据列表---------------------------------------------\")\r\n\t\t\t\ttry {\r\n\t\t\t\t\t//console.log('准备生成:' + new Date())\r\n\t\t\t\t\t// console.log(that.Qcode);\r\n\t\t\t\t\tlet fontColor = that.shareInfo.fontColor || 'black'\r\n\r\n\t\t\t\t\tconst d = await getSharePoster({\r\n\t\t\t\t\t\t_this: that, //若在组件中使用 必传\r\n\t\t\t\t\t\ttype: 'testShareType',\r\n\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t//访问接口获取背景图携带自定义数据\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tposterCanvasId: that.canvasId, //canvasId\r\n\t\t\t\t\t\tdelayTimeScale: 20, //延时系数\r\n\t\t\t\t\t\t//backgroundImage:'https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1589767098&di=5ef3ed2943a6b6f968657922a55e936c&imgtype=jpg&er=1&src=http%3A%2F%2Fattach.bbs.letv.com%2Fforum%2F201512%2F06%2F093810sxjxayyhtetxnhpn.jpg',\r\n\t\t\t\t\t\tdrawDelayTime:200,\r\n\t\t\t\t\t\tbackgroundImage: that.shareInfo.background,\r\n\t\t\t\t\t\t// background: {\r\n\t\t\t\t\t\t// \twidth: 1080,\r\n\t\t\t\t\t\t// \theight: 1920,\r\n\t\t\t\t\t\t// \tbackgroundColor: '#FFFFFF'\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t// drawArray: ({}),\r\n\t\t\t\t\t\tdrawArray: ({\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\tconst dx = bgObj.width * 0.3;\r\n\t\t\t\t\t\t\tconst fontSize = bgObj.width * 0.045;\r\n\t\t\t\t\t\t\tconst lineHeight = bgObj.height * 0.04;\r\n\r\n\t\t\t\t\t\t\t//可直接return数组，也可以return一个promise对象, 但最终resolve一个数组, 这样就可以方便实现后台可控绘制海报\r\n\t\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\t\trs([\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\t// \r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\ttext: that.shareInfo.content,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\t\tcolor: fontColor,\r\n                                        fontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\talpha: .8,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width - 40,\r\n\t\t\t\t\t\t\t\t\t\t\t//maxWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: 20,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - bgObj.height * 0.18\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'image',\r\n\t\t\t\t\t\t\t\t\t\turl: that.wxUser.headimgUrl,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\tdx: 20,\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 2,\r\n\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - (bgObj.width * 0.27) ,\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\t\t\tlet scale = bgObj.width * 0.2 / imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tcircleSet: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tx: imageInfo.width * scale / 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ty: bgObj.width * 0.2 / 2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr: bgObj.width * 0.2 / 2\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, // 圆形图片 , 若circleSet与roundRectSet一同设置 优先circleSet设置\r\n\t\t\t\t\t\t\t\t\t\t\t\tdWidth: imageInfo.width * scale, // 因为设置了圆形图片 所以要乘以2\r\n\t\t\t\t\t\t\t\t\t\t\t\tdHeight: bgObj.width * 0.2,\r\n\t\t\t\t\t\t\t\t\t\t\t\t/* roundRectSet: { // 圆角矩形\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tr: imageInfo.width * .1\r\n\t\t\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t// that.projectItem.projectName\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\tfontStyle: 'italic',\r\n\t\t\t\t\t\t\t\t\t\ttext: that.projectItem.projectName,\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize + 2,\r\n\t\t\t\t\t\t\t\t\t\tfontWeight: 'bold',\r\n\t\t\t\t\t\t\t\t\t\tcolor: fontColor,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//  maxWidth: bgObj.width-100,\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 450,\r\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\t\t_app.log('index页面的text的infocallback ，textlength:' + textLength);\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width * 0.27,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - lineHeight * 3.0\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 0,\r\n\t\t\t\t\t\t\t\t\t\tid: 'tag1' //自定义标识\r\n\t\t\t\t\t\t\t\t\t},\r\n// \r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\ttext: that.wxUser.nickName,\r\n\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\t\tcolor: fontColor,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 1,\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//  maxWidth: bgObj.width-100,\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 450,\r\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tallInfoCallback({ //v3.0.1 更新 可以获取drawArray中全部数据\r\n\t\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t\t} = {}) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst obj = drawArray.find(item => item.id === 'tag1');\r\n\t\t\t\t\t\t\t\t\t\t\t/* return {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight\r\n\t\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t\t\t//也可以return promise对象\r\n\t\t\t\t\t\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trs({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\ttext: '向你推荐',\r\n\r\n\t\t\t\t\t\t\t\t\t\tsize: fontSize,\r\n\t\t\t\t\t\t\t\t\t\tcolor: fontColor,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tserialNum: 1,\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\t//  maxWidth: bgObj.width-100,\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: 370,\r\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tallInfoCallback({ //v3.0.1 更新 可以获取drawArray中全部数据\r\n\t\t\t\t\t\t\t\t\t\t\tdrawArray\r\n\t\t\t\t\t\t\t\t\t\t} = {}) {\r\n\t\t\t\t\t\t\t\t\t\t\tconst obj = drawArray.find(item => item.id === 'tag1');\r\n\t\t\t\t\t\t\t\t\t\t\t/* return {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight\r\n\t\t\t\t\t\t\t\t\t\t\t} */\r\n\t\t\t\t\t\t\t\t\t\t\t//也可以return promise对象\r\n\t\t\t\t\t\t\t\t\t\t\treturn new Promise((rs, rj) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trs({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdx: obj.dx,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdy: obj.dy + lineHeight + 55\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\t\t}, 1);\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\t\t\ttype: 'text',\r\n\t\t\t\t\t\t\t\t\t\ttext: '长按识别小程序码',\r\n\t\t\t\t\t\t\t\t\t\tsize: 40,\r\n\t\t\t\t\t\t\t\t\t\tcolor: fontColor,\r\n\t\t\t\t\t\t\t\t\t\talpha: 1,\r\n\t\t\t\t\t\t\t\t\t\ttextAlign: 'left',\r\n\t\t\t\t\t\t\t\t\t\ttextBaseline: 'middle',\r\n\t\t\t\t\t\t\t\t\t\tlineFeed: {\r\n\t\t\t\t\t\t\t\t\t\t\tmaxWidth: bgObj.width - 40,\r\n\t\t\t\t\t\t\t\t\t\t\t//maxWidth: 100,\r\n\t\t\t\t\t\t\t\t\t\t\tlineHeight: 50,\r\n\t\t\t\t\t\t\t\t\t\t\tlineNum: 1,\r\n\t\t\t\t\t\t\t\t\t\t\tdx: -1\r\n\t\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t\tinfoCallBack(textLength) {\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\t\treturn {\r\n\t\t\t\t\t\t\t\t\t\t\t\tdx: bgObj.width-bgObj.width*0.35,\r\n\t\t\t\t\t\t\t\t\t\t\t\tdy: bgObj.height - lineHeight * 0.6\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t\t\t\t// \ttype: 'image',\r\n\t\t\t\t\t\t\t\t\t// \turl: that.Qcode,\r\n\t\t\t\t\t\t\t\t\t// \talpha: 1,\r\n\t\t\t\t\t\t\t\t\t// \tdx:20,\r\n\t\t\t\t\t\t\t\t\t// \tserialNum:2,\r\n\t\t\t\t\t\t\t\t\t// \tdy: bgObj.height - bgObj.width * 0.3,\r\n\t\t\t\t\t\t\t\t\t// \tinfoCallBack(imageInfo) {\r\n\t\t\t\t\t\t\t\t\t// \t\tlet scale = bgObj.width * 0.2 / imageInfo.height;\r\n\t\t\t\t\t\t\t\t\t// \t\treturn {\r\n\t\t\t\t\t\t\t\t\t// \t\t\tcircleSet: {\r\n\t\t\t\t\t\t\t\t\t// \t\t\t\tx: imageInfo.width * scale / 2,\r\n\t\t\t\t\t\t\t\t\t// \t\t\t\ty: bgObj.width * 0.2 / 2,\r\n\t\t\t\t\t\t\t\t\t// \t\t\t\tr: bgObj.width * 0.2 / 2\r\n\t\t\t\t\t\t\t\t\t// \t\t\t}, // 圆形图片 , 若circleSet与roundRectSet一同设置 优先circleSet设置\r\n\t\t\t\t\t\t\t\t\t// \t\t\tdWidth: imageInfo.width * scale, // 因为设置了圆形图片 所以要乘以2\r\n\t\t\t\t\t\t\t\t\t// \t\t\tdHeight: bgObj.width * 0.2,\r\n\t\t\t\t\t\t\t\t\t// \t\t\t/* roundRectSet: { // 圆角矩形\r\n\t\t\t\t\t\t\t\t\t// \t\t\t\tr: imageInfo.width * .1\r\n\t\t\t\t\t\t\t\t\t// \t\t\t} */\r\n\t\t\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t\t\t// },\r\n\t\t\t\t\t\t\t\t]);\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t// textArray: ({\r\n\r\n\t\t\t\t\t\t// })=>{\r\n\r\n\t\t\t\t\t\t// },\r\n\t\t\t\t\t\tsetDraw: ({\r\n\t\t\t\t\t\t\tContext,\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t\t}) => {\r\n\t\t\t\t\t\t\t// Context.setFillStyle('black');\r\n\t\t\t\t\t\t\t// Context.setGlobalAlpha(0.3);\r\n\t\t\t\t\t\t\t// Context.fillRect(0, bgObj.height - 400, bgObj.width, 400);\r\n\t\t\t\t\t\t\tContext.setGlobalAlpha(1);\r\n\r\n\t\t\t\t\t\t\t//Context.setFillStyle('white');\r\n\t\t\t\t\t\t\t// Context.setFontSize(50);\r\n\t\t\t\t\t\t\t// let text = '取舍'bgObj.width-bgObj.width*0.3,bgObj.height - bgObj.width * 0.3Qcode\r\n\t\t\t\t\t\t\tContext.drawImage(that.Qcode, bgObj.width - bgObj.width * 0.3, bgObj.height - bgObj.width * 0.268, 200, 200)\r\n\t\t\t\t\t\t\t//  Context.fillText(text, bgObj.width - text.length * 50 - 50, bgObj.height - 185);\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsetCanvasWH: ({\r\n\t\t\t\t\t\t\tbgObj,\r\n\t\t\t\t\t\t\ttype,\r\n\t\t\t\t\t\t\tbgScale\r\n\t\t\t\t\t\t}) => { // 为动态设置画布宽高的方法，\r\n\t\t\t\t\t\t\tthat.poster = bgObj;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t});\r\n\t\t\t\t\t//\tconsole.log('海报生成成功, 时间:' + new Date() + '， 临时路径: ' + d.poster.tempFilePath)\r\n\t\t\t\t\tthat.poster.finalPath = d.poster.tempFilePath;\r\n\t\t\t\t\tthat.qrShow = true;\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\t_app.hideLoading();\r\n\t\t\t\t\t_app.showToast(JSON.stringify(e));\r\n\t\t\t\t\t//console.log(JSON.stringify(e));\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ttoJSON() {\r\n\t\t\t\r\n\t\t\t\treturn this;\r\n\t\t\t},\r\n\t\t\tsaveImage() {\r\n\t\t\t\t// #ifndef H5\r\n\t\t\t\tuni.saveImageToPhotosAlbum({\r\n\t\t\t\t\tfilePath: this.poster.finalPath,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t_app.showToast('保存成功');\r\n\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t\t// #endif\r\n\t\t\t\t// #ifdef H5\r\n\t\t\t\t_app.showToast('保存了');\r\n\t\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t\r\n\t\t\t},\r\n\t\t\tshare() {\r\n\t\t\t\t// #ifdef APP-PLUS\r\n\t\t\t\t_app.getShare(false, false, 2, '', '', '', this.poster.finalPath, false, false);\r\n\t\t\t\t// #endif\r\n\t\t\t\r\n\t\t\t\t// #ifndef APP-PLUS\r\n\t\t\t\t_app.showToast('分享了');\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\t\t\thideQr() {\r\n\t\t\t\tthis.qrShow = false;\r\n\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tasync created(){\r\n\t\t\tlet that=this;\r\n\t\t\tthat.projectItem= getApp().globalData.projectItem;\r\n\t\t\tthat.wxUser=getApp().globalData.wxUser;\r\n\t\t\t\r\n\t\t\tlet res =await that.getShareInfo()\r\n\t\t\tlet shareCode = await that.getShareCode()\r\n\t\t\tconsole.log(shareCode)\r\n\t\t\tconsole.log(that.wxUser)\r\n\t\t\tconsole.log(that.projectItem);\r\n\t\t\tconsole.log(that.shareInfoList)\r\n\t\t\tconsole.log(res)\r\n\t\t}\r\n\r\n\t}\n</script>\n<style>\r\n\t.font-overflow{\r\n\t\t  white-space:nowrap;\r\n\t\t  overflow: hidden;\r\n\t\t  text-overflow: ellipsis;\r\n\t\t  font-size: 18rpx;\r\n\t}\r\n\t.center-dstr{\r\n\t\twidth: 210rpx;\r\n\t\tmargin-left: 10rpx;\r\n\t\tmargin-top: 30rpx;\r\n\t}\r\n\t.chang{\r\n\t\tposition: absolute;\r\n\t\tfont-size: 18rpx;\r\n\t\tz-index: 9;\r\n\t\tleft: 325rpx;\r\n\t\tbottom: 30rpx;\r\n\t\t\r\n\t}\r\n\t.text-title{\r\n\t\tfont-weight: 500;\r\n\t}\r\n\t.projectName{\r\n\t\tmargin-top: 640rpx;\r\n\t}\r\n\t.buttom-content{\r\n\t\tdisplay: flex;\r\n\t\t\r\n\t\t\r\n\t}\r\n\t.erweima{\r\n\t\tmargin-left: 20rpx;\r\n\t\tmargin-top: 20rpx;\r\n\t\theight: 100rpx;\r\n\t\twidth: 100rpx;\r\n\t}\r\n\t.userImage{\r\n\t\tmargin-top: 20rpx;\r\n\t\tborder-radius: 50%;\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t}\r\n\t.button-m{\r\n\t\tmargin:80rpx 0rpx;\r\n\t}\r\n\t.button-class{\r\n\t\twidth: 50%;\r\n\t\tborder-radius: 50rpx;\r\n\t\tborder:solid #007AFF 1rpx;\r\n\t\t\r\n\t}\r\n\t\t.huatu{\r\n\t\t\t/* border:#007AFF solid 1rpx; */\r\n\t\t\twidth: 487rpx;\r\n\t\t\theight: 850rpx;\r\n\t\t}\r\n\t.top-one{\r\n\t\twidth: 487rpx;\r\n\t\theight: 850rpx;\r\n\t\t/* border:solid #000000 1rpx; */\r\n\t\tmargin-top: 30rpx;\r\n\t\tdisplay: flex;\r\n\t\tmargin:auto;\r\n\t}\r\n\t.fc{\r\n\t\twidth: 487rpx;\r\n\t\theight: 850rpx;\r\n\t\tposition: absolute;\r\n\t\tpadding-left: 10rpx;\r\n\t\tborder:solid #4CD964 1rpx;\r\n\t\t\r\n\t}\r\n\t.item-one{\r\n\t\tdisplay: flex;\r\n\t\tmargin-right: 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t\tborder: solid #007AFF 1rpx;\r\n\t\tbox-shadow:  5px 10px 5px #888888;\r\n\t}\r\n\t.item-two{\r\n\t\tdisplay: flex;\r\n\t\tmargin-right: 30rpx;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\t.img-class{\r\n\t\twidth:140rpx;\r\n\t\theight: 180rpx;\r\n\t\r\n\t}\r\n\t.view-item{\r\n\t\t\r\n\t}\r\n\t.view-class{\r\n\t\tdisplay: flex;\r\n\t\t\r\n\t}\r\n\t.kkk{\r\n\t/* \theight: 200rpx;\r\n\t\twidth: 300rpx;\r\n\t\tborder: #007AFF; */\r\n\t}\r\n\t.check-is{\r\n\t\t\r\n\t\t/* margin-top:-100rpx; */\r\n\t\twidth: 30rpx;\r\n\t\theight: 30rpx;\r\n\t\tposition: absolute;\r\n\t\tz-index: 99;\r\n\t\ttop:165rpx;\r\n\t\tmargin-left: 118rpx;\r\n\t\r\n\t\tbackground: url('https://img.0728jh.com/1332139872148000768/material/b0911111-12b9-4255-a6b9-f16c3c90c3df.png') no-repeat;\r\n\t\tbackground-size: 100% 100%;\r\n\t}\t\r\n\t.img-default-class {\r\n\t\tpadding: 100rpx 0rpx 0rpx 0rpx;\r\n\t}\r\n\t\r\n\t.haibao {\r\n\t\tmargin-top: 150rpx;\r\n\t}\r\n\t\r\n\t.button-wrapper {\r\n\t\twidth: 320rpx;\r\n\t\theight: 72rpx;\r\n\t\tposition: absolute;\r\n\t\tbottom: 190rpx;\r\n\t\tleft: 215rpx;\r\n\t\tz-index: 16;\r\n\t\t/* \tborder:solid 1rpx #000000; */\r\n\t}\r\n\t\r\n\t.save_btn {\r\n\t\t/* border:solid 1rpx #000000; */\r\n\t\tfont-size: 30rpx;\r\n\t\tline-height: 72rpx;\r\n\t\tcolor: #fff;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\ttext-align: center;\r\n\t\tborder-radius: 45rpx;\r\n\t\tborder-radius: 36rpx;\r\n\t\tz-index: 10;\r\n\t}\r\n\t\r\n\t.canvas {\r\n\t\tposition: fixed !important;\r\n\t\ttop: 0 !important;\r\n\t\tleft: 0 !important;\r\n\t\tdisplay: block !important;\r\n\t\twidth: 100% !important;\r\n\t\theight: 100% !important;\r\n\t\tz-index: 10;\r\n\t}\r\n\t\r\n\t/* .view-canvas{\r\n\t\twidth: 100%;\r\n\t\theight: 500rpx;\r\n\t} */\r\n\t.shares-vips {\r\n\t\theight: 100vh;\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\t\r\n\t\r\n\t.hideCanvasView {\r\n\t\tposition: relative;\r\n\t}\r\n\t\r\n\t.hideCanvas {\r\n\t\tposition: fixed;\r\n\t\ttop: -99999upx;\r\n\t\tleft: -99999upx;\r\n\t\tz-index: -99999;\r\n\t}\r\n\t\r\n\t.flex_row_c_c {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tjustify-content: center;\r\n\t\talign-items: center;\r\n\t}\r\n\t\r\n\t.modalView {\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\topacity: 0;\r\n\t\toutline: 0;\r\n\t\ttransform: scale(1.2);\r\n\t\tperspective: 2500upx;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\ttransition: all .3s ease-in-out;\r\n\t\tpointer-events: none;\r\n\t\tbackface-visibility: hidden;\r\n\t\tz-index: 999;\r\n\t}\r\n\t\r\n\t.modalView.show {\r\n\t\topacity: 1;\r\n\t\ttransform: scale(1);\r\n\t\tpointer-events: auto;\r\n\t}\r\n\t\r\n\t.flex_column {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\t\r\n\t.backgroundColor-white {\r\n\t\tbackground-color: white;\r\n\t}\r\n\t\r\n\t.border_radius_10px {\r\n\t\tborder-radius: 10px;\r\n\t}\r\n\t\r\n\t.padding1vh {\r\n\t\tpadding: 1vh;\r\n\t}\r\n\t\r\n\t.posterImage {\r\n\t\twidth: 70vw;\r\n\t}\r\n\t\r\n\t.flex_row {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t}\r\n\t\r\n\t.marginTop2vh {\r\n\t\tmargin-top: 2vh;\r\n\t}\r\n\t\t\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629702870527\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}