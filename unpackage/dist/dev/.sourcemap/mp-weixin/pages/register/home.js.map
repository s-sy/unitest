{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?92f5","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?9850","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?668b","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?51d9","uni-app:///pages/register/home.vue","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?ed64","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?9e4d","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?6b59","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?d636","uni-app:///pages/auth/home.vue","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?4633","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?f5cb"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","_self","_c","recyclableRender","staticRenderFns","_withStripped","console"],"mappings":";;;;wEAAA,qBACA,sBACA,4C,mDACAA,EAAWC,a;;;;2DCHX,qQACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,0BACZ,aAAAF,E;;;;2GCvBf,izB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,qeAA8mB,eAAG,G;;;;0ICiKjnB,iCACA,uCADA,IAEA,gC,yDACA,CACA,gBACA,OACA,aACA,0CACA,eACA,eACA,gBACA,QACA,UACA,SACA,YACA,UAGA,eACA,kBACA,oBACA,gBACA,qBACA,uBACA,sBAGA,OAxBA,WA0BA,6CACA,6CAEA,sBACA,kBAKA,SACA,UADA,WACA,WACA,OACA,4DACA,sBACA,eACA,gBACA,qBACA,oBACA,sCAGA,qBACA,mBAEA,oBAGA,0BAEA,wBACA,8BAEA,wBAEA,4BAGA,yBAEA,2CAEA,oBAhCA,SAgCA,GACA,4CAEA,eAnCA,WAoCA,WAEA,oDACA,UACA,WACA,qBACA,6BAEA,yBAIA,UAhDA,WAiDA,WACA,WACA,cAQA,mBACA,aACA,iBACA,aACA,mBAIA,qBACA,iBACA,aACA,8BACA,aACA,kBALA,CAWA,oBACA,KACA,OACA,MAEA,OACA,gBACA,aACA,8BACA,kGAIA,2DAEA,OACA,cACA,aACA,aACA,aACA,iBAEA,uBAGA,gBACA,UAGA,gCACA,qDAEA,cA1DA,aACA,gBACA,aACA,eA0EA,QAjIA,WAmIA,WAEA,qBAQA,wBAQA,2BASA,kBACA,0BAaA,2BAQA,6BAQA,2BAUA,OACA,uCACA,8BACA,yBACA,6BACA,qBACA,mCACA,6BACA,gCAKA,oEAEA,kBACA,cACA,aACA,kBACA,aACA,cAEA,4BA/BA,aACA,kBACA,aACA,mBAXA,aACA,gBACA,aACA,mBAXA,aACA,gBACA,aACA,mBAhBA,aACA,kBACA,aACA,mBAbA,aACA,eACA,aACA,mBAXA,aACA,cACA,aACA,mBAXA,aACA,gBACA,aACA,eAuFA,mBAEA,+BAEA,mBApOA,SAoOA,GAEA,iCAEA,kBAxOA,SAwOA,GACA,oCAEA,oBA3OA,SA2OA,GACA,sCAEA,gBA9OA,SA8OA,GACA,kCAEA,qBAjPA,SAiPA,GACA,uCAEA,uBApPA,SAoPA,GACA,yCAEA,UAvPA,WAuPA,WACA,eACA,QACA,wBACA,8BAEA,oBAEA,sBAEA,cACA,qBACA,QACA,cACA,YACA,iBACA,QACA,mDACA,kDAEA,UACA,eACA,kBAEA,oBAEA,kDAMA,UAvRA,WAwRA,0BAEA,wBACA,WACA,+DACA,gBAGA,qBACA,wC;;;;2DCxeA,qQACId,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,sBACZ,aAAAF,E;;;;2GCvBf,izB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eACJH,EAAII,MAAMC,IAEjBC,GAAmB,EACnBC,EAAkB,GACtBR,EAAOS,eAAgB,G;;;;2DCRvB,qeAA8mB,eAAG,G;;;;yMCajnB,gCACA,yC,qXACA,CACA,gBACA,UAIA,OACA,UACA,YACA,kBAEA,YACA,aACA,aAGA,QAhBA,WAiBA,yBAEA,SACA,2BACA,WAEA,yCACA,6BAEA,cAGA,uCACA,qCACA,8BAMA,UAlBA,WAmBA,WAEA,qCAGA,OAFA,wBACA,eACA,2BACA,8DACA,wDACA,eACA,YAIA,iBAhCA,WAgCA,gJACA,IACA,oEACA,6CACA,mCAJA,SAKA,cALA,OAmBA,IAdA,EALA,OAMA,8DACAC,QAAA,OACAA,QAAA,sDACA,SACA,mCACA,eACA,8CAEA,UACA,MAEA,GACA,eACA,mBAEA,uBAEA,gBACA,uCAMA,4FACA,8CA/BA,+CAkCA,yBACA,WAKA,eAeA,sCACA,uBACA,iCACA,WACA,mCACA,aACA,MACA,iBAEA,oBAIA,GAHA,kBACA,eAEA,mBAGA,IAFA,IACA,EADA,SAEA,mBACA,qBACA,WAGA,EACA,iBAEA,aACA,6BACA,YACA,oBAKA,aACA,uBACA,YACA,mBAOA,qBAjIA,WAkIA,WACA,kCACA,yBACA,eACA,WACA,mCACA,aACA,MACA,iBAEA,oBAGA,GAFA,oBACA,eACA,mBAGA,IAFA,IACA,EADA,SAEA,mBACA,wBACA,WAGA,EACA,2BAEA,aACA,gCACA,YACA,oBAKA,aACA,uBACA,YACA,mBAMA,sBA3KA,SA2KA,GACA,WACA,IACA,kCACA,gCACA,6EACA,GACA,WACA,WACA,SAEA,OACA,sBAEA,cACA,SAEA,eACA,YAEA,oBACA,UAEA,QACA,mBACA,cACA,cAEA,UACA,yBAEA,YACA,YAEA,aACA,yCAEA,YACA,iFAEA,QACA,aAKA,eACA,WACA,wDACA,cACA,OACA,oBAGA,iBAOA,YAxOA,SAwOA,GACA,WACA,IAEA,kCAKA,WACA,wDACA,cACA,MACA,WACA,OACA,qBACA,cACA,cAEA,cACA,4DACA,cACA,cAEA,QACA,mBACA,cACA,cAEA,cACA,SACA,cACA,cAEA,eACA,WACA,cACA,cAEA,UACA,uBACA,cACA,cAEA,YACA,gDACA,cACA,WACA,eAGA,YACA,gGACA,gBACA,cACA,sCAEA,aACA,6DACA,cACA,cAEA,WACA,uBACA,cACA,cAEA,UACA,wBACA,cACA,cAGA,QACA,YAGA,qBAEA,oBAGA,iBAMA,UAhUA,SAgUA,OACA,IACA,GACA,iBACA,eACA,OAKA,OAHA,kBACA,gBACA,OACA,2BACA,sBAIA,WACA,uBACA,cACA,OACA,aACA,QACA,mDACA,kDAEA,oBACA,uBACA,MAEA,aAMA,QAlWA,WAmWA,WACA,kCACA,4DACA,QACA,kCACA,gBACA,+BACA,oBACA,WAEA,aAOA,gBApXA,SAoXA,uJACA,IADA,SAEA,mBAFA,UAEA,EAFA,QAGA,EAHA,iCAIA,YAJA,UAIA,EAJA,OAKA,4CACA,0BACA,6CACA,iBARA,oBASA,qBACA,aACA,EAXA,kCAYA,eAZA,QAYA,EAZA,OAaA,eACA,WACA,kBAfA,yCAmBA,iBAnBA,QAmBA,EAnBA,OAoBA,WACA,yBArBA,QA0BA,mBA1BA,+CA6FA,aAjdA,WAkdA,WACA,kCACA,4BACA,eACA,8CAEA,OACA,qBACA,qBACA,WACA,qFACA,2FACA,4BAEA,kCAcA,WACA,aACA,8BACA,OACA,QACA,mDACA,kDAEA,oBAEA,sBACA,iDACA,eACA,iDACA,UACA,UAEA,kBASA,WAxgBA,WAygBA,WACA,kCACA,GACA,qBACA,qBACA,WACA,qFACA,2FACA,4BAEA,kCAMA,WACA,aACA,2BACA,OACA,oBAEA,oBACA,uBACA,UACA,UAEA,oB;;;;2DCtkBA,0qBAAg4B,eAAG,G;;;;;;;;2DCAn4B,0qBAAg4B,eAAG,G","file":"pages/register/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pages/register/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=3bfdf8bc&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/register/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=3bfdf8bc&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<cu-custom bgColor=\"bg-white\" :isBack=\"true\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\" class=\"title-text\">注册经纪人</block>\r\n\t\t</cu-custom>\r\n        <view class=\"\" v-if=\"!wxUser.phone\">\r\n        \t<auth @refData=\"userInfoGets\" :showText=\"'微信一键登录'\" :sendPassed=\"false\"></auth>\r\n        </view>\r\n\t\t<view v-else class=\"recommend-infor\">\r\n\t\t\t<view class=\"recommend-infor-two\">\r\n\t\t\t\t<view class=\"recommend-name\">姓名</view>\r\n\t\t\t\t<view class=\"recommend-input-tao\">\r\n\t\t\t\t\t<input class=\"recommend-input\" placeholder-class=\"input-class\" placeholder=\"请输入您的姓名\" :value=\"name\" @input=\"getname\" />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"recommend-infor-two\">\r\n\t\t\t\t<view class=\"recommend-name\">性别</view>\r\n\t\t\t\t<view class=\"recommend-input-tao\">\r\n\t\t\t\t\t<radio-group @change=\"radioChange\">\r\n\t\t\t\t\t\t<view class=\"recommend-input-radio\">\r\n\t\t\t\t\t\t\t<view class=\"radio-item\">\r\n\t\t\t\t\t\t\t\t<label class=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<radio class=\"radio-class\" color=\"#007AFF\" value=\"1\" :checked=\"gender==1\"/>\r\n\t\t\t\t\t\t\t\t\t先生\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"radio-item\">\r\n\t\t\t\t\t\t\t\t<label class=\"text-center\">\r\n\t\t\t\t\t\t\t\t\t<radio class=\"radio-class\" color=\"#007AFF\" value=\"0\" :checked=\"gender==2\"/>\r\n\t\t\t\t\t\t\t\t\t女士\r\n\t\t\t\t\t\t\t\t</label>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</radio-group>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<view class=\"recommend-infor-two\">\r\n\t\t\t\t<view class=\"recommend-name\">电话</view>\r\n\t\t\t\t<view class=\"recommend-input-tao\">\r\n\t\t\t\t\t<input class=\"recommend-input\" placeholder-class=\"input-class\" :placeholder=\"sdf\" :value=\"phone?phone:'' \" disabled=true />\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cukkk\">\r\n\t\t\t\t*请选择经纪人类型\r\n\t\t\t</view>\r\n\t\t\t<view class=\"cu-form-group\">\r\n\t\t\t\t<view class=\"title\">经纪人类型</view>\r\n\t\t\t\t<picker @change=\"PickerChange\" :value=\"pickerIndex\" :range=\"picker\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{pickerIndex>-1?picker[pickerIndex]:'选择'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t\t<view class=\"cu-form-group\" v-if=\"picker[pickerIndex]=='中介公司' \">\r\n\t\t\t\t<view class=\"title\">中介公司</view>\r\n\t\t\t\t<picker @change=\"companyPickerChange\" :value=\"companyIndex\" :range=\"companyList\" range-key=\"name\">\r\n\t\t\t\t\t<view class=\"picker\">\r\n\t\t\t\t\t\t{{companyIndex>-1?companyList[companyIndex].name:'选择'}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</picker>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex\" v-if=\"picker[pickerIndex]=='中介公司' \">\r\n\t\t\t\t<view class=\"companyView\" @tap=\"company\">\r\n\t\t\t\t\t注册中介公司门店\r\n\t\t\t\t</view>\r\n\r\n\t\t\t</view>\r\n\r\n\r\n\t\t\t<!-- <view class=\"recommend-infor-fou\">\r\n\t\t\t\t<view class=\"recommend-major\">备注</view>\r\n\t\t\t\t<view class=\"\"><textarea class=\"textarea\" placeholder-class=\"input-class\" placeholder=\"备注内容\" :value=\"textarea\"\r\n\t\t\t\t\t fixed=\"true\" @input=\"gettextarea\"></textarea></view>\r\n\t\t\t</view> -->\r\n\t\t\t<view class=\"padding flex flex-direction\">\r\n\t\t\t\t<!-- <button class=\"cu-btn bg-grey lg\">玄灰</button> -->\r\n\t\t\t\t<button class=\"cu-btn bg-red margin-tb-sm lg\" @tap=\"regborker\">注册</button>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"cu-modal\" :class=\"modalName=='DialogModal1'?'show':''\">\r\n\t\t\t<view class=\"cu-dialog\">\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"content\">注册中介公司门店</view>\r\n\t\t\t\t\t<view class=\"action\" @tap=\"hideModal\">\r\n\t\t\t\t\t\t<text class=\"cuIcon-close text-red\"></text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"padding-lg bg-white\">\r\n\t\t\t\t\t<view class=\"\" style=\"width:500rpx\">\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t公司名称\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"text\" value=\"\" placeholder=\"请填写公司名称\" @input=\"getCorporationName\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t地址\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"text\" value=\"\" placeholder=\"请填写公司地址\" @input=\"getCompanyAddress\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t联系人\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"text\" value=\"\" placeholder=\"请填写公司联系人姓名\" @input=\"getCompanyPrincipal\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t手机号\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"number\" placeholder=\"请填写公司联系人手机\" @input=\"getcompanyPhone\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t公司总人数\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"number\" value=\"\" placeholder=\"请填写公司总人数\" @input=\"getcompanyTeamNumber\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRow\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t简介\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<input class=\"companyInput\" type=\"text\" value=\"\"  placeholder=\"请填写公司简介\" @input=\"getcompanyIntroduction\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"companyRowImg\">\r\n\t\t\t\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t\t\t\t门店图片\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<image v-if=\"!companyOutletUrl\" @tap=\"uploadImg\" class=\"outImg\" src=\"https://img.0728jh.com/staticImg/pic-jia.png\"\r\n\t\t\t\t\t\t\t mode=\"\"></image>\r\n\t\t\t\t\t\t\t<view class=\"flex\" v-if=\"companyOutletUrl\">\r\n\t\t\t\t\t\t\t\t<image @tap=\"uploadImg\" class=\"outImg\" :src=\"companyOutletUrl\" mode=\"\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"deleteImg\" @tap=\"deleteImg\">\r\n\t\t\t\t\t\t\t\t\tX\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"cu-bar bg-white justify-end\">\r\n\t\t\t\t\t<view class=\"action\">\r\n\t\t\t\t\t\t<button class=\"cu-btn line-green text-green\" @tap=\"hideModal\">取消</button>\r\n\t\t\t\t\t\t<button class=\"cu-btn bg-green margin-left\" @tap=\"commitc\">确定</button>\r\n\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\r\n\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport auth from '../auth/home.vue';\r\n\timport init from '../../utils/initPage.js'\r\n\timport api from '../api/home.js';\r\n\texport default {\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tmodalName: '',\r\n\t\t\t\tpicker: ['注册经纪人', '中介公司', '内部员工（非销售岗)', '业主'],\r\n\t\t\t\tpickerIndex: -1,\r\n\t\t\t\tcompanyList: [],\r\n\t\t\t\tcompanyIndex: -1,\r\n\t\t\t\tname: \"\",\r\n\t\t\t\tgender: '',\r\n\t\t\t\tphone:\"\",\r\n\t\t\t\ttextarea: '',\r\n\t\t\t\twxUser: {},\r\n\r\n\r\n\t\t\t\tcompanyName: \"\",\r\n\t\t\t\tcompanyAddress: \"\",\r\n\t\t\t\tcompanyPrincipal: \"\",\r\n\t\t\t\tcompanyPhone: \"\",\r\n\t\t\t\tcompanyTeamNumber: \"\",\r\n\t\t\t\tcompanyIntroduction: \"\",\r\n\t\t\t\tcompanyOutletUrl: \"\",\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad() {\r\n\t\t\t//console.log(this.wxUser)\r\n\t\t\tconsole.log(\"register_____________________\")\r\n\t\t\tconsole.log(getApp().globalData.projectItem)\r\n\t\t\t\r\n\t\t\tthis.getCompanyList();\r\n\t\t\tthis.getwxUser()\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\r\n\t\tmethods: {\r\n\t\t\tgetwxUser() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.http(api.userInfoGet, 'GET', {}, false).then(res => {\r\n\t\t\t\t\tconsole.log(\"查看用户信息\")\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthis.wxUser=res.data\r\n\t\t\t\t\tthis.phone= res.data.phone\r\n\t\t\t\t\tthis.gender=res.data.sex\r\n\t\t\t\t\tgetApp().globalData.wxUser = res.data\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\thideModal: function() {\r\n\t\t\t\tthis.modalName = '';\r\n\t\t\t},\r\n\t\t\tgetname: function(e) {\r\n\t\t\t\t//console.log(e)\r\n\t\t\t\t//console.log(this.name)\r\n\t\t\t\tthis.name = e.detail.value\r\n\t\t\t},\r\n\t\t\tgettextarea: function(e) {\r\n\t\t\t\tthis.textarea = e.detail.value;\r\n\t\t\t},\r\n\t\t\tradioChange: function(e) { //性别\r\n\t\t\t\t//console.log(e);\r\n\t\t\t\tthis.gender = e.detail.value;\r\n\t\t\t\t//console.log(this.gender);\r\n\t\t\t},\r\n\t\t\tPickerChange: function(e) {\r\n\t\t\t\t//console.log(e);\r\n\t\t\t\tthis.pickerIndex = parseInt(e.detail.value);\r\n\t\t\t},\r\n\t\t\tcompanyPickerChange(e) {\r\n\t\t\t\tthis.companyIndex = parseInt(e.detail.value);\r\n\t\t\t},\r\n\t\t\tgetCompanyList() {\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tthat.http(api.intermediaryCompany + '/list', 'GET', {\r\n\t\t\t\t\tcurrent: 1,\r\n\t\t\t\t\tsize: 100\r\n\t\t\t\t}, false).then(res => {\r\n\t\t\t\t\tconsole.log(\"查看companyList\")\r\n\t\t\t\t//\tconsole.log(res);\r\n\t\t\t\t\tthat.companyList = res.data\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tregborker() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet wxUser=that.wxUser\r\n\t\t\t\tif(that.name==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写正确姓名',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.pickerIndex<0){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请选择经纪人类型',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.pickerIndex==1){\r\n\t\t\t\t\tif(that.companyIndex<0){\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:'请选择经纪人公司，如没有对应公司请注册公司',\r\n\t\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\t\t\t\tlet pickerindex=that.pickerIndex\r\n\t\t\t\t pickerindex=    pickerindex+1;\r\n\t\t\t\tif(pickerindex==4){\r\n\t\t\t\t\tpickerindex=pickerindex+1;\r\n\t\t\t\t}\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\trealName: that.name,\r\n\t\t\t\t\tsex: that.gender,\r\n\t\t\t\t\tuserRole:that.pickerIndex>=0?pickerindex:0,// （0： 普通经纪人，1：注册经纪人 2：中介公司 3，内部员工（非销售岗） 4，内部员工（销售岗）（wu）5，业主）\r\n\t\t\t\t\tintermediaryCompanyId: that.companyIndex >= 0 ? that.companyList[that.companyIndex].id : wxUser.intermediaryCompanyId,\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(data)\r\n\t\t\t\t\r\n\t\t\t\tthat.http(api.userInfoGet,'PUT',data,false).then(res=>{\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\tif(res.ok){\r\n\t\t\t\t\t\tthat.getwxUser()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:\"注册成功\",\r\n\t\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\t\ticon:'success',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\r\n\r\n\t\t\t\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\t\t\t\tdelta:1,\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tlet eventChannel =that.getOpenerEventChannel()\r\n\t\t\t\t\t\t\teventChannel.emit(\"getss\",{data:'test_____________________'})\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t// async userInfoGet() {\r\n\t\t\t// \tlet that = this\r\n\t\t\t// \treturn new Promise((r,l)=>{\r\n\t\t\t// \t\tthat.http(api.userInfoGet, 'GET', {}, false).then((res)=>{\r\n\t\t\t// \t\t\tthat.wxUser = res.data\r\n\t\t\t// \t\t\tgetApp().globalData.wxUser = res.data\r\n\t\t\t// \t\t\tif(res.ok){\r\n\t\t\t// \t\t\t\tr(\"success\");\r\n\t\t\t// \t\t\t}else{\r\n\t\t\t// \t\t\t\tl(\"fail\")\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t});\r\n\t\t\t\t\r\n\t\t\t// },\r\n\t\t\tcommitc() {\r\n\r\n\t\t\t\tlet that = this;\r\n\t\t\t\t\r\n\t\t\t\tif(that.companyName==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写公司名称',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.companyAddress==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写地址',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.companyPrincipal==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写联系人',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\t var re = /^1\\d{10}$/\r\n\t\t\t\t\t    if(!re.test(that.companyPhone)){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'请填写正确电话号码',\r\n\t\t\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\treturn;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tif(that.companyTeamNumber==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写公司人数',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.companyIntroduction==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请填写公司简介',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tif(that.companyOutletUrl==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:'请上传一张门店图片',\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tcreateId: getApp().globalData.wxUser.id,\r\n\t\t\t\t\tcorporationName: that.companyName, //公司名称\r\n\t\t\t\t\taddress: that.companyAddress, //地址\r\n\t\t\t\t\tprincipal: that.companyPrincipal, //联系人\r\n\t\t\t\t\tphone: that.companyPhone, //联系人电话\r\n\t\t\t\t\tintroduction: that.companyIntroduction, //介绍\r\n\t\t\t\t\toutletUrl: that.companyOutletUrl, //门店图片\r\n\t\t\t\t\tteamNumber: that.companyTeamNumber //人数\r\n\r\n\t\t\t\t}\r\n\t\t\t\t//console.log(data);\r\n\r\n\t\t\t\tthat.http(api.intermediaryCompany, 'POST', data, false).then(res => {\r\n\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\tif (res.data == true && res.ok) {\r\n\t\t\t\t\t\tthat.hideModal()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: \"提交成功，等待审核\",\r\n\t\t\t\t\t\t\tduration: 2000,\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tthat.getCompanyList()\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcompany: function() {\r\n\t\t\t\t//console.log(\"123456\")\r\n\t\t\t\tthis.modalName = \"DialogModal1\";\r\n\t\t\t},\r\n\t\t\tgetCorporationName(e) {\r\n\t\t\t\t//console.log(e)\r\n\t\t\t\tthis.companyName = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetCompanyAddress(e) {\r\n\t\t\t\tthis.companyAddress = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetCompanyPrincipal(e) {\r\n\t\t\t\tthis.companyPrincipal = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetcompanyPhone(e) {\r\n\t\t\t\tthis.companyPhone = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetcompanyTeamNumber(e) {\r\n\t\t\t\tthis.companyTeamNumber = e.detail.value\r\n\t\t\t},\r\n\t\t\tgetcompanyIntroduction(e) {\r\n\t\t\t\tthis.companyIntroduction = e.detail.value\r\n\t\t\t},\r\n\t\t\tuploadImg() {\r\n\t\t\t\tuni.chooseImage({\r\n\t\t\t\t\tcount: 1,\r\n\t\t\t\t\tsizeType: ['compressed'],\r\n\t\t\t\t\tsourceType: ['album', 'camera'],\r\n\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t//console.log(res)\r\n\t\t\t\t\t\tlet tempFilePaths = res.tempFilePaths\r\n\r\n\t\t\t\t\t\tuni.uploadFile({\r\n\t\t\t\t\t\t\turl: api.UpLoad,\r\n\t\t\t\t\t\t\tfiles: tempFilePaths,\r\n\t\t\t\t\t\t\tfilePath: tempFilePaths[0],\r\n\t\t\t\t\t\t\tname: 'file',\r\n\t\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t\t\t\t\t\t'third-session': getApp().globalData.thirdSession\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tformData: {\r\n\t\t\t\t\t\t\t\tdir: 'material',\r\n\t\t\t\t\t\t\t\tfileType: 'image',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (reslut) => {\r\n\t\t\t\t\t\t\t//\tconsole.log(reslut)\r\n\t\t\t\t\t\t\t\tthis.companyOutletUrl = JSON.parse(reslut.data).link\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tdeleteImg() {\r\n\t\t\t\tthis.companyOutletUrl = \"\";\r\n\t\t\t},\r\n\t\t\tuserInfoGets: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthis.http(api.userInfoGet, 'GET', {}, false).then(res => {\r\n\t\t\t\t\tthat.wxUser = res.data;\r\n\t\t\t\t\t//console.log(res);\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.phone= res.data.phone\r\n\t\t\t\t\tgetApp().globalData.wxUser = res.data;\r\n\t\t\t\t\t//\tthat.getUserinfo() \t\t\r\n\t\t\t\t\t\t//刷新置业顾问\r\n\t\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\r\n\r\n\t\t},\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.cukkk{\r\n\t\tcolor: red;\r\n\t\tposition: absolute;\r\n\t\tline-height: 25rpx;\r\n\t\tfont-size: 18rpx;\r\n\t}\r\n\t.companyView {\r\n\t\t/* position: relative; */\r\n\t\tdisplay: flex;\r\n\t\tfont-size: 20rpx;\r\n\t\tpadding: 5rpx 10rpx;\r\n\t\tbackground-color: #EEEEEE;\r\n\t}\r\n\r\n\t.cu-form-group {\r\n\t\tbackground-color: #ffffff;\r\n\t\tpadding: 1upx 0rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmin-height: 81rpx;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.radio-item {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tmargin-right: 50rpx;\r\n\t}\r\n\r\n\t.recommend-input-radio {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\r\n\t\twidth: 560rpx;\r\n\t\theight: 60rpx;\r\n\r\n\t\tmargin-right: 30rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.radio-class {\r\n\t\ttransform: scale(0.7);\r\n\t\tcolor: rgba(22, 204, 246, 1);\r\n\t}\r\n\r\n\r\n\r\n\r\n\t.recommend-major {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: rgba(51, 51, 51, 1);\r\n\t}\r\n\r\n\t.textarea {\r\n\t\twidth: 561rpx;\r\n\t\theight: 223rpx;\r\n\t\tbackground: rgba(250, 250, 250, 1);\r\n\t\tmargin-right: 30rpx;\r\n\t\tpadding: 10rpx;\r\n\t}\r\n\r\n\t.recommend-infor-fou {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\tmargin: 10rpx 0rpx;\r\n\t}\r\n\r\n\r\n\t.input-class {\r\n\t\tfont-size: 26rpx;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: rgba(180, 180, 180, 1);\r\n\t}\r\n\r\n\t.recommend-input {\r\n\t\twidth: 560rpx;\r\n\t\theight: 81rpx;\r\n\t\tbackground: rgba(250, 250, 250, 1);\r\n\t\tmargin-right: 30rpx;\r\n\t\tpadding: 0 20rpx;\r\n\t}\r\n\r\n\t.recommend-name {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: PingFang SC;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: rgba(51, 51, 51, 1);\r\n\t\tline-height: 100rpx;\r\n\t}\r\n\r\n\t.recommend-infor-two {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n\r\n\t.recommend-infor {\r\n\t\twidth: 100%;\r\n\t\tpadding: 100rpx 30rpx;\r\n\t\tmargin-top: -90rpx;\r\n\t\tz-index: 99;\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\t\tborder-radius: 40rpx 50rpx 50rpx 50rpx;\r\n\t\tposition: absolute;\r\n\t}\r\n\r\n\t.recommend {\r\n\t\tbackground: rgba(255, 255, 255, 1);\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.companyRow {\r\n\t\tdisplay: flex;\r\n\t\tmargin-bottom: 50rpx;\r\n\t}\r\n\r\n\t.companyInput {\r\n\t\twidth: 350rpx;\r\n\t\theight: 50rpx;\r\n\t\tbackground: rgba(250, 250, 250, 1);\r\n\t\tposition: absolute;\r\n\t\tpadding: 0 10rpx;\r\n\t\tmargin-left: 150rpx;\r\n\t}\r\n\r\n\t.deleteImg {\r\n\t\tposition: relative;\r\n\t\tbackground-color: #EEEEEE;\r\n\t\tborder: solid #EEEEEE 1rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tmax-height: 40rpx;\r\n\t\tmax-width: 40rpx;\r\n\t\tpadding: 5rpx;\r\n\t}\r\n\r\n\t.outImg {\r\n\t\theight: 100rpx;\r\n\t\twidth: 100rpx;\r\n\t}\r\n\r\n\t.companyRowImg {\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t}\r\n</style>\n","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=4e5421bd&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/auth/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=4e5421bd&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"auth-vips\">\r\n\t\t<view class=\"text-xxx\">\r\n\t\t\t<!-- <view class=\"\">\r\n\t\t\t\t天门新客邦\r\n\t\t\t</view> -->\r\n\t\t\t<image class=\"auth-img\" src=\"https://img.0728jh.com/1332139872148000768/material/b6be615b-f5ae-4765-9fd4-0a404ae1eaa3.png\" mode=\"aspectFit\"></image>\r\n\t\t\t<button class=\"auth-button\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">{{showText}}</button>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport api from '../api/home.js'\r\n\timport init from '../../utils/initPage.js'\r\n\texport default {\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tprops:{\r\n\t\t\tshowText:{\r\n\t\t\t\ttype:String,\r\n\t\t\t\tdefault:\"获取手机授权\",\r\n\t\t\t},\r\n\t\t\tsendPassed:{\r\n\t\t\t\ttype:Boolean,\r\n\t\t\t\tdefault:true,\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getUserinfozhiye();\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetPhoneNumber: function(e) { //第一步，获取手机授权\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tif (e.detail.errMsg == \"getPhoneNumber:ok\") { //用户点击了一个\r\n\t\t\t\t\tlet encryptedData = e.detail.encryptedData;\r\n\r\n\t\t\t\t\tlet iv = e.detail.iv;\r\n\t\t\t\t\t// };\r\n\r\n\t\t\t\t\tinit.initPage().then(res => { //保证sessionkey最新有效\r\n\t\t\t\t\t\tlet session_key = getApp().globalData.sessionKey;\r\n\t\t\t\t\t\tthat.sendphoneNumber(encryptedData, session_key, iv)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetTaills(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\t\t\r\n\t\t\t\tlet id =getApp().globalData.projectItem.id\r\n\t\t\t\tconsole.log(\"Check Id\")\r\n\t\t\t\tconsole.log(id);\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\tthat.http(api.getall,'GET',{affId:id},false).then(res=>{\r\n\t\t\t\t\t\tconsole.log(\"++++++++++++++++++check getTaills+++++++\")\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tl(res)\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tasync getUserinfozhiye() { //置业顾问\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tconsole.log(\"_____________auth get distribution__________________\")\r\n\t\t\t\tconsole.log(getApp().globalData.projectItem)\r\n\t\t\t\tlet id = getApp().globalData.projectItem.id\r\n\t\t\t\tlet res = await that.getTaills();\r\n\t\t\t\t\tconsole.log(\"++++++++++++++++++++++++++++++++++++++++++++++\")\r\nconsole.log(res)\r\nconsole.log(\"++++++++++++++++++++++++++++++++++++++++++++++\")\r\n\t\t\t\tlet pconsul = res.data\r\n\t\t\t\tconsole.log(\"ddddddddddddddddddd\")\r\n\t\t\t\tconsole.log(pconsul)\r\n\t\t\t\tlet distribution = getApp().globalData.wxUser.distribution || []\r\n\t\t\t\t//console.log(distribution)\r\n\t\t\t\tif (distribution == null) {\r\n\t\t\t\t\tdistribution = []\r\n\t\t\t\t}\r\n\t\t\t\tlet list = [];\r\n\t\t\t\tconsole.log(distribution)\r\n\t\t\t\tfor (let i = 0; i < pconsul.length; i++) {\r\n\r\n\t\t\t\t\tfor (let j = 0; j < distribution.length; j++) {\r\n\r\n\t\t\t\t\t\tif (pconsul[i].id == distribution[j]) {\r\n\t\t\t\t\t\t\tgetApp().globalData.distribution = pconsul[i]\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(\"c+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\")\r\n\t\t\t\tconsole.log(getApp().globalData.distribution)\r\n\r\n\t\t\t},\r\n\t\t\tbrokerprocess: function() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet phone = '';\r\n\t\t\t\t// if (that.remm == 'her') {\r\n\t\t\t\t// \tphone = that.phone;\r\n\t\t\t\t// } else {\r\n\t\t\t\tphone = that.wxUser.phone;\r\n\t\t\t\t// }\r\n\t\t\t\t// if (!that.name) {\r\n\t\t\t\t// \tthat.showModal();\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\t\t\t\t// if (!/^1(3|4|5|6|7|8|9)\\d{9}$/.test(phone)) {\r\n\t\t\t\t// \tthat.showModal();\r\n\t\t\t\t// \treturn;\r\n\t\t\t\t// }\r\n\r\n\r\n\r\n\t\t\t\t//获取定义流程列表，\r\n\t\t\t\t//let budding = getApp().globalData.BaseBudding;\r\n\t\t\t\tlet project = getApp().globalData.projectItem;\r\n\t\t\t\tconsole.log(\"project\");\r\n\t\t\t\tconsole.log(getApp().globalData)\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttenantIdIn: project.id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(vlaue) {\r\n\t\t\t\t\t\t\tconsole.log('流程');\r\n\t\t\t\t\t\t\tconsole.log(vlaue);\r\n\r\n\t\t\t\t\t\tif (vlaue.statusCode == 200) {\r\n\t\t\t\t\t\t\tlet res = vlaue.data;\r\n\t\t\t\t\t\t\tlet id;\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res[i].key == 'broker') {\r\n\t\t\t\t\t\t\t\t\tid = res[i].id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\t\t\tthat.PostProcess(id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"请检查key为broker的流程是否存在\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '未找到有效流程，或流程未配置',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tgetProcessDefinition() { //获取自有流程id\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet budding = getApp().globalData.projectItem;\r\n\t\t\t\tconsole.log(\"查看流程定义的id\")\r\n\t\t\t\tconsole.log(budding);\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttenantIdIn: budding.id //楼盘id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(vlaue) {\r\n\t\t\t\t\t\t\tconsole.log('平台流程');\r\n\t\t\t\t\t\t\tconsole.log(vlaue);\r\n\t\t\t\t\t\tif (vlaue.statusCode == 200) {\r\n\t\t\t\t\t\t\tlet res = vlaue.data;\r\n\t\t\t\t\t\t\tlet id;\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res[i].key == 'passenger') {\r\n\t\t\t\t\t\t\t\t\tid = res[i].id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif (id) {\r\n\t\t\t\t\t\t\t\tthat.PostProcessAcquistion(id);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"请检查key为passenger的流程是否存在\",\r\n\t\t\t\t\t\t\t\t\ticon: \"none\",\r\n\t\t\t\t\t\t\t\t\tduration: 3000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '未找到有效流程，或流程未配置',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tPostProcessAcquistion(id) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet ids = id;\r\n\t\t\t\tlet project = getApp().globalData.projectItem\r\n\t\t\t\tlet initator = getApp().globalData.wxUser.id\r\n\t\t\t\tlet name = that.wxUser.realName ? that.wxUser.realName : that.wxUser.nickName?that.wxUser.nickName:\"\"\r\n\t\t\t\tlet datamap = {\r\n\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\tinitiator: {\r\n\t\t\t\t\t\t\tvalue:initator\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tphone: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.phone\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcustomerName: {\r\n\t\t\t\t\t\t\tvalue: name \r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taffiliationId: {\r\n\t\t\t\t\t\t\tvalue: project.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcurrentTaskDeposit:{\r\n\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgender: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.sex,\r\n\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttenantId: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.tenantId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcharacters: {\r\n\t\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tunspecified: {\r\n\t\t\t\t\t\t\tvalue: getApp().globalData.distribution ? false : true\r\n\t\t\t\t\t\t}, //未指定    有置业 false ，否则true\r\n\t\t\t\t\t\tsalesmanId: {\r\n\t\t\t\t\t\t\tvalue: getApp().globalData.distribution ? getApp().globalData.distribution.id : null\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\torigin: {\r\n\t\t\t\t\t\t\tvalue: '1'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t};\r\n\t\t\t\tconsole.log(datamap);\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition + \"/\" + ids + \"/submit-form\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: datamap,\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t//\tconsole.log('平台流程');\r\n\t\t\t\t\t\t//\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.statusCode == 200) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\r\n\t\t\t},\r\n\t\t\tPostProcess(id) {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet ids = id;\r\n\t\t\t\t//console.log(that.wxUser)\r\n\t\t\t\tlet porject = getApp().globalData.projectItem\r\n\t\t\t\t//console.log(\"----------------------------------------------------\")\r\n\t\t\t\t//description\r\n\t\t\t\t//问题：1.性别  2.重复推荐， 3推荐后跳转\r\n\t\t\t\t//console.log(ids)\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition + \"/\" + ids + \"/submit-form\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tvariables: {\r\n\t\t\t\t\t\t\tphone: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.phone,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tcustomerName: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.realName ? that.wxUser.realName : that.wxUser.nickName,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tgender: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.sex,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tintroduction: {\r\n\t\t\t\t\t\t\t\tvalue: \"\",\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\taffiliationId: {\r\n\t\t\t\t\t\t\t\tvalue: porject.id,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbrokerId: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.invitee,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsalesmanId: {\r\n\t\t\t\t\t\t\t\tvalue: getApp().globalData.distribution.id || null,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {\r\n\t\t\t\t\t\t\t\t\tname: \"XXXXX\"\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbrokerName: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.inviteeUser ? (that.wxUser.inviteeUser.realName ? that.wxUser.inviteeUser.realName : that.wxUser\r\n\t\t\t\t\t\t\t\t\t.nickName) : \"匿名用户\",\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: getApp().globalData.wxUser\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tbrokerPhone: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.inviteeUser ? that.wxUser.inviteeUser.phone : \"没有电话\",\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tinviteeId: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.invitee,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\ttenantId: {\r\n\t\t\t\t\t\t\t\tvalue: that.wxUser.tenantId,\r\n\t\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\t// totalDuration:{value:'PT3H'}\r\n\t\t\t\t\t\t\torigin: {\r\n\t\t\t\t\t\t\t\tvalue: '1'\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tbusinessKey: that.phone\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\t//console.log('提交流程');\r\n\t\t\t\t\t\t//\tconsole.log(response);\r\n\t\t\t\t\t\tif (response.statusCode == 200) {\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tsavephone(encryptedData, session_key, iv){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tencryptedData: '',\r\n\t\t\t\t\tsession_key: '',\r\n\t\t\t\t\tiv: ''\r\n\t\t\t\t};\r\n\t\t\t\tdata.encryptedData = encryptedData;\r\n\t\t\t\tdata.session_key = session_key;\r\n\t\t\t\tdata.iv = iv\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\tconsole.log(\"解析手机号码\")\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t//console.log(encryptedData+'\\n'+session_key+'\\n'+iv)\r\n\t\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\t\turl: api.GetPhone, //仅为示例，并非真实接口地址。\r\n\t\t\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\t\t\tdata: data,\r\n\t\t\t\t\t\t\ttimeout: 120000,\r\n\t\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t\t\t'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t\t\t\t\t\t'third-session': getApp().globalData.thirdSession\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tif(res.errMsg == \"request:ok\"){\r\n\t\t\t\t\t\t\t\t\tl(true);\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tl(false);\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tgetInfo(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\tthat.http(api.userInfoGet,'GET',{},false).then(reslut=>{\r\n\t\t\t\t\t\tif(reslut.data){\r\n\t\t\t\t\t\t\tgetApp().globalData.wxUser = reslut.data\r\n\t\t\t\t\t\t\tthat.wxUser = reslut.data\r\n\t\t\t\t\t\t\tconsole.log(\"授权后，再次获取uerInfo\")\r\n\t\t\t\t\t\t\tconsole.log(reslut.data);\r\n\t\t\t\t\t\t\tl(reslut.data);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tl(false);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\tasync sendphoneNumber(encryptedData, session_key, iv) { //解析手机号码\r\n\t\tlet that =this;\r\n\t    let isAuthPhone=await that.savephone(encryptedData, session_key, iv);\r\n\t    if(isAuthPhone){\r\n\t\tlet user =  await that.getInfo();\r\n\t\tconsole.log(\"++++++++++++++++++++++++++++\")\r\n\t\tconsole.log(that.sendPassed)\r\n\t\tconsole.log(\"++++++++++++++++++++++++++++\")\r\n\t\tif(user && that.sendPassed){\r\n\t\t\tconsole.log(\"发起了流程\")\r\n\t\t\tlet invitte =user.invitee;\r\n\t\t\tif(invitte){\r\n\t\t\t\tlet ischeck=await that.checkPhone();\r\n\t\t\t\tconsole.log(ischeck)\r\n\t\t\t\tif(ischeck ==\"true\"){\r\n\t\t\t\t\tthat.brokerprocess();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}else{\r\n\t\t\t\tlet ischeck=await that.checkphonept();\r\n\t\t\t\tif(ischeck==\"true\"){\r\n\t\t\t\t\tthat.getProcessDefinition();\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t}\r\n\t\tthat.$emit('refData')\r\n\t   }\r\n\t\t\t// console.log(\"解析手机号码\")\r\n\t\t\t// \tlet that = this;\r\n\t\t\t// \tlet data = {\r\n\t\t\t// \t\tencryptedData: '',\r\n\t\t\t// \t\tsession_key: '',\r\n\t\t\t// \t\tiv: ''\r\n\t\t\t// \t};\r\n\t\t\t// \tdata.encryptedData = encryptedData;\r\n\t\t\t// \tdata.session_key = session_key;\r\n\t\t\t// \tdata.iv = iv\r\n\t\t\t// \t//console.log(encryptedData+'\\n'+session_key+'\\n'+iv)\r\n\t\t\t// \tuni.request({\r\n\t\t\t// \t\turl: api.GetPhone, //仅为示例，并非真实接口地址。\r\n\t\t\t// \t\tmethod: 'POST',\r\n\t\t\t// \t\tdata: data,\r\n\t\t\t// \t\ttimeout: 120000,\r\n\t\t\t// \t\theader: {\r\n\t\t\t// \t\t\t'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t// \t\t\t'third-session': getApp().globalData.thirdSession\r\n\t\t\t// \t\t},\r\n\t\t\t// \t\tsuccess: (res) => {\r\n\r\n\t\t\t\t\t\t// if (res.errMsg == \"request:ok\") {\r\n\t\t\t\t\t\t\t// getApp().globalData.wxUser = res.data //成功获取手机缓存到wxUser\r\n\t\t\t\t\t\t\t// console.log(\"电话授权后返回的信息\")\r\n\t\t\t\t\t\t\t// console.log(\"___________________________\")\r\n\t\t\t\t\t\t\t// console.log(res.data)\r\n\t\t\t\t\t\t\t// console.log(\"___________________________\")\r\n\t\t\t\t\t\t\t// that.wxUser = res.data\r\n\t\t\t\t\t\t\t// that.http(api.userInfoGet,'GET',{},false).then(reslut=>{\r\n\t\t\t\t\t\t\t// \tconsole.log(\"授权结束后再请求userInfo\")\r\n\t\t\t\t\t\t\t// \tconsole.log(reslut)\r\n\t\t\t\t\t\t\t// \t\tconsole.log(\"+++++++++++++++\")\r\n\t\t\t\t\t\t\t// \t\tgetApp().globalData.wxUser = reslut.data\r\n\t\t\t\t\t\t\t// \t\tthat.wxUser = reslut.data\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// \t\tlet isTrue=reslut.data.invitee\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// \t\tif (isTrue) { //第一次授权电话号码，发起流程如果有经纪人邀请码发起经纪人流程 \r\n\t\t\t\t\t\t\t// \t\t\t//经纪人流程\r\n\t\t\t\t\t\t\t// \t\t\tconsole.log(\"经纪人流程\")\r\n\t\t\t\t\t\t\t// \t\tlet checkphone = await that.checkPhone()\r\n\t\t\t\t\t\t\t// \t\tif(checkphone){\r\n\t\t\t\t\t\t\t// \t\t\tthat.brokerprocess()\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// \t\t} else {\r\n\t\t\t\t\t\t\t// \t\t\t//自有流程\r\n\t\t\t\t\t\t\t// \t\t\tconsole.log(\"自有流程\")\r\n\t\t\t\t\t\t\t// \t\t\tthat.getProcessDefinition()\r\n\t\t\t\t\t\t\t// \t\t}\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t// \t\t\r\n\t\t\t\t\t\t\t// })\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t// \t\t}\r\n\t\t\t\t// \t}\r\n\t\t\t\t// })\r\n\r\n\r\n\r\n\t\t\t},\r\n\t\t\tcheckphonept(){\r\n\t\t\t\tlet that =this;\r\n\t\t\t\tlet projectItem=getApp().globalData.projectItem\r\n\t\t\t\tconsole.log(\"查看projctItem\")\r\n\t\t\t\tconsole.log(projectItem)\r\n\t\t\t\tconsole.log(getApp().globalData.distribution)\r\n\t\t\t\tlet distrubtyin\r\n\t\t\t\tlet data={\r\n\t\t\t\t\t\tphone:that.wxUser.phone,\r\n\t\t\t\t\t\tsenderId:that.wxUser.id,\r\n\t\t\t\t\t\taffId:projectItem.id,\r\n\t\t\t\t\t\tsalesmanId:getApp().globalData.distribution?getApp().globalData.distribution.id : null,\r\n\t\t\t\t\t\tgroupId:getApp().globalData.distribution?getApp().globalData.distribution.memberGroup: null,\r\n\t\t\t\t\t\ttenantId:that.wxUser.tenantId,\r\n\t\t\t\t\t};\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\t// that.http(api.Verification,\"GET\",data,false).then(res=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// \tconsole.log(\"验证电话pt\")\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// \tif(res.ok){\r\n\t\t\t\t\t// \t\tl(\"true\");\r\n\t\t\t\t\t// \t} else{\r\n\t\t\t\t\t// \t\tl(\"false\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\t\turl:api.Verificationplt,\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t  'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t\t\t\t  'third-session': getApp().globalData.thirdSession\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:function(reslt) {\r\n\t\t\t\t\t\t\t// that.checkPhone=false;\r\n\t\t\t\t\t\t\tconsole.log(\"验证电话pt\")\r\n\t\t\t\t\t\t\tconsole.log(\"_________________________________\")\r\n\t\t\t\t\t\t\tconsole.log(reslt);\r\n\t\t\t\t\t\t\tconsole.log(\"_________________________________\")\r\n\t\t\t\t\t\t\tif(reslt.data.ok){\r\n\t\t\t\t\t\t\t\tl(\"true\");\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tl(\"false\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tcheckPhone(){\r\n\t\t\t\tlet that =this;\r\n\t\t\t\tlet projectItem=getApp().globalData.projectItem\r\n\t\t\t\tlet data={\r\n\t\t\t\t\t\tphone:that.wxUser.phone,\r\n\t\t\t\t\t\tsenderId:that.wxUser.id,\r\n\t\t\t\t\t\taffId:projectItem.id,\r\n\t\t\t\t\t\tsalesmanId:getApp().globalData.distribution?getApp().globalData.distribution.id : null,\r\n\t\t\t\t\t\tgroupId:getApp().globalData.distribution?getApp().globalData.distribution.memberGroup: null,\r\n\t\t\t\t\t\ttenantId:that.wxUser.tenantId,\r\n\t\t\t\t\t};\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\t// that.http(api.Verification,\"GET\",data,false).then(res=>{\r\n\t\t\t\t\t// \tconsole.log(\"验证电话\")\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\t\turl:api.Verification,\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\tsuccess:function(reslt) {\r\n\t\t\t\t\t\t\t// that.checkPhone=false;\r\n\t\t\t\t\t\t\tconsole.log(\"验证电话\")\r\n\t\t\t\t\t\t\tconsole.log(reslt.data.ok);\r\n\t\t\t\t\t\t\tif(reslt.data.ok){\r\n\t\t\t\t\t\t\t\tl(\"true\");\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tl(\"false\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.auth-img {\r\n\t\t\t/* border: dashed 1rpx #999999; */\r\n\t\t/* margin-left: 90rpx; */\r\n\t\theight: 150rpx;\r\n\t\t\r\n\t}\r\n\t.text-xxx{\r\n\t\t\r\n\t\ttext-align: center;\r\n\t\t\r\n\t}\r\n\t.auth-vips {\r\n\t\t/* height: 100vh; */\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding-top: 400rpx;\r\n\t}\r\n\r\n\t.auth-button {\r\n\t\twidth: 650rpx;\r\n\t\tmargin-left: 50rpx;\r\n\t\t/* margin-top: 20rpx; */\r\n\t\t/* width: 580rpx; */\r\n\t\theight: 98rpx;\r\n\t\tbackground: rgba(22, 204, 246, 1);\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Microsoft YaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: rgba(255, 255, 255, 1);\r\n\t\ttext-align: center;\r\n\t\tline-height: 98rpx;\r\n\t\t/* margin-left: 70rpx; */\r\n\t\tbottom: 250rpx;\r\n\t\tposition: absolute;\r\n\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}