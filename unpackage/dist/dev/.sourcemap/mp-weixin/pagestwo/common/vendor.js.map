{"version":3,"sources":["uni-app:///utils/checker.js","uni-app:///utils/websocket/ws.js","uni-app:///utils/websocket/stomp.js","uni-app:///utils/websocket/uniWebSocket.js","uni-app:///utils/websocket/config/config.js","uni-app:///utils/websocket/config/sha256.min.js","uni-app:///D:/HBuilderX/plugins/uniapp-cli/node_modules/node-libs-browser/mock/process.js","uni-app:///D:/HBuilderX/plugins/uniapp-cli/node_modules/path-browserify/index.js","uni-app:///D:/HBuilderX/plugins/uniapp-cli/node_modules/webpack/buildin/amd-options.js"],"names":["module","exports","error","isJSON","str","obj","JSON","parse","e","console","log","isNumber","checkVal","reg","test","Ws","reconnectInterval","debug","wsUrl","indexOf","url","replace","client","reconnectId","subscribes","connected","token","getApp","globalData","thirdSession","ws","UniWebSocket","Stomp","over","connect","frame","Object","keys","forEach","key","subscribe","callback","setTimeout","reconnect","onerror","then","disconnect","clearTimeout","destination","res","subscribed","unsubscribe","message","send","Byte","Client","Frame","__hasProp","hasOwnProperty","__slice","slice","LF","NULL","unmarshallSingle","command","headers","body","prototype","toString","lines","name","skipContentLength","value","_ref","call","push","sizeOfUTF8","join","s","encodeURI","match","length","data","chr","divider","headerLines","i","idx","len","line","start","trim","_i","_j","_len","_ref1","search","RegExp","substring","split","shift","reverse","parseInt","charAt","unmarshall","datas","_results","marshall","now","binaryType","counter","heartbeat","outgoing","incoming","maxWebSocketFrameSize","subscriptions","window","Date","valueOf","_transmit","out","_setupHeartbeat","serverIncoming","serverOutgoing","ttl","v","version","VERSIONS","V1_1","V1_2","Math","max","pinger","setInterval","_this","ponger","delta","serverActivity","close","_parseConnect","args","connectCallback","errorCallback","arguments","Function","login","passcode","host","apply","onmessage","evt","arr","c","messageID","onreceive","subscription","ArrayBuffer","Uint8Array","String","fromCharCode","server","ack","nack","onreceipt","onclose","msg","_cleanUp","onopen","supportedVersions","disconnectCallback","clearInterval","id","begin","transaction","txid","commit","abort","V1_0","protocols","klass","WebSocketClass","WebSocket","interval","f","self","activeClose","openListener","closeListener","errorListener","messageListener","uni","connectSocket","onSocketOpen","onSocketClose","onSocketError","onSocketMessage","eventName","pop","sendSocketMessage","closeSocket","refreshToken","Promise","resolve","reject","setStorageSync","t","d","blocks","h0","h1","h2","h3","h4","h5","h6","h7","block","bytes","hBytes","finalized","hashed","first","is224","r","n","o","a","u","charCodeAt","Error","h","constructor","Array","isArray","isView","update","array","y","p","l","oKeyPad","inner","sharedMemory","JS_SHA256_NO_WINDOW","JS_SHA256_NO_NODE_JS","process","versions","node","global","JS_SHA256_NO_COMMON_JS","define","JS_SHA256_NO_ARRAY_BUFFER","JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW","buffer","A","w","b","create","eval","createHash","digest","_","lastByteIndex","hash","finalize","hex","arrayBuffer","DataView","setUint32","B","sha256","sha224","hmac"],"mappings":"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;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAAgC,QAAQ;AACxC;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,MAAM;AAChB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oCAAoC,8BAA8B;AAClE;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,GAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAU,oBAAoB;AAC9B;AACA;;AAEA;AACA,UAAU,UAAU;AACpB;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAiB,YAAY;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,+BAA+B,sBAAsB;AACrD;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,2BAA2B,QAAQ;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAmB,eAAe;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA,kCAAkC;AAClC;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7SA;AACA","file":"pagestwo/common/vendor.js","sourcesContent":["module.exports = {\r\n\terror:'',\r\n\tisJSON : function (str){\r\n\t\tif (typeof str == 'string') {\r\n\t\t\ttry {\r\n\t\t\t\tvar obj=JSON.parse(str);\r\n\t\t\t\tif(typeof obj == 'object' && obj ){\r\n\t\t\t\t\treturn true;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn false;\r\n\t\t\t\t}\r\n\t\t\t} catch(e) {\r\n\t\t\t\tconsole.log('error：'+str+'!!!'+e);\r\n\t\t\t\treturn false;\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\tisNumber : function (checkVal){\r\n\t\tvar reg = /^-?[1-9][0-9]?.?[0-9]*$/;\r\n\t\treturn reg.test(checkVal);\r\n\t}\r\n}","import { Stomp } from './stomp.js'\r\nimport UniWebSocket from './uniWebSocket.js'\r\nimport { wsUrl, refreshToken } from './config/config.js'\r\n\r\n/**\r\n * WebSocket stomp 实例\r\n */\r\nclass Ws {\r\n\r\n\tconstructor() {\r\n\t\t// 重连间隔\r\n\t\tthis.reconnectInterval = 50000\r\n\t\t// 是否打印debug信息\r\n\t\tthis.debug = true\r\n\t\t// ws地址\r\n\t\tif (wsUrl.indexOf('http://') === 0) {\r\n\t\t\tthis.url = wsUrl.replace('http://', 'ws://')\r\n\t\t} else if (wsUrl.indexOf('https://') === 0) {\r\n\t\t\tthis.url = wsUrl.replace('https://', 'wss://')\r\n\t\t} else {\r\n\t\t\tthis.url = wsUrl\r\n\t\t}\r\n\t\t// stomp实例\r\n\t\tthis.client = null\r\n\t\t// 重连事件编号\r\n\t\tthis.reconnectId = null\r\n\t\t// 订阅集合\r\n\t\tthis.subscribes = {}\r\n\t}\r\n\r\n\t/**\r\n\t * 创建连接\r\n\t */\r\n\tconnect() {\r\n\t\t// 如已存在连接则不创建\r\n\t\tif (this.client && this.client.connected) {\r\n\t\t\treturn\r\n\t\t}\r\n\t\t// 创建连接，认证token以第二个参数：Sec-WebSocket-Protocol传递到后台，后台需将此头信息原样返回\r\n\t\t// 注：如不想在此处进行认证，可考虑在下面的client.connect方法中传递header进行认证\r\n\t\t// 从缓存中获取token\r\n\t\tlet token = getApp().globalData.thirdSession\r\n\t\tlet ws = new UniWebSocket(this.url)\r\n\t\tthis.client = Stomp.over(ws)\r\n\t\t// 控制是否打印debug信息\r\n\t\tif (!this.debug) {\r\n\t\t\tthis.client.debug = () => {\r\n\t\t\t\tconsole.log(ws)\r\n\t\t\t}\r\n\t\t}\r\n\t\tthis.client.connect({\r\n\r\n\t\t\t\ttoken:getApp().globalData.thirdSession\r\n\t\t\t\r\n\t\t},\r\n\t\t\tframe => {\r\n\t\t\t\t// 初始化订阅\r\n\t\t\t\tObject.keys(this.subscribes).forEach(key => {\r\n\t\t\t\t\tthis.subscribe(key, this.subscribes[key].callback)\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\terror => {\r\n\t\t\t\t// 重连\r\n\t\t\t\tthis.reconnectId = setTimeout(() => {\r\n\t\t\t\t\tthis.reconnect()\r\n\t\t\t\t}, this.reconnectInterval)\r\n\t\t\t}\r\n\t\t)\r\n\t\t// 监听WebSocket对象连接状态，如失败，则stomp的connect回调不会触发，应在此重连\r\n\t\tws.onerror = () => {\r\n\t\t\t// 重连\r\n\t\t\tthis.reconnectId = setTimeout(() => {\r\n\t\t\t\t// 刷新token\r\n\t\t\t\trefreshToken().then(() => {\r\n\t\t\t\t\tthis.reconnect()\r\n\t\t\t\t})\r\n\t\t\t}, this.reconnectInterval)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 重新连接\r\n\t */\r\n\treconnect() {\r\n\t\t// 订阅状态置false\r\n\t\tObject.keys(this.subscribes).forEach(key => {\r\n\t\t\tthis.subscribes[key]['subscribed'] = false\r\n\t\t})\r\n\t\t// 连接\r\n\t\tthis.connect()\r\n\t}\r\n\r\n\t/**\r\n\t * 断开连接\r\n\t */\r\n\tdisconnect() {\r\n\t\t// 断开连接\r\n\t\tif (this.client) {\r\n\t\t\tthis.client.disconnect()\r\n\t\t}\r\n\t\t// 停止重连事件\r\n\t\tif (this.reconnectId) {\r\n\t\t\tclearTimeout(this.reconnectId)\r\n\t\t\tthis.reconnectId = null\r\n\t\t}\r\n\t\t// 清空所有除订阅缓存\r\n\t\tthis.subscribes = {}\r\n\t}\r\n\t\r\n\t/**\r\n\t * 订阅\r\n\t * @param {Object} destination 主题\r\n\t * @param {Object} callback 回调\r\n\t */\r\n\tsubscribe(destination, callback) {\r\n\t\tif (this.subscribes[destination] && this.subscribes[destination]['subscribed']) { // 已订阅\r\n\t\t\treturn\r\n\t\t} else if (this.client && this.client.connected) { // 已连接：调用订阅，缓存订阅信息\r\n\t\t\tlet subscribe = this.client.subscribe(destination, res => callback(res))\r\n\t\t\tthis.subscribes[destination] = { callback: callback, subscribed: true, subscribe: subscribe }\r\n\t\t} else { // 未连接：缓存订阅信息\r\n\t\t\tthis.subscribes[destination] = { callback: callback, subscribed: false }\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * 取消订阅\r\n\t * @param {Object} destination 主题\r\n\t */\r\n\tunsubscribe(destination) {\r\n\t\tif (this.subscribes[destination]) {\r\n\t\t\t// 取消订阅\r\n\t\t\tthis.subscribes[destination].subscribe.unsubscribe()\r\n\t\t\t// 删除订阅缓存\r\n\t\t\tdelete this.subscribes[destination]\r\n\t\t}\r\n\t}\r\n\t\r\n\t/**\r\n\t * 向服务器发送消息\r\n\t * @param {Object} destination 主题\r\n\t * @param {Object} message 消息内容\r\n\t */\r\n\tsend(destination, message) {\r\n\t\tconsole.log(destination)\r\n\t\tconsole.log(message)\r\n\t\tif (this.client) {\r\n\t\t\tconsole.log(this.client)\r\n\t\t\tthis.client.send(destination, null, message)\r\n\t\t}\r\n\t}\r\n}\r\n\r\nexport default new Ws()\r\n","// Generated by CoffeeScript 1.7.1\r\n\r\n/*\r\n   Stomp Over WebSocket http://www.jmesnil.net/stomp-websocket/doc/ | Apache License V2.0\r\n\r\n   Copyright (C) 2010-2013 [Jeff Mesnil](http://jmesnil.net/)\r\n   Copyright (C) 2012 [FuseSource, Inc.](http://fusesource.com)\r\n */\r\n\r\n(function() {\r\n  var Byte, Client, Frame, Stomp,\r\n    __hasProp = {}.hasOwnProperty,\r\n    __slice = [].slice;\r\n\r\n  Byte = {\r\n    LF: '\\x0A',\r\n    NULL: '\\x00'\r\n  };\r\n\r\n  Frame = (function() {\r\n    var unmarshallSingle;\r\n\r\n    function Frame(command, headers, body) {\r\n      this.command = command;\r\n      this.headers = headers != null ? headers : {};\r\n      this.body = body != null ? body : '';\r\n    }\r\n\r\n    Frame.prototype.toString = function() {\r\n      var lines, name, skipContentLength, value, _ref;\r\n      lines = [this.command];\r\n      skipContentLength = this.headers['content-length'] === false ? true : false;\r\n      if (skipContentLength) {\r\n        delete this.headers['content-length'];\r\n      }\r\n      _ref = this.headers;\r\n      for (name in _ref) {\r\n        if (!__hasProp.call(_ref, name)) continue;\r\n        value = _ref[name];\r\n        lines.push(\"\" + name + \":\" + value);\r\n      }\r\n      if (this.body && !skipContentLength) {\r\n        lines.push(\"content-length:\" + (Frame.sizeOfUTF8(this.body)));\r\n      }\r\n      lines.push(Byte.LF + this.body);\r\n      return lines.join(Byte.LF);\r\n    };\r\n\r\n    Frame.sizeOfUTF8 = function(s) {\r\n      if (s) {\r\n        return encodeURI(s).match(/%..|./g).length;\r\n      } else {\r\n        return 0;\r\n      }\r\n    };\r\n\r\n    unmarshallSingle = function(data) {\r\n      var body, chr, command, divider, headerLines, headers, i, idx, len, line, start, trim, _i, _j, _len, _ref, _ref1;\r\n      divider = data.search(RegExp(\"\" + Byte.LF + Byte.LF));\r\n      headerLines = data.substring(0, divider).split(Byte.LF);\r\n      command = headerLines.shift();\r\n      headers = {};\r\n      trim = function(str) {\r\n        return str.replace(/^\\s+|\\s+$/g, '');\r\n      };\r\n      _ref = headerLines.reverse();\r\n      for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n        line = _ref[_i];\r\n        idx = line.indexOf(':');\r\n        headers[trim(line.substring(0, idx))] = trim(line.substring(idx + 1));\r\n      }\r\n      body = '';\r\n      start = divider + 2;\r\n      if (headers['content-length']) {\r\n        len = parseInt(headers['content-length']);\r\n        body = ('' + data).substring(start, start + len);\r\n      } else {\r\n        chr = null;\r\n        for (i = _j = start, _ref1 = data.length; start <= _ref1 ? _j < _ref1 : _j > _ref1; i = start <= _ref1 ? ++_j : --_j) {\r\n          chr = data.charAt(i);\r\n          if (chr === Byte.NULL) {\r\n            break;\r\n          }\r\n          body += chr;\r\n        }\r\n      }\r\n      return new Frame(command, headers, body);\r\n    };\r\n\r\n    Frame.unmarshall = function(datas) {\r\n      var data;\r\n      return (function() {\r\n        var _i, _len, _ref, _results;\r\n        _ref = datas.split(RegExp(\"\" + Byte.NULL + Byte.LF + \"*\"));\r\n        _results = [];\r\n        for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n          data = _ref[_i];\r\n          if ((data != null ? data.length : void 0) > 0) {\r\n            _results.push(unmarshallSingle(data));\r\n          }\r\n        }\r\n        return _results;\r\n      })();\r\n    };\r\n\r\n    Frame.marshall = function(command, headers, body) {\r\n      var frame;\r\n      frame = new Frame(command, headers, body);\r\n      return frame.toString() + Byte.NULL;\r\n    };\r\n\r\n    return Frame;\r\n\r\n  })();\r\n\r\n  Client = (function() {\r\n    var now;\r\n\r\n    function Client(ws) {\r\n      this.ws = ws;\r\n      this.ws.binaryType = \"arraybuffer\";\r\n      this.counter = 0;\r\n      this.connected = false;\r\n      this.heartbeat = {\r\n        outgoing: 20000,\r\n        incoming: 0\r\n      };\r\n      this.maxWebSocketFrameSize = 16 * 1024;\r\n      this.subscriptions = {};\r\n    }\r\n\r\n    Client.prototype.debug = function(message) {\r\n      var _ref;\r\n      return typeof window !== \"undefined\" && window !== null ? (_ref = window.console) != null ? _ref.log(message) : void 0 : void 0;\r\n    };\r\n\r\n    now = function() {\r\n      if (Date.now) {\r\n        return Date.now();\r\n      } else {\r\n        return new Date().valueOf;\r\n      }\r\n    };\r\n\r\n    Client.prototype._transmit = function(command, headers, body) {\r\n      var out;\r\n      out = Frame.marshall(command, headers, body);\r\n      if (typeof this.debug === \"function\") {\r\n        this.debug(\">>> \" + out);\r\n      }\r\n      while (true) {\r\n        if (out.length > this.maxWebSocketFrameSize) {\r\n          this.ws.send(out.substring(0, this.maxWebSocketFrameSize));\r\n          out = out.substring(this.maxWebSocketFrameSize);\r\n          if (typeof this.debug === \"function\") {\r\n            this.debug(\"remaining = \" + out.length);\r\n          }\r\n        } else {\r\n          return this.ws.send(out);\r\n        }\r\n      }\r\n    };\r\n\r\n    Client.prototype._setupHeartbeat = function(headers) {\r\n      var serverIncoming, serverOutgoing, ttl, v, _ref, _ref1;\r\n      if ((_ref = headers.version) !== Stomp.VERSIONS.V1_1 && _ref !== Stomp.VERSIONS.V1_2) {\r\n        return;\r\n      }\r\n      _ref1 = (function() {\r\n        var _i, _len, _ref1, _results;\r\n        _ref1 = headers['heart-beat'].split(\",\");\r\n        _results = [];\r\n        for (_i = 0, _len = _ref1.length; _i < _len; _i++) {\r\n          v = _ref1[_i];\r\n          _results.push(parseInt(v));\r\n        }\r\n        return _results;\r\n      })(), serverOutgoing = _ref1[0], serverIncoming = _ref1[1];\r\n      if (!(this.heartbeat.outgoing === 0 || serverIncoming === 0)) {\r\n        ttl = Math.max(this.heartbeat.outgoing, serverIncoming);\r\n        if (typeof this.debug === \"function\") {\r\n          this.debug(\"send PING every \" + ttl + \"ms\");\r\n        }\r\n        this.pinger = Stomp.setInterval(ttl, (function(_this) {\r\n          return function() {\r\n            _this.ws.send(Byte.LF);\r\n            return typeof _this.debug === \"function\" ? _this.debug(\">>> PING\") : void 0;\r\n          };\r\n        })(this));\r\n      }\r\n      if (!(this.heartbeat.incoming === 0 || serverOutgoing === 0)) {\r\n        ttl = Math.max(this.heartbeat.incoming, serverOutgoing);\r\n        if (typeof this.debug === \"function\") {\r\n          this.debug(\"check PONG every \" + ttl + \"ms\");\r\n        }\r\n        return this.ponger = Stomp.setInterval(ttl, (function(_this) {\r\n          return function() {\r\n            var delta;\r\n            delta = now() - _this.serverActivity;\r\n            if (delta > ttl * 2) {\r\n              if (typeof _this.debug === \"function\") {\r\n                _this.debug(\"did not receive server activity for the last \" + delta + \"ms\");\r\n              }\r\n              return _this.ws.close();\r\n            }\r\n          };\r\n        })(this));\r\n      }\r\n    };\r\n\r\n    Client.prototype._parseConnect = function() {\r\n      var args, connectCallback, errorCallback, headers;\r\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\r\n      headers = {};\r\n      switch (args.length) {\r\n        case 2:\r\n          headers = args[0], connectCallback = args[1];\r\n          break;\r\n        case 3:\r\n          if (args[1] instanceof Function) {\r\n            headers = args[0], connectCallback = args[1], errorCallback = args[2];\r\n          } else {\r\n            headers.login = args[0], headers.passcode = args[1], connectCallback = args[2];\r\n          }\r\n          break;\r\n        case 4:\r\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3];\r\n          break;\r\n        default:\r\n          headers.login = args[0], headers.passcode = args[1], connectCallback = args[2], errorCallback = args[3], headers.host = args[4];\r\n      }\r\n      return [headers, connectCallback, errorCallback];\r\n    };\r\n\r\n    Client.prototype.connect = function() {\r\n      var args, errorCallback, headers, out;\r\n      args = 1 <= arguments.length ? __slice.call(arguments, 0) : [];\r\n      out = this._parseConnect.apply(this, args);\r\n      headers = out[0], this.connectCallback = out[1], errorCallback = out[2];\r\n      if (typeof this.debug === \"function\") {\r\n        this.debug(\"Opening Web Socket...\");\r\n      }\r\n      this.ws.onmessage = (function(_this) {\r\n        return function(evt) {\r\n          var arr, c, client, data, frame, messageID, onreceive, subscription, _i, _len, _ref, _results;\r\n          data = typeof ArrayBuffer !== 'undefined' && evt.data instanceof ArrayBuffer ? (arr = new Uint8Array(evt.data), typeof _this.debug === \"function\" ? _this.debug(\"--- got data length: \" + arr.length) : void 0, ((function() {\r\n            var _i, _len, _results;\r\n            _results = [];\r\n            for (_i = 0, _len = arr.length; _i < _len; _i++) {\r\n              c = arr[_i];\r\n              _results.push(String.fromCharCode(c));\r\n            }\r\n            return _results;\r\n          })()).join('')) : evt.data;\r\n          _this.serverActivity = now();\r\n          if (data === Byte.LF) {\r\n            if (typeof _this.debug === \"function\") {\r\n              _this.debug(\"<<< PONG\");\r\n            }\r\n            return;\r\n          }\r\n          if (typeof _this.debug === \"function\") {\r\n            _this.debug(\"<<< \" + data);\r\n          }\r\n          _ref = Frame.unmarshall(data);\r\n          _results = [];\r\n          for (_i = 0, _len = _ref.length; _i < _len; _i++) {\r\n            frame = _ref[_i];\r\n            switch (frame.command) {\r\n              case \"CONNECTED\":\r\n                if (typeof _this.debug === \"function\") {\r\n                  _this.debug(\"connected to server \" + frame.headers.server);\r\n                }\r\n                _this.connected = true;\r\n                _this._setupHeartbeat(frame.headers);\r\n                _results.push(typeof _this.connectCallback === \"function\" ? _this.connectCallback(frame) : void 0);\r\n                break;\r\n              case \"MESSAGE\":\r\n                subscription = frame.headers.subscription;\r\n                onreceive = _this.subscriptions[subscription] || _this.onreceive;\r\n                if (onreceive) {\r\n                  client = _this;\r\n                  messageID = frame.headers[\"message-id\"];\r\n                  frame.ack = function(headers) {\r\n                    if (headers == null) {\r\n                      headers = {};\r\n                    }\r\n                    return client.ack(messageID, subscription, headers);\r\n                  };\r\n                  frame.nack = function(headers) {\r\n                    if (headers == null) {\r\n                      headers = {};\r\n                    }\r\n                    return client.nack(messageID, subscription, headers);\r\n                  };\r\n                  _results.push(onreceive(frame));\r\n                } else {\r\n                  _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled received MESSAGE: \" + frame) : void 0);\r\n                }\r\n                break;\r\n              case \"RECEIPT\":\r\n                _results.push(typeof _this.onreceipt === \"function\" ? _this.onreceipt(frame) : void 0);\r\n                break;\r\n              case \"ERROR\":\r\n                _results.push(typeof errorCallback === \"function\" ? errorCallback(frame) : void 0);\r\n                break;\r\n              default:\r\n                _results.push(typeof _this.debug === \"function\" ? _this.debug(\"Unhandled frame: \" + frame) : void 0);\r\n            }\r\n          }\r\n          return _results;\r\n        };\r\n      })(this);\r\n      this.ws.onclose = (function(_this) {\r\n        return function() {\r\n          var msg;\r\n          msg = \"Whoops! Lost connection to \" + _this.ws.url;\r\n          if (typeof _this.debug === \"function\") {\r\n            _this.debug(msg);\r\n          }\r\n          _this._cleanUp();\r\n          return typeof errorCallback === \"function\" ? errorCallback(msg) : void 0;\r\n        };\r\n      })(this);\r\n      return this.ws.onopen = (function(_this) {\r\n        return function() {\r\n          if (typeof _this.debug === \"function\") {\r\n            _this.debug('Web Socket Opened...');\r\n          }\r\n          headers[\"accept-version\"] = Stomp.VERSIONS.supportedVersions();\r\n          headers[\"heart-beat\"] = [_this.heartbeat.outgoing, _this.heartbeat.incoming].join(',');\r\n          return _this._transmit(\"CONNECT\", headers);\r\n        };\r\n      })(this);\r\n    };\r\n\r\n    Client.prototype.disconnect = function(disconnectCallback, headers) {\r\n      if (headers == null) {\r\n        headers = {};\r\n      }\r\n      this._transmit(\"DISCONNECT\", headers);\r\n      this.ws.onclose = null;\r\n      this.ws.close();\r\n      this._cleanUp();\r\n      return typeof disconnectCallback === \"function\" ? disconnectCallback() : void 0;\r\n    };\r\n\r\n    Client.prototype._cleanUp = function() {\r\n      this.connected = false;\r\n      if (this.pinger) {\r\n        Stomp.clearInterval(this.pinger);\r\n      }\r\n      if (this.ponger) {\r\n        return Stomp.clearInterval(this.ponger);\r\n      }\r\n    };\r\n\r\n    Client.prototype.send = function(destination, headers, body) {\r\n      if (headers == null) {\r\n        headers = {};\r\n      }\r\n      if (body == null) {\r\n        body = '';\r\n      }\r\n      headers.destination = destination;\r\n      return this._transmit(\"SEND\", headers, body);\r\n    };\r\n\r\n    Client.prototype.subscribe = function(destination, callback, headers) {\r\n      var client;\r\n      if (headers == null) {\r\n        headers = {};\r\n      }\r\n      if (!headers.id) {\r\n        headers.id = \"sub-\" + this.counter++;\r\n      }\r\n      headers.destination = destination;\r\n      this.subscriptions[headers.id] = callback;\r\n      this._transmit(\"SUBSCRIBE\", headers);\r\n      client = this;\r\n      return {\r\n        id: headers.id,\r\n        unsubscribe: function() {\r\n          return client.unsubscribe(headers.id);\r\n        }\r\n      };\r\n    };\r\n\r\n    Client.prototype.unsubscribe = function(id) {\r\n      delete this.subscriptions[id];\r\n      return this._transmit(\"UNSUBSCRIBE\", {\r\n        id: id\r\n      });\r\n    };\r\n\r\n    Client.prototype.begin = function(transaction) {\r\n      var client, txid;\r\n      txid = transaction || \"tx-\" + this.counter++;\r\n      this._transmit(\"BEGIN\", {\r\n        transaction: txid\r\n      });\r\n      client = this;\r\n      return {\r\n        id: txid,\r\n        commit: function() {\r\n          return client.commit(txid);\r\n        },\r\n        abort: function() {\r\n          return client.abort(txid);\r\n        }\r\n      };\r\n    };\r\n\r\n    Client.prototype.commit = function(transaction) {\r\n      return this._transmit(\"COMMIT\", {\r\n        transaction: transaction\r\n      });\r\n    };\r\n\r\n    Client.prototype.abort = function(transaction) {\r\n      return this._transmit(\"ABORT\", {\r\n        transaction: transaction\r\n      });\r\n    };\r\n\r\n    Client.prototype.ack = function(messageID, subscription, headers) {\r\n      if (headers == null) {\r\n        headers = {};\r\n      }\r\n      headers[\"message-id\"] = messageID;\r\n      headers.subscription = subscription;\r\n      return this._transmit(\"ACK\", headers);\r\n    };\r\n\r\n    Client.prototype.nack = function(messageID, subscription, headers) {\r\n      if (headers == null) {\r\n        headers = {};\r\n      }\r\n      headers[\"message-id\"] = messageID;\r\n      headers.subscription = subscription;\r\n      return this._transmit(\"NACK\", headers);\r\n    };\r\n\r\n    return Client;\r\n\r\n  })();\r\n\r\n  Stomp = {\r\n    VERSIONS: {\r\n      V1_0: '1.0',\r\n      V1_1: '1.1',\r\n      V1_2: '1.2',\r\n      supportedVersions: function() {\r\n        return '1.1,1.0';\r\n      }\r\n    },\r\n    client: function(url, protocols) {\r\n      var klass, ws;\r\n      if (protocols == null) {\r\n        protocols = ['v10.stomp', 'v11.stomp'];\r\n      }\r\n      klass = Stomp.WebSocketClass || WebSocket;\r\n      ws = new klass(url, protocols);\r\n      return new Client(ws);\r\n    },\r\n    over: function(ws) {\r\n      return new Client(ws);\r\n    },\r\n    Frame: Frame\r\n  };\r\n\r\n  if (typeof exports !== \"undefined\" && exports !== null) {\r\n    exports.Stomp = Stomp;\r\n  }\r\n\r\n  if (typeof window !== \"undefined\" && window !== null) {\r\n    Stomp.setInterval = function(interval, f) {\r\n      return window.setInterval(f, interval);\r\n    };\r\n    Stomp.clearInterval = function(id) {\r\n      return window.clearInterval(id);\r\n    };\r\n    window.Stomp = Stomp;\r\n  } else if (!exports) {\r\n    self.Stomp = Stomp;\r\n  } else { // 兼容uniapp\r\n\tStomp.setInterval = function(interval, f) {\r\n\t  return setInterval(f, interval);\r\n\t};\r\n\tStomp.clearInterval = function(id) {\r\n\t  return clearInterval(id);\r\n\t};\r\n  }\r\n\r\n}).call(this);\r\n","/**\r\n * 封装uniapp的WebSocket对象，使其与原生类似，供stomp使用\r\n */\r\nclass UniWebSocket {\r\n\tconstructor(url, protocols) {\r\n\t\t// 是否主动关闭连接\r\n\t\tthis.activeClose = false\r\n\t\t\r\n\t\t// 相关事件数组\r\n\t\tthis.openListener = []\r\n\t\tthis.closeListener = []\r\n\t\tthis.errorListener = []\r\n\t\tthis.messageListener = []\r\n\t\t\r\n\t\t// 创建连接\r\n\t\tuni.connectSocket({\r\n\t\t\turl: url,\r\n\t\t\t//protocols: protocols\r\n\t\t})\r\n\t\t\r\n\t\t// 连接开启\r\n\t\tuni.onSocketOpen(res => {\r\n\t\t\tthis.onopen(res)\r\n\t\t\tfor (let i in this.openListener) {\r\n\t\t\t\tthis.openListener[i](res)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t// 连接关闭\r\n\t\tuni.onSocketClose(res => {\r\n\t\t\t// 主动关闭连接不进行回调\r\n\t\t\tif (this.activeClose) {\r\n\t\t\t\tthis.activeClose = false\r\n\t\t\t} else {\r\n\t\t\t\tthis.onclose(res)\r\n\t\t\t}\r\n\t\t\tfor (let i in this.closeListener) {\r\n\t\t\t\tthis.closeListener[i](res)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t// 连接异常\r\n\t\tuni.onSocketError(res => {\r\n\t\t\tthis.onerror(res)\r\n\t\t\tfor (let i in this.errorListener) {\r\n\t\t\t\tthis.errorListener[i](res)\r\n\t\t\t}\r\n\t\t})\r\n\t\t\r\n\t\t// 接收消息\r\n\t\tuni.onSocketMessage(res => {\r\n\t\t\tthis.onmessage(res)\r\n\t\t\tfor (let i in this.messageListener) {\r\n\t\t\t\tthis.messageListener[i](res)\r\n\t\t\t}\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * 添加监听\r\n\t * @param {Object} eventName\r\n\t * @param {Object} callback\r\n\t */\r\n\taddEventListener(eventName, callback) {\r\n\t\tif (eventName === 'open') {\r\n\t\t\tthis.openListener.push(callback)\r\n\t\t} else if (eventName === 'close') {\r\n\t\t\tthis.closeListener.push(callback)\r\n\t\t} else if (eventName === 'error') {\r\n\t\t\tthis.errorListener.push(callback)\r\n\t\t} else if (eventName === 'message') {\r\n\t\t\tthis.messageListener.push(callback)\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 移除最后一个监听\r\n\t * @param {Object} eventName\r\n\t */\r\n\tremoveEventListener(eventName) {\r\n\t\tif (eventName === 'open') {\r\n\t\t\tthis.openListener.pop()\r\n\t\t} else if (eventName === 'close') {\r\n\t\t\tthis.closeListener.pop()\r\n\t\t} else if (eventName === 'error') {\r\n\t\t\tthis.errorListener.pop()\r\n\t\t} else if (eventName === 'message') {\r\n\t\t\tthis.messageListener.pop()\r\n\t\t}\r\n\t}\r\n\r\n\t/**\r\n\t * 连接开启\r\n\t * @param {Object} res\r\n\t */\r\n\tonopen(res) {}\r\n\r\n\t/**\r\n\t * 连接关闭\r\n\t * @param {Object} res\r\n\t */\r\n\tonclose(res) {}\r\n\r\n\t/**\r\n\t * 连接异常\r\n\t * @param {Object} res\r\n\t */\r\n\tonerror(res) {}\r\n\r\n\t/**\r\n\t * 接收消息\r\n\t * @param {Object} res\r\n\t */\r\n\tonmessage(res) {}\r\n\r\n\t/**\r\n\t * 发送消息\r\n\t * @param {Object} data\r\n\t */\r\n\tsend(data) {\r\n\t\tuni.sendSocketMessage({\r\n\t\t\tdata: data\r\n\t\t})\r\n\t}\r\n\r\n\t/**\r\n\t * 关闭连接\r\n\t */\r\n\tclose() {\r\n\t\tthis.activeClose = true\r\n\t\tuni.closeSocket()\r\n\t}\r\n}\r\n\r\nexport default UniWebSocket\r\n","import { sha256 } from './sha256.min.js'\r\n\r\n// Websocket地址，仅为测试地址，请替换成自己的后台地址\r\nexport const wsUrl = 'wss://ad.kehuoa.com/broker/ss'\r\n// export const wsUrl = 'ws://192.168.22.201:8082/broker/ss'\r\n/**\r\n * 模拟请求刷新token，并缓存到localStorage\r\n */\r\nexport function refreshToken() {\r\n\treturn new Promise((resolve, reject) => {\r\n\t\tsetTimeout(() => {\r\n\t\t\t// 生成模拟token\r\n\t\t\tlet token = getApp().globalData.thirdSession\r\n\t\t\t//sha256('528c3e36775d438a986eab7c4d45ffacstomp' + parseInt((new Date().getTime() / 600000)))\r\n\t\t\t// 缓存token\r\n\t\t\tuni.setStorageSync('AccessToken', token)\r\n\t\t\tresolve()\r\n\t\t}, 1000)\r\n\t})\r\n}\r\n","/**\n * [js-sha256]{@link https://github.com/emn178/js-sha256}\n *\n * @version 0.9.0\n * @author Chen, Yi-Cyuan [emn178@gmail.com]\n * @copyright Chen, Yi-Cyuan 2014-2017\n * @license MIT\n */\n!function(){\"use strict\";function t(t,i){i?(d[0]=d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0,this.blocks=d):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=t}function i(i,r,s){var e,n=typeof i;if(\"string\"===n){var o,a=[],u=i.length,c=0;for(e=0;e<u;++e)(o=i.charCodeAt(e))<128?a[c++]=o:o<2048?(a[c++]=192|o>>6,a[c++]=128|63&o):o<55296||o>=57344?(a[c++]=224|o>>12,a[c++]=128|o>>6&63,a[c++]=128|63&o):(o=65536+((1023&o)<<10|1023&i.charCodeAt(++e)),a[c++]=240|o>>18,a[c++]=128|o>>12&63,a[c++]=128|o>>6&63,a[c++]=128|63&o);i=a}else{if(\"object\"!==n)throw new Error(h);if(null===i)throw new Error(h);if(f&&i.constructor===ArrayBuffer)i=new Uint8Array(i);else if(!(Array.isArray(i)||f&&ArrayBuffer.isView(i)))throw new Error(h)}i.length>64&&(i=new t(r,!0).update(i).array());var y=[],p=[];for(e=0;e<64;++e){var l=i[e]||0;y[e]=92^l,p[e]=54^l}t.call(this,r,s),this.update(p),this.oKeyPad=y,this.inner=!0,this.sharedMemory=s}var h=\"input is invalid type\",r=\"object\"==typeof window,s=r?window:{};s.JS_SHA256_NO_WINDOW&&(r=!1);var e=!r&&\"object\"==typeof self,n=!s.JS_SHA256_NO_NODE_JS&&\"object\"==typeof process&&process.versions&&process.versions.node;n?s=global:e&&(s=self);var o=!s.JS_SHA256_NO_COMMON_JS&&\"object\"==typeof module&&module.exports,a=\"function\"==typeof define&&define.amd,f=!s.JS_SHA256_NO_ARRAY_BUFFER&&\"undefined\"!=typeof ArrayBuffer,u=\"0123456789abcdef\".split(\"\"),c=[-2147483648,8388608,32768,128],y=[24,16,8,0],p=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=[\"hex\",\"array\",\"digest\",\"arrayBuffer\"],d=[];!s.JS_SHA256_NO_NODE_JS&&Array.isArray||(Array.isArray=function(t){return\"[object Array]\"===Object.prototype.toString.call(t)}),!f||!s.JS_SHA256_NO_ARRAY_BUFFER_IS_VIEW&&ArrayBuffer.isView||(ArrayBuffer.isView=function(t){return\"object\"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var A=function(i,h){return function(r){return new t(h,!0).update(r)[i]()}},w=function(i){var h=A(\"hex\",i);n&&(h=b(h,i)),h.create=function(){return new t(i)},h.update=function(t){return h.create().update(t)};for(var r=0;r<l.length;++r){var s=l[r];h[s]=A(s,i)}return h},b=function(t,i){var r=eval(\"require('crypto')\"),s=eval(\"require('buffer').Buffer\"),e=i?\"sha224\":\"sha256\",n=function(i){if(\"string\"==typeof i)return r.createHash(e).update(i,\"utf8\").digest(\"hex\");if(null===i||void 0===i)throw new Error(h);return i.constructor===ArrayBuffer&&(i=new Uint8Array(i)),Array.isArray(i)||ArrayBuffer.isView(i)||i.constructor===s?r.createHash(e).update(new s(i)).digest(\"hex\"):t(i)};return n},v=function(t,h){return function(r,s){return new i(r,h,!0).update(s)[t]()}},_=function(t){var h=v(\"hex\",t);h.create=function(h){return new i(h,t)},h.update=function(t,i){return h.create(t).update(i)};for(var r=0;r<l.length;++r){var s=l[r];h[s]=v(s,t)}return h};t.prototype.update=function(t){if(!this.finalized){var i,r=typeof t;if(\"string\"!==r){if(\"object\"!==r)throw new Error(h);if(null===t)throw new Error(h);if(f&&t.constructor===ArrayBuffer)t=new Uint8Array(t);else if(!(Array.isArray(t)||f&&ArrayBuffer.isView(t)))throw new Error(h);i=!0}for(var s,e,n=0,o=t.length,a=this.blocks;n<o;){if(this.hashed&&(this.hashed=!1,a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),i)for(e=this.start;n<o&&e<64;++n)a[e>>2]|=t[n]<<y[3&e++];else for(e=this.start;n<o&&e<64;++n)(s=t.charCodeAt(n))<128?a[e>>2]|=s<<y[3&e++]:s<2048?(a[e>>2]|=(192|s>>6)<<y[3&e++],a[e>>2]|=(128|63&s)<<y[3&e++]):s<55296||s>=57344?(a[e>>2]|=(224|s>>12)<<y[3&e++],a[e>>2]|=(128|s>>6&63)<<y[3&e++],a[e>>2]|=(128|63&s)<<y[3&e++]):(s=65536+((1023&s)<<10|1023&t.charCodeAt(++n)),a[e>>2]|=(240|s>>18)<<y[3&e++],a[e>>2]|=(128|s>>12&63)<<y[3&e++],a[e>>2]|=(128|s>>6&63)<<y[3&e++],a[e>>2]|=(128|63&s)<<y[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=a[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this}},t.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,i=this.lastByteIndex;t[16]=this.block,t[i>>2]|=c[3&i],this.block=t[16],i>=56&&(this.hashed||this.hash(),t[0]=this.block,t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.hBytes<<3|this.bytes>>>29,t[15]=this.bytes<<3,this.hash()}},t.prototype.hash=function(){var t,i,h,r,s,e,n,o,a,f=this.h0,u=this.h1,c=this.h2,y=this.h3,l=this.h4,d=this.h5,A=this.h6,w=this.h7,b=this.blocks;for(t=16;t<64;++t)i=((s=b[t-15])>>>7|s<<25)^(s>>>18|s<<14)^s>>>3,h=((s=b[t-2])>>>17|s<<15)^(s>>>19|s<<13)^s>>>10,b[t]=b[t-16]+i+b[t-7]+h<<0;for(a=u&c,t=0;t<64;t+=4)this.first?(this.is224?(e=300032,w=(s=b[0]-1413257819)-150054599<<0,y=s+24177077<<0):(e=704751109,w=(s=b[0]-210244248)-1521486534<<0,y=s+143694565<<0),this.first=!1):(i=(f>>>2|f<<30)^(f>>>13|f<<19)^(f>>>22|f<<10),r=(e=f&u)^f&c^a,w=y+(s=w+(h=(l>>>6|l<<26)^(l>>>11|l<<21)^(l>>>25|l<<7))+(l&d^~l&A)+p[t]+b[t])<<0,y=s+(i+r)<<0),i=(y>>>2|y<<30)^(y>>>13|y<<19)^(y>>>22|y<<10),r=(n=y&f)^y&u^e,A=c+(s=A+(h=(w>>>6|w<<26)^(w>>>11|w<<21)^(w>>>25|w<<7))+(w&l^~w&d)+p[t+1]+b[t+1])<<0,i=((c=s+(i+r)<<0)>>>2|c<<30)^(c>>>13|c<<19)^(c>>>22|c<<10),r=(o=c&y)^c&f^n,d=u+(s=d+(h=(A>>>6|A<<26)^(A>>>11|A<<21)^(A>>>25|A<<7))+(A&w^~A&l)+p[t+2]+b[t+2])<<0,i=((u=s+(i+r)<<0)>>>2|u<<30)^(u>>>13|u<<19)^(u>>>22|u<<10),r=(a=u&c)^u&y^o,l=f+(s=l+(h=(d>>>6|d<<26)^(d>>>11|d<<21)^(d>>>25|d<<7))+(d&A^~d&w)+p[t+3]+b[t+3])<<0,f=s+(i+r)<<0;this.h0=this.h0+f<<0,this.h1=this.h1+u<<0,this.h2=this.h2+c<<0,this.h3=this.h3+y<<0,this.h4=this.h4+l<<0,this.h5=this.h5+d<<0,this.h6=this.h6+A<<0,this.h7=this.h7+w<<0},t.prototype.hex=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,r=this.h3,s=this.h4,e=this.h5,n=this.h6,o=this.h7,a=u[t>>28&15]+u[t>>24&15]+u[t>>20&15]+u[t>>16&15]+u[t>>12&15]+u[t>>8&15]+u[t>>4&15]+u[15&t]+u[i>>28&15]+u[i>>24&15]+u[i>>20&15]+u[i>>16&15]+u[i>>12&15]+u[i>>8&15]+u[i>>4&15]+u[15&i]+u[h>>28&15]+u[h>>24&15]+u[h>>20&15]+u[h>>16&15]+u[h>>12&15]+u[h>>8&15]+u[h>>4&15]+u[15&h]+u[r>>28&15]+u[r>>24&15]+u[r>>20&15]+u[r>>16&15]+u[r>>12&15]+u[r>>8&15]+u[r>>4&15]+u[15&r]+u[s>>28&15]+u[s>>24&15]+u[s>>20&15]+u[s>>16&15]+u[s>>12&15]+u[s>>8&15]+u[s>>4&15]+u[15&s]+u[e>>28&15]+u[e>>24&15]+u[e>>20&15]+u[e>>16&15]+u[e>>12&15]+u[e>>8&15]+u[e>>4&15]+u[15&e]+u[n>>28&15]+u[n>>24&15]+u[n>>20&15]+u[n>>16&15]+u[n>>12&15]+u[n>>8&15]+u[n>>4&15]+u[15&n];return this.is224||(a+=u[o>>28&15]+u[o>>24&15]+u[o>>20&15]+u[o>>16&15]+u[o>>12&15]+u[o>>8&15]+u[o>>4&15]+u[15&o]),a},t.prototype.toString=t.prototype.hex,t.prototype.digest=function(){this.finalize();var t=this.h0,i=this.h1,h=this.h2,r=this.h3,s=this.h4,e=this.h5,n=this.h6,o=this.h7,a=[t>>24&255,t>>16&255,t>>8&255,255&t,i>>24&255,i>>16&255,i>>8&255,255&i,h>>24&255,h>>16&255,h>>8&255,255&h,r>>24&255,r>>16&255,r>>8&255,255&r,s>>24&255,s>>16&255,s>>8&255,255&s,e>>24&255,e>>16&255,e>>8&255,255&e,n>>24&255,n>>16&255,n>>8&255,255&n];return this.is224||a.push(o>>24&255,o>>16&255,o>>8&255,255&o),a},t.prototype.array=t.prototype.digest,t.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(this.is224?28:32),i=new DataView(t);return i.setUint32(0,this.h0),i.setUint32(4,this.h1),i.setUint32(8,this.h2),i.setUint32(12,this.h3),i.setUint32(16,this.h4),i.setUint32(20,this.h5),i.setUint32(24,this.h6),this.is224||i.setUint32(28,this.h7),t},i.prototype=new t,i.prototype.finalize=function(){if(t.prototype.finalize.call(this),this.inner){this.inner=!1;var i=this.array();t.call(this,this.is224,this.sharedMemory),this.update(this.oKeyPad),this.update(i),t.prototype.finalize.call(this)}};var B=w();B.sha256=B,B.sha224=w(!0),B.sha256.hmac=_(),B.sha224.hmac=_(!0),o?module.exports=B:(s.sha256=B.sha256,s.sha224=B.sha224,a&&define(function(){return B}))}();","exports.nextTick = function nextTick(fn) {\n    var args = Array.prototype.slice.call(arguments);\n    args.shift();\n    setTimeout(function () {\n        fn.apply(null, args);\n    }, 0);\n};\n\nexports.platform = exports.arch = \nexports.execPath = exports.title = 'browser';\nexports.pid = 1;\nexports.browser = true;\nexports.env = {};\nexports.argv = [];\n\nexports.binding = function (name) {\n\tthrow new Error('No such module. (Possibly not yet loaded)')\n};\n\n(function () {\n    var cwd = '/';\n    var path;\n    exports.cwd = function () { return cwd };\n    exports.chdir = function (dir) {\n        if (!path) path = require('path');\n        cwd = path.resolve(dir, cwd);\n    };\n})();\n\nexports.exit = exports.kill = \nexports.umask = exports.dlopen = \nexports.uptime = exports.memoryUsage = \nexports.uvCounters = function() {};\nexports.features = {};\n","// .dirname, .basename, and .extname methods are extracted from Node.js v8.11.1,\n// backported and transplited with Babel, with backwards-compat fixes\n\n// Copyright Joyent, Inc. and other Node contributors.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a\n// copy of this software and associated documentation files (the\n// \"Software\"), to deal in the Software without restriction, including\n// without limitation the rights to use, copy, modify, merge, publish,\n// distribute, sublicense, and/or sell copies of the Software, and to permit\n// persons to whom the Software is furnished to do so, subject to the\n// following conditions:\n//\n// The above copyright notice and this permission notice shall be included\n// in all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS\n// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN\n// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\n// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR\n// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE\n// USE OR OTHER DEALINGS IN THE SOFTWARE.\n\n// resolves . and .. elements in a path array with directory names there\n// must be no slashes, empty elements, or device names (c:\\) in the array\n// (so also no leading and trailing slashes - it does not distinguish\n// relative and absolute paths)\nfunction normalizeArray(parts, allowAboveRoot) {\n  // if the path tries to go above the root, `up` ends up > 0\n  var up = 0;\n  for (var i = parts.length - 1; i >= 0; i--) {\n    var last = parts[i];\n    if (last === '.') {\n      parts.splice(i, 1);\n    } else if (last === '..') {\n      parts.splice(i, 1);\n      up++;\n    } else if (up) {\n      parts.splice(i, 1);\n      up--;\n    }\n  }\n\n  // if the path is allowed to go above the root, restore leading ..s\n  if (allowAboveRoot) {\n    for (; up--; up) {\n      parts.unshift('..');\n    }\n  }\n\n  return parts;\n}\n\n// path.resolve([from ...], to)\n// posix version\nexports.resolve = function() {\n  var resolvedPath = '',\n      resolvedAbsolute = false;\n\n  for (var i = arguments.length - 1; i >= -1 && !resolvedAbsolute; i--) {\n    var path = (i >= 0) ? arguments[i] : process.cwd();\n\n    // Skip empty and invalid entries\n    if (typeof path !== 'string') {\n      throw new TypeError('Arguments to path.resolve must be strings');\n    } else if (!path) {\n      continue;\n    }\n\n    resolvedPath = path + '/' + resolvedPath;\n    resolvedAbsolute = path.charAt(0) === '/';\n  }\n\n  // At this point the path should be resolved to a full absolute path, but\n  // handle relative paths to be safe (might happen when process.cwd() fails)\n\n  // Normalize the path\n  resolvedPath = normalizeArray(filter(resolvedPath.split('/'), function(p) {\n    return !!p;\n  }), !resolvedAbsolute).join('/');\n\n  return ((resolvedAbsolute ? '/' : '') + resolvedPath) || '.';\n};\n\n// path.normalize(path)\n// posix version\nexports.normalize = function(path) {\n  var isAbsolute = exports.isAbsolute(path),\n      trailingSlash = substr(path, -1) === '/';\n\n  // Normalize the path\n  path = normalizeArray(filter(path.split('/'), function(p) {\n    return !!p;\n  }), !isAbsolute).join('/');\n\n  if (!path && !isAbsolute) {\n    path = '.';\n  }\n  if (path && trailingSlash) {\n    path += '/';\n  }\n\n  return (isAbsolute ? '/' : '') + path;\n};\n\n// posix version\nexports.isAbsolute = function(path) {\n  return path.charAt(0) === '/';\n};\n\n// posix version\nexports.join = function() {\n  var paths = Array.prototype.slice.call(arguments, 0);\n  return exports.normalize(filter(paths, function(p, index) {\n    if (typeof p !== 'string') {\n      throw new TypeError('Arguments to path.join must be strings');\n    }\n    return p;\n  }).join('/'));\n};\n\n\n// path.relative(from, to)\n// posix version\nexports.relative = function(from, to) {\n  from = exports.resolve(from).substr(1);\n  to = exports.resolve(to).substr(1);\n\n  function trim(arr) {\n    var start = 0;\n    for (; start < arr.length; start++) {\n      if (arr[start] !== '') break;\n    }\n\n    var end = arr.length - 1;\n    for (; end >= 0; end--) {\n      if (arr[end] !== '') break;\n    }\n\n    if (start > end) return [];\n    return arr.slice(start, end - start + 1);\n  }\n\n  var fromParts = trim(from.split('/'));\n  var toParts = trim(to.split('/'));\n\n  var length = Math.min(fromParts.length, toParts.length);\n  var samePartsLength = length;\n  for (var i = 0; i < length; i++) {\n    if (fromParts[i] !== toParts[i]) {\n      samePartsLength = i;\n      break;\n    }\n  }\n\n  var outputParts = [];\n  for (var i = samePartsLength; i < fromParts.length; i++) {\n    outputParts.push('..');\n  }\n\n  outputParts = outputParts.concat(toParts.slice(samePartsLength));\n\n  return outputParts.join('/');\n};\n\nexports.sep = '/';\nexports.delimiter = ':';\n\nexports.dirname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  if (path.length === 0) return '.';\n  var code = path.charCodeAt(0);\n  var hasRoot = code === 47 /*/*/;\n  var end = -1;\n  var matchedSlash = true;\n  for (var i = path.length - 1; i >= 1; --i) {\n    code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        if (!matchedSlash) {\n          end = i;\n          break;\n        }\n      } else {\n      // We saw the first non-path separator\n      matchedSlash = false;\n    }\n  }\n\n  if (end === -1) return hasRoot ? '/' : '.';\n  if (hasRoot && end === 1) {\n    // return '//';\n    // Backwards-compat fix:\n    return '/';\n  }\n  return path.slice(0, end);\n};\n\nfunction basename(path) {\n  if (typeof path !== 'string') path = path + '';\n\n  var start = 0;\n  var end = -1;\n  var matchedSlash = true;\n  var i;\n\n  for (i = path.length - 1; i >= 0; --i) {\n    if (path.charCodeAt(i) === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          start = i + 1;\n          break;\n        }\n      } else if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // path component\n      matchedSlash = false;\n      end = i + 1;\n    }\n  }\n\n  if (end === -1) return '';\n  return path.slice(start, end);\n}\n\n// Uses a mixed approach for backwards-compatibility, as ext behavior changed\n// in new Node.js versions, so only basename() above is backported here\nexports.basename = function (path, ext) {\n  var f = basename(path);\n  if (ext && f.substr(-1 * ext.length) === ext) {\n    f = f.substr(0, f.length - ext.length);\n  }\n  return f;\n};\n\nexports.extname = function (path) {\n  if (typeof path !== 'string') path = path + '';\n  var startDot = -1;\n  var startPart = 0;\n  var end = -1;\n  var matchedSlash = true;\n  // Track the state of characters (if any) we see before our first dot and\n  // after any path separator we find\n  var preDotState = 0;\n  for (var i = path.length - 1; i >= 0; --i) {\n    var code = path.charCodeAt(i);\n    if (code === 47 /*/*/) {\n        // If we reached a path separator that was not part of a set of path\n        // separators at the end of the string, stop now\n        if (!matchedSlash) {\n          startPart = i + 1;\n          break;\n        }\n        continue;\n      }\n    if (end === -1) {\n      // We saw the first non-path separator, mark this as the end of our\n      // extension\n      matchedSlash = false;\n      end = i + 1;\n    }\n    if (code === 46 /*.*/) {\n        // If this is our first dot, mark it as the start of our extension\n        if (startDot === -1)\n          startDot = i;\n        else if (preDotState !== 1)\n          preDotState = 1;\n    } else if (startDot !== -1) {\n      // We saw a non-dot and non-path separator before our dot, so we should\n      // have a good chance at having a non-empty extension\n      preDotState = -1;\n    }\n  }\n\n  if (startDot === -1 || end === -1 ||\n      // We saw a non-dot character immediately before the dot\n      preDotState === 0 ||\n      // The (right-most) trimmed path component is exactly '..'\n      preDotState === 1 && startDot === end - 1 && startDot === startPart + 1) {\n    return '';\n  }\n  return path.slice(startDot, end);\n};\n\nfunction filter (xs, f) {\n    if (xs.filter) return xs.filter(f);\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        if (f(xs[i], i, xs)) res.push(xs[i]);\n    }\n    return res;\n}\n\n// String.prototype.substr - negative index don't work in IE8\nvar substr = 'ab'.substr(-1) === 'b'\n    ? function (str, start, len) { return str.substr(start, len) }\n    : function (str, start, len) {\n        if (start < 0) start = str.length + start;\n        return str.substr(start, len);\n    }\n;\n","/* globals __webpack_amd_options__ */\nmodule.exports = __webpack_amd_options__;\n"],"sourceRoot":""}