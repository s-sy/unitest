{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/costomerDetail/home.vue?c40d","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/costomerDetail/home.vue?e8be","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/costomerDetail/home.vue?391c","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/costomerDetail/home.vue?fd72","uni-app:///pagestwo/costomerDetail/home.vue","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/costomerDetail/home.vue?0e42"],"names":["createPage","Page","renderjs","component","options","__file","components","render","_vm","this","_h","$createElement","l0","_self","_c","keyword","__map","historyData","items","__i1__","$orig","__get_orig","f0","_f","f1","f2","f3","f4","f5","variableData","f6","$mp","data","Object","assign","$root","recyclableRender","staticRenderFns","_withStripped"],"mappings":";;;;wEAAA,qBACA,sBACA,qD,mDACAA,EAAWC,a;;;;2DCHX,qQACIC,EADJ,iHASIC,EAAY,qBACd,aACA,YACA,sBACA,EACA,KACA,KACA,MACA,EACA,gBACAD,GAGFC,EAAUC,QAAQC,OAAS,mCACZ,aAAAF,E;;;;2GCvBf,izB;;;;2GCAA,IAAIG,EAAJ,0LACA,IAAIC,EAAS,WACX,IAAIC,EAAMC,KACNC,EAAKF,EAAIG,eAETC,GADKJ,EAAIK,MAAMC,GAEF,MAAfN,EAAIO,QACAP,EAAIQ,MAAMR,EAAIS,aAAa,SAASC,EAAOC,GACzC,IAAIC,EAAQZ,EAAIa,WAAWH,GAEvBI,EAAKd,EAAIe,GAAG,gBAAPf,CAAwBU,GAE7BM,EAAKhB,EAAIe,GAAG,kBAAPf,CAA0BU,GAE/BO,EAAKjB,EAAIe,GAAG,iBAAPf,CAAyBU,GAE9BQ,EAAKlB,EAAIe,GAAG,qBAAPf,CAA6BU,GAElCS,EAAKnB,EAAIe,GAAG,aAAPf,CAAqBU,GAE9B,MAAO,CACLE,MAAOA,EACPE,GAAIA,EACJE,GAAIA,EACJC,GAAIA,EACJC,GAAIA,EACJC,GAAIA,MAGR,MACFC,EAAoB,MAAfpB,EAAIO,QAAkBP,EAAIe,GAAG,WAAPf,CAAmBA,EAAIqB,cAAgB,KAClEC,EACa,MAAftB,EAAIO,QAAkBP,EAAIe,GAAG,kBAAPf,CAA0BA,EAAIqB,cAAgB,KACtErB,EAAIuB,IAAIC,KAAOC,OAAOC,OACpB,GACA,CACEC,MAAO,CACLvB,GAAIA,EACJgB,GAAIA,EACJE,GAAIA,MAKRM,GAAmB,EACnBC,EAAkB,GACtB9B,EAAO+B,eAAgB,G;;;;2DC9CvB,qeAA8mB,eAAG,G;;;;yMC8JjnB,yC,81BACA,CACA,gBACA,OACA,YACA,aACA,kEACA,eACA,kBAIA,YACA,YACA,YAEA,UACA,+BAIA,GAHA,sCAEA,8BACA,4BACA,8CACA,kBACA,iBACA,aACA,eACA,iBAEA,OADA,4BACA,EAEA,eAMA,SACA,0BACA,mBACA,eACA,yBACA,eAGA,4BACA,kBACA,iBACA,aACA,eACA,iBAEA,OADA,4BACA,GAEA,4BAGA,IAFA,SAEA,kCACA,qCACA,0FAQA,MALA,QACA,QAEA,oBACA,eACA,UAEA,qBACA,2BACA,iBACA,sBAKA,4BACA,2BACA,wBACA,6BAIA,2BACA,qBACA,eAGA,IAFA,SACA,iBACA,oBAEA,aACA,kBAEA,OACA,WAIA,UAEA,+BACA,yBACA,eAGA,IAFA,SACA,iBACA,oBAEA,aACA,kBAEA,OACA,WAIA,UAEA,uBACA,iBACA,eAGA,IAFA,SACA,iBACA,oBAEA,aACA,kBAEA,OACA,WAIA,WAGA,SACA,sBACA,2DACA,2BACA,8BACA,gCAEA,yBAEA,8CAIA,aAbA,SAaA,KACA,WACA,yCACA,OACA,qBACA,eACA,4BACA,kCACA,eAGA,wCAKA,6BA7BA,SA6BA,KACA,WACA,eACA,SACA,WACA,iCACA,aACA,MACA,qBAGA,QAPA,SAOA,GACA,wBACA,eACA,gCACA,CACA,SAGA,GADA,aACA,gBACA,kBAGA,OAIA,UAEA,eACA,wBACA,iBAIA,oCAKA,uBArEA,SAqEA,OACA,WACA,oBAMA,WACA,yBACA,aACA,MACA,qBAEA,QANA,SAMA,GAGA,aACA,eACA,2BACA,kDACA,uBACA,yBAEA,sBACA,kCAIA,eAMA,qBAMA,OArPA,SAqPA,6IACA,IAOA,qCARA,SASA,4CATA,OASA,EATA,OAUA,2CACA,eACA,4BAZA,+C;;;;2DCpZA,0qBAAg4B,eAAG,G","file":"pagestwo/costomerDetail/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagestwo/costomerDetail/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=5c2af76c&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagestwo/costomerDetail/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=5c2af76c&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 =\n    _vm.keyword == \"yy\"\n      ? _vm.__map(_vm.historyData, function(items, __i1__) {\n          var $orig = _vm.__get_orig(items)\n\n          var f0 = _vm._f(\"getcreateTime\")(items)\n\n          var f1 = _vm._f(\"getdistribution\")(items)\n\n          var f2 = _vm._f(\"getrequestData\")(items)\n\n          var f3 = _vm._f(\"getmanagerDeration\")(items)\n\n          var f4 = _vm._f(\"getimgData\")(items)\n\n          return {\n            $orig: $orig,\n            f0: f0,\n            f1: f1,\n            f2: f2,\n            f3: f3,\n            f4: f4\n          }\n        })\n      : null\n  var f5 = _vm.keyword == \"rc\" ? _vm._f(\"getphone\")(_vm.variableData) : null\n  var f6 =\n    _vm.keyword == \"rc\" ? _vm._f(\"getsleanmanName\")(_vm.variableData) : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n        f5: f5,\n        f6: f6\n      }\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<cu-custom bgColor=\"bg-white\" :isBack=\"true\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\" class=\"title-text\">客户详情</block>\r\n\t\t</cu-custom>\r\n\t\t<!-- <view class=\"topA\">\r\n\t\t\t<view class=\"\" >\r\n\t\t\t\t<image class=\"image-A\" src=\"https://img.0728jh.com/staticImg/bannerbg.png\" mode=\"\"></image>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"topA-center margin-lr-xl\">\r\n\t\t\t\t<view class=\"flex \">\r\n\t\t\t\t\t<view class=\"topA-center-name\">\r\n\t\t\t\t\t\t王超\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"A-state\">\r\n\t\t\t\t\t\t询问\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"A-reater\">\r\n\t\t\t\t\t\tB\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"B-phone\">\r\n\t\t\t\t\t18666086490\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"\">\r\n\t\t\t\t\t资料完整度：77%\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"flex margin-top-xl\">\r\n\t\t\t\t<text class=\"cuIcon-mark\" style=\"width:30rpx,height:30rpx\"></text>\r\n\t\t\t\t<view class=\"driver\">\r\n\t\t\t\t\t\r\n\t\t\t\t</view>\r\n\t\t\t\t<text class=\"cuIcon-dianhua\"></text>\r\n\t\t\t</view>\r\n\t\t</view> -->\r\n\t\t\r\n\t\t<view class=\"kh-has-title\">\r\n\t\t\t<view class=\"kh-has-padding-title\">\r\n\t\t\t\t<block v-for=\"item in titleName\" :key=\"index\">\r\n\t\t\t\t<view class=\"kh-has-item\" v-on:click=\"changeKHData\" :data-keyword=\"item.keyword\">\r\n\t\t\t\t\t<view :class=\"keyword==item.keyword?'kh-has-text-copy':'kh-has-text'\" >\r\n\t\t\t\t\t\t{{item.name}}\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view :class=\"keyword==item.keyword?'kh-has-xian-copy':'kh-has-xian'\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t</block>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"\" v-if=\"keyword=='yy'\">\r\n\t\t\t<view class=\"padding-lr-lg\">\r\n\t\t\t\t<evan-steps >\r\n\t\t\t\t\t<block v-for=\"items in historyData\" :key=\"index\">\r\n\t\t\t\t\t\t<evan-step :createTime=\"items | getcreateTime\"\r\n\t\t\t\t\t\t\t\t   :title=\"items.name\"  \r\n\t\t\t\t\t\t\t\t   :distribution=\"items | getdistribution\"\r\n\t\t\t\t\t\t\t\t   :description=\"items | getrequestData\" \r\n\t\t\t\t\t\t\t\t   :subdescription=\"items | getmanagerDeration\" \r\n\t\t\t\t\t\t\t\t   :ImgData=\"items | getimgData\" \r\n\t\t\t\t\t\t\t\t   :status=\"index==items.length?'process':'wait'\">\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t</evan-step>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</block>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<!-- <evan-step title=\"第一步\" description=\"nihoa \">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</evan-step>\r\n\t\t\t\t\t<evan-step title=\"人员判客\"  subdescription=\"跟进人 : 小文\">\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t</evan-step> -->\r\n\t\t\t\t</evan-steps>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t<view class=\"\" v-if=\"keyword=='rc'\">\r\n\t\t\t<view class=\"twoItemye\">\r\n\t\t\t\t\r\n\t\t\t\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t\t客户姓名：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{baseData.customername}}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t\t性别：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{baseData.gender==\"1\"?\"男\":\"女\"}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t电话：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{variableData | getphone}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t意向：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{baseData.description}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t创建时间：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{getdetailcreateTime}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t置业顾问：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{variableData | getsleanmanName}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t当前流程：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{baseData.currenthandler? baseData.currenthandler:\"暂无信息\"}}\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t<view class=\"itemtopc\">\r\n\t\t\t\t<view class=\"itemtitle\">\r\n\t\t\t\t客户状态：\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"itemcontent\">\r\n\t\t\t\t\t{{baseData.workflowstatus==0?\"正常\":baseData.workflowstatus==1?\"完结\":baseData.workflowstatus==2?\"冻结\":baseData.workflowstatus==3?\"延期\":\"无效客户\"}}\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t\t\r\n\t\t\r\n\t</view>\n</template>\n\n<script>\r\n\timport EvanSteps from 'pagestwo/components/evan-steps/evan-steps.vue'\r\n\timport EvanStep from 'pagestwo/components/evan-steps/evan-step.vue'\r\n\timport api from '../../pages/api/home.js'\r\n\texport default{\r\n\t\tdata:function(){\r\n\t\t\treturn {\r\n\t\t\t\tbaseData:'',\r\n\t\t\t\tkeyword:'yy',\r\n\t\t\t\ttitleName:[{name:\"跟进记录\", keyword:\"yy\"},{name:\"资料信息\",keyword:'rc'},],\r\n\t\t\t\thistoryData:[],\r\n\t\t\t\tvariableData:[],\r\n\t\t\t\t\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\tEvanSteps,\r\n\t\t\tEvanStep\r\n\t\t},\r\n\t\tcomputed:{\r\n\t\t\tgetdetailcreateTime:function(){\r\n\t\t\t\tconsole.log(\"++++++++++++++++++++++\")\r\n\t\t\t\t\r\n\t\t\t\tconsole.log(this.historyData)\r\n\t\t\t\tif(this.historyData.length!=0){\r\n\t\t\t\t\tlet createTime = new Date(this.historyData[0].startTime);\r\n\t\t\t\t\tlet year=createTime.getFullYear()\r\n\t\t\t\t\tlet month=createTime.getMonth()+1\r\n\t\t\t\t\tlet day =createTime.getDay()\r\n\t\t\t\t\tlet hours=createTime.getHours()\r\n\t\t\t\t\tlet minutes=createTime.getMinutes()\r\n\t\t\t\t\tcreateTime=year+\"/\"+month+\"/\"+day+\" \"+hours+\":\"+minutes\r\n\t\t\t\t\treturn createTime;\r\n\t\t\t\t}else{\r\n\t\t\t\t\treturn \"暂无时间\";\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t},\r\n\t\tfilters:{\r\n\t\t\tgetcreateTime:function(value){\r\n\t\t\t\tconsole.log(\"取时间\")\r\n\t\t\t\tconsole.log(value)\r\n\t\t\t\tconsole.log(value.startTime)\r\n\t\t\t\tconsole.log(value)\r\n\t\t\t\t// return \"123456\";\r\n\t\t\t\t// let createTime=new Date(value.startTime).toLocaleString().replace(/:\\d{1,2}$/,' ');\r\n\t\t\t\tlet createTime = new Date(value.startTime);\r\n\t\t\t\tlet year=createTime.getFullYear()\r\n\t\t\t\tlet month=createTime.getMonth()+1\r\n\t\t\t\tlet day =createTime.getDay()\r\n\t\t\t\tlet hours=createTime.getHours()\r\n\t\t\t\tlet minutes=createTime.getMinutes()\r\n\t\t\t\tcreateTime=year+\"/\"+month+\"/\"+day+\" \"+hours+\":\"+minutes\r\n\t\t\t\treturn createTime;\r\n\t\t\t},\r\n\t\t\tgetdistribution:function(value){\r\n\t\t\t\tlet distribution=\"\";\r\n\t\t\t        \r\n\t\t\t\t\tfor(let i =0;i<value.resdistribList.length;i++){\r\n\t\t\t\t\t\tif(value.resdistribList[i].id == value.assignee){\r\n\t\t\t\t\t\t\tdistribution=value.resdistribList[i].realName?value.resdistribList[i].realName:value.resdistribList[i].nickName\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(distribution==\"\"){\r\n\t\t\t\t\t\tdistribution=\"经理\";\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(\"置业顾问\")\r\n\t\t\t    \tconsole.log(value)\r\n\t\t\t\treturn \"办理人：\"+distribution;\r\n\t\t\t},\r\n\t\t\tgetphone:function(value){\r\n\t\t\t\tfor(let i =0;i<value.length;i++){\r\n\t\t\t\t\tif(value[i][\"phone\"]){\r\n\t\t\t\t\treturn value[i][\"phone\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetsleanmanName:function(value){\r\n\t\t\t\tfor(let i =0;i<value.length;i++){\r\n\t\t\t\t\tif(value[i][\"customerName\"]){\r\n\t\t\t\t\treturn value[i][\"customerName\"];\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\tgetrequestData:function(value){\r\n\t\t\tlet type='_requestData';\r\n\t\t\tconsole.log(value)\r\n\t\t\tlet res=\"\"\r\n\t\t\tlet list= value.variableData;\r\n\t\t\tfor(let i =0;i<list.length;i++){\r\n\t\t\t\t\r\n\t\t\t\tlet id =value.id+type;\r\n\t\t\t\tfor(let key in list[i]){\r\n\t\t\t\t\t//console.log(key)\r\n\t\t\t\t\t if(id==key){\r\n\t\t\t\t\t\tres= list[i][key];\r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\tgetmanagerDeration:function(value){\r\n\t\t\tlet type='_managerDeration';\r\n\t\t\tconsole.log(value)\r\n\t\t\tlet res=\"\"\r\n\t\t\tlet list= value.variableData;\r\n\t\t\tfor(let i =0;i<list.length;i++){\r\n\t\t\t\t\r\n\t\t\t\tlet id =value.id+type;\r\n\t\t\t\tfor(let key in list[i]){\r\n\t\t\t\t\t//console.log(key)\r\n\t\t\t\t\t if(id==key){\r\n\t\t\t\t\t\tres= list[i][key];\r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\tgetimgData:function(value){\r\n\t\t\tlet type='_imgData';\r\n\t\t\tconsole.log(value)\r\n\t\t\tlet res=\"\"\r\n\t\t\tlet list= value.variableData;\r\n\t\t\tfor(let i =0;i<list.length;i++){\r\n\t\t\t\t\r\n\t\t\t\tlet id =value.id+type;\r\n\t\t\t\tfor(let key in list[i]){\r\n\t\t\t\t\t//console.log(key)\r\n\t\t\t\t\t if(id==key){\r\n\t\t\t\t\t\tres= list[i][key];\r\n\t\t\t\t\t }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\treturn res;\r\n\t\t},\r\n\t\t},\r\n\t\tmethods:{\r\n\t\t\tcehckData:function(e){\r\n\t\t\t\tconsole.log(\"___________________________________________\")\r\n\t\t\t\tconsole.log(this.baseData)\r\n\t\t\t\tconsole.log(this.historyData)\r\n\t\t\t\tconsole.log(this.variableData)\r\n\t\t\t},\r\n\t\t\tchangeKHData:function(e){\r\n\t\t\t\t\r\n\t\t\t\tthis.keyword=e.currentTarget.dataset.keyword\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tgetReferrals(id,resdistriblist){\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tthat.http(api.Referrals+'/get','GET',{\r\n\t\t\t\t\tid:id,\r\n\t\t\t\t},false).then(res=>{\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tthat.baseData=res.data.referrals\r\n\t\t\t\t\tlet value = res.data.referrals.instanceid\r\n\t\t\t\t\tconsole.log(value)\r\n\t\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.getHistoryVariableInstanceId(value,resdistriblist)\r\n\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t getHistoryVariableInstanceId(values,resdistriblist){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tconsole.log(values)\r\n\t\t\t\tlet resData=[];\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:api.GetHistoryVariable,\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tprocessInstanceId:values,\r\n\t\t\t\t\t\t//variableNameLike:\"%Record\"\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"Variable\")\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tfor(let i=0;i<res.data.length;i++)\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tlet object={};\r\n\t\t\t\t\t\t\tlet id =\"id\";\r\n\t\t\t\t\t\t\tlet idvalue= res.data[i].id\r\n\t\t\t\t\t\t\tlet key = res.data[i].name;\r\n\t\t\t\t\t\t\tlet value=res.data[i].value;\r\n\t\t\t\t\t\t\t//console.log(key)\r\n\t\t\t\t\t\t\t//console.log(value)\r\n\t\t\t\t\t\t\tobject[key]=value;\r\n\t\t\t\t\t\t\t// object[id]=idvalue;\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tresData.push(object)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(resData)\r\n\t\t\t\t\t\tconsole.log(\"Variable\")\r\n\t\t\t\t\t\tthat.variableData=resData;\r\n\t\t\t\t\t\t// let idss =getApp().globalData.projectItem.id\r\n\t\t\t\t\t\t// let resdistriblist= await that.http(api.getall,'GET',{affId:idss},false);\r\n\t\t\t\t\t\t// console.log(\"_____\")\r\n\t\t\t\t\t\tthat.getHistoryByInstanceId(values,resData,resdistriblist)\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetHistoryByInstanceId(id,list,resdistriblist){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tconsole.log(\"++++\")\r\n\t\t\t\t// that.http(api.GetHistory,'GET',{\r\n\t\t\t\t// \tprocessInstanceId:id\r\n\t\t\t\t// },false).then(res=>{\r\n\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t// })\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl:api.GetHistory,\r\n\t\t\t\t\tmethod:'GET',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tprocessInstanceId:id,\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tlet resData=res.data;\r\n\t\t\t\t\t\t\tif(resData.length>0){\r\n\t\t\t\t\t\t\t\tfor(var i =0;i<resData.length;i++){\r\n\t\t\t\t\t\t\t\t\tresData[i].startTime = new Date(resData[i].startTime).getTime();\r\n\t\t\t\t\t\t\t\t\tresData[i][\"variableData\"] =list;\r\n\t\t\t\t\t\t\t\t\tresData[i][\"resdistribList\"]=resdistriblist;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tresData.sort(function(a,b){\r\n\t\t\t\t\t\t\t\t\treturn a.startTime - b.startTime;\r\n\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tconsole.log(resData);\r\n\t\t\t\t\t\t\t// for(let j=0;j<resData.length;j++){\r\n\t\t\t\t\t\t\t// \tif(!resData[i].id){\r\n\t\t\t\t\t\t\t// \t\tresData.splice(i,1);\r\n\t\t\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\tthat.historyData = resData\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t},\r\n\t\tasync onLoad(options) {\r\n\t\t\tlet that=this;\r\n\t\t\t// console.log(options)\r\n\t\t\t// console.log(\"========================\")\r\n\t\t\t//let time = new Date(\"2020-09-28T16:23:00.000+0800\");\r\n\t\t\t//console.log(time.getTime())\r\n\t\t\t\r\n\t\t\t\r\n\t\t\tlet idss =getApp().globalData.projectItem.id\r\n\t\t\tlet resdistriblist= await that.http(api.getall,'GET',{affId:idss},false);\r\n\t\t\tconsole.log(\"+++++++++++++++++++++++++++\")\r\n\t\t\tconsole.log(resdistriblist)\r\n\t\t\tthis.getReferrals(options.id,resdistriblist.data)\r\n\t\t}\r\n\t}\n</script>\n\n<style>\r\n\t.twoItemye{\r\n\t\tmargin:20rpx;\r\n\t\tpadding:10rpx 20rpx;\r\n\t\t\r\n\t}\r\n\t.itemtopc{\r\n\t\tdisplay: flex;\r\n\t\tpadding: 10rpx 5rpx;\r\n\t\t/* border: solid 1rpx #000000; */\r\n\t}\r\n\t\r\n\t.itemtitle{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 800;\r\n\t\twidth:160rpx;\r\n\t\t/* border:solid 1rpx  #000000; */\r\n\t}\r\n\t.itemcontent{\r\n\t\tfont-size: 30rpx;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: rgba(153,153,153,1);\r\n\t\t/* width:500rpx; */\r\n\t\tmax-width:500rpx;\r\n\t\t/* border: solid 1rpx #000000; */\r\n\t}\r\n\t.topA{\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tbackground: url(https://img.0728jh.com/staticImg/bannerbg.png) repeat fixed center;\r\n\t\tpadding:100rpx 30rpx;\r\n\t\tcolor:white;\r\n\t}\r\n\t.image-A{\r\n\t\twidth: 100rpx;\r\n\t\theight: 100rpx;\r\n\t\tborder-radius: 50%;\r\n\t\tborder:solid 1rpx white;\r\n\t}\r\n\t.topA-center{\r\n\t\t\r\n\t}\r\n\t.driver{\r\n\t\tborder-left: solid white 1rpx;\r\n\t\tmargin:0rpx 20rpx;\r\n\t}\r\n\t.topA-center-name{\r\n\t\tpadding:5rpx 10rpx;\r\n\t}\r\n\t.A-state{\r\n\t\tpadding:5rpx 10rpx;\r\n\t\tborder: solid 1rpx white;\r\n\t\tborder-radius: 10rpx;\r\n\t\tmargin:0rpx 10rpx 0rpx 5rpx;\r\n\t}\r\n\t.A-reater{\r\n\t\tpadding:5rpx 10rpx;\r\n\t\tborder: solid 1rpx white;\r\n\t\tborder-radius: 10rpx;\r\n\t}\r\n\t.B-phone{\r\n\t\tmargin:5rpx 0rpx;\r\n\t}\r\n\t\r\n\t\r\n\t/**\r\n\t * \t标题导航\t\r\n\t */\r\n\t.kh-has-xian-copy{\r\n\t\t\tbackground:rgba(0,202,232,1);\r\n\t\t\tborder-radius:4rpx;\r\n\t\t\twidth:100rpx;\r\n\t\t\theight:8rpx;\r\n\t\t\tmargin:auto;\r\n\t\t}\r\n\t\t.kh-has-xian{\r\n\t\t\t\r\n\t\t\tborder-radius:4rpx;\r\n\t\t\twidth:100rpx;\r\n\t\t\theight:8rpx;\r\n\t\t\tmargin:auto;\r\n\t\t}\r\n\t\t.kh-has-item{\r\n\t\t\t\r\n\t\t}\r\n\t\t.kh-has-text-copy{\r\n\t\t\tmargin-bottom: 23rpx;\r\n\t\t\tcolor:rgba(0,202,232,1);\r\n\t\t}\r\n\t\t.kh-has-text{\r\n\t\t\tmargin-bottom: 23rpx;\r\n\t\t}\r\n\t\t.kh-has-padding-title{\r\n\t\t\tdisplay: flex;\r\n\t\t\tborder-bottom: solid 1rpx #EEEEEE;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tfont-size:32rpx;\r\n\t\t\tfont-family:PingFang SC;\r\n\t\t\tfont-weight:500;\r\n\t\t\tcolor:rgba(153,153,153,1);\r\n\t\t\t\r\n\t\t}\r\n\t\t.kh-has-title{\r\n\t\t\tpadding:30rpx;\r\n\t\t}\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}