{"version":3,"sources":["uni-app:///main.js","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?2a4b","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?d6b3","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?5e75","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?20ed","uni-app:///pagestwo/marketingCenter/home.vue","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?e320","webpack:///C:/Users/Administrator/Desktop/project/项目/unitest/pagestwo/marketingCenter/home.vue?ffc2"],"names":["createPage","Page"],"mappings":";;;;;;;;;;kDAAA;AACA;AACA,wG;AACAA,UAAU,CAACC,aAAD,CAAV,C;;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAiH;AACjH;AACwD;AACL;AACa;;;AAGhE;AACqK;AACrK,gBAAgB,+KAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,+EAAM;AACR,EAAE,wFAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,mFAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAA8lB,CAAgB,wnBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACwElnB;AACA,2F;;AAEA;AACA;AACA;AACA,cADA,EACA;AACA,gBAFA;AAGA,uBAHA;AAIA,sBAJA,EAIA;AACA,uBALA,EAKA;AACA,sBANA,EAMA;AACA,2BAPA,EAOA;AACA,qBARA,EAQA;AACA,qBATA;AAUA,mBAVA;AAWA,iBAXA;;AAaA,GAfA;AAgBA;AACA,0BADA,EAhBA;;AAmBA,QAnBA,kBAmBA,OAnBA,EAmBA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAZA;;AAcA,GApCA;AAqCA;AACA,UADA,oBACA;AACA,oBADA,GACA,KADA;AAEA,4BAFA;AAGA,gCAHA;;;;AAOA,iCAPA,SAOA,MAPA;AAQA,iEARA;AASA,sBATA;AAUA,oCAVA;AAWA,iEAXA;AAYA,6CAZA;;AAcA,KAfA;AAgBA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;AACA;AACA,kBAhCA,0BAgCA,CAhCA,EAgCA;AACA;AACA;AACA;AACA;AACA,wBADA,EACA;AACA;AACA;;;;AAIA;;AAEA,WANA;AAOA,SAVA;;AAYA,KAhDA;AAiDA,mBAjDA,6BAiDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAdA;AAeA,KAlEA;AAmEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA,OATA,MASA;AACA;AACA;AACA,KAlFA;AAmFA;AACA;AACA;AACA,yBADA;AAEA,uBAFA;AAGA,cAHA;;AAKA;AACA;AACA;AACA;AACA,mCADA,EACA;AACA,sBAFA;AAGA,kBAHA;AAIA,uBAJA;AAKA;AACA,6DADA;AAEA,2DAFA,EALA;;AASA;AACA;AACA,kDADA,CACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;AACA,SA3BA;;AA6BA,KA1HA;AA2HA,oBA3HA,8BA2HA;AACA,oBADA,GACA,MADA;AAEA,kBAFA,GAEA,kCAFA;AAGA,gCAHA;AAIA;AACA,6BADA;AAEA,uBAFA,CAJA,SAIA,GAJA;AAOA,uBAPA,GAOA,QAPA;AAQA;AACA;AACA;;AAEA,4BAZA,GAYA,uCAZA;AAaA;AACA,gCAdA,GAcA,EAdA;;AAgBA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,0FA7BA;AA8BA,KAzJA;AA0JA,wBA1JA,kCA0JA;AACA;AACA;AACA;AACA,+CADA;AAEA,qBAFA;AAGA;AACA,mCADA,CACA;AADA,SAHA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,gDADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;;AAEA,WAlBA,MAkBA;AACA;AACA,qCADA;AAEA,0BAFA;AAGA,4BAHA;;AAKA;AACA,SAlCA;;AAoCA,KAjMA;AAkMA,gBAlMA,0BAkMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCADA;AAEA,gCAFA;AAGA,6BAHA;AAIA,iGAJA;AAKA,uGALA;AAMA,sCANA;;AAQA;;AAEA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,uBADA;AAEA,4CAFA;AAGA,oBAHA;AAIA;AACA,+DADA;AAEA,6DAFA,EAJA;;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAHA,MAGA;AACA;AACA;AACA,gCADA;AAEA,4BAFA;AAGA,8BAHA;;AAKA;AACA;;AAEA,WA3BA;;;;AA+BA,OA7CA;AA8CA,KA/PA;AAgQA,yBAhQA,iCAgQA,EAhQA,EAgQA;;AAEA;AACA;AACA;AACA;AACA,4EADA;AAEA,sBAFA;AAGA;AACA;AACA;AACA,kDADA,EADA;;AAIA;AACA,sCADA,EAJA;;AAOA;AACA,uFADA,EAPA;;AAUA;AACA,+BADA,EAVA;;AAaA;AACA,0BADA,EAbA;;AAgBA;AACA,oCADA;AAEA,4BAFA;AAGA,2BAHA,EAhBA;;AAqBA;AACA,yCADA,EArBA;;AAwBA;AACA,yBADA,EAxBA;;AA2BA;AACA,oEADA,EA3BA;AA6BA;AACA;AACA,kGADA,EA9BA;;AAiCA;AACA,wBADA,EAjCA;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAhDA,SAHA;;AAsDA;AACA;AACA;AACA;AACA;AACA;AACA,SA5DA;;;AA+DA,KApUA;;AAsUA,eAtUA,yBAsUA;AACA,oBADA,GACA,MADA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,qBAFA,MAEA;AACA;AACA;AACA,mBARA;AASA,iBAVA,CAFA;AAaA,mBAbA;;AAeA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAtBA;AAwBA,KA9VA;AA+VA,YA/VA,sBA+VA;AACA;AACA,kBAFA,GAEA,kCAFA;AAGA,oBAHA,GAGA,MAHA;AAIA,oBAJA,GAIA,iBAJA;AAKA;AACA;AACA,6BADA;AAEA,uBAFA,EAEA,IAFA,CAEA;AACA;AACA;AACA,uCADA;AAEA,sCAFA;AAGA,oCAHA;;AAKA;AACA,qBAPA,MAOA;AACA;AACA;AACA,mBAbA;;AAeA,iBAhBA,CALA;;;;;;;;;;;;;;;;AAqCA,KApYA;AAqYA,WArYA,qBAqYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCADA;AAEA,qBAFA;AAGA;AACA,+BADA,EAHA;;AAMA,eANA,mBAMA,GANA,EAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAFA,MAEA;AACA;AACA,+BADA;AAEA,8BAFA;AAGA,4BAHA;;AAKA;;AAEA;;AAEA,SA7BA;;;AAgCA,KA7aA;AA8aA,iBA9aA,yBA8aA,IA9aA,EA8aA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA,OAVA;AAWA,KA5bA;AA6bA,mBA7bA,6BA6bA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BADA;AAEA,wBAFA;AAGA,sBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CADA,EADA,EADA;;;AAMA,qCANA;;AAQA;AACA,2DADA;AAEA,sBAFA;AAGA,kBAHA;AAIA,eAJA,mBAIA,GAJA,EAIA;AACA;AACA;AACA;AACA,2BADA;AAEA,4BAFA;AAGA,0BAHA;;AAKA;AACA;AACA,aAFA,EAEA,IAFA;;;;AAMA;AACA,SAnBA;AAoBA,YApBA,gBAoBA,QApBA,EAoBA;AACA;AACA;AACA,mCADA;AAEA,0BAFA;AAGA,wBAHA;;AAKA,SA3BA;;AA6BA,KA1fA;AA2fA,YA3fA,sBA2fA;AACA;AACA;AACA,iCADA;AAEA,yCAFA;AAGA,gCAHA;AAIA,wCAJA;;;AAOA,KApgBA;AAqgBA,aArgBA,qBAqgBA,OArgBA,EAqgBA;AACA;AACA;;AAEA,KAzgBA;AA0gBA,aA1gBA,qBA0gBA,OA1gBA,EA0gBA;AACA;AACA;AACA,KA7gBA;AA8gBA,mBA9gBA,6BA8gBA;AACA;AACA;AACA,KAjhBA;AAkhBA,oBAlhBA,8BAkhBA;AACA;;;AAGA;;AAEA,KAxhBA,EArCA,E;;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAg3B,CAAgB,i3BAAG,EAAC,C;;;;;;;;;;;ACAp4B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pagestwo/marketingCenter/home.js","sourcesContent":["import 'uni-pages';\nimport Vue from 'vue'\nimport Page from './pagestwo/marketingCenter/home.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./home.vue?vue&type=template&id=10bd4748&\"\nvar renderjs\nimport script from \"./home.vue?vue&type=script&lang=js&\"\nexport * from \"./home.vue?vue&type=script&lang=js&\"\nimport style0 from \"./home.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pagestwo/marketingCenter/home.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=template&id=10bd4748&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"\">\r\n\t\t<cu-custom bgColor=\"bg-white\" :isBack=\"true\" :senen=\"false\">\r\n\t\t\t<block slot=\"backText\"></block>\r\n\t\t\t<block slot=\"content\" class=\"title-text\">{{projectName}}营销中心</block>\r\n\t\t</cu-custom>\r\n\t\t<view class=\"\" v-if=\"!wxUser.phone\">\r\n\t\t\t<!-- <auth @refData=\"userInfoGet\" :showText=\"'微信一键登录'\" :sendPassed=\"false\" ></auth> -->\r\n\t\t\t\r\n\t\t\t<view class=\"auth-vips\">\r\n\t\t\t\t<view class=\"text-xxx\">\r\n\t\t\t\t\t<!-- <view class=\"\">\r\n\t\t\t\t\t\t天门新客邦\r\n\t\t\t\t\t</view> -->\r\n\t\t\t\t\t<image class=\"auth-img\" src=\"https://img.0728jh.com/1332139872148000768/material/b6be615b-f5ae-4765-9fd4-0a404ae1eaa3.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t<button class=\"auth-button\" open-type=\"getPhoneNumber\" @getphonenumber=\"getPhoneNumber\">微信一键登录</button>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t\t\r\n\t\t</view>\r\n\t\t<view v-else>\r\n\t\t\t<view class=\"\" v-if=\"firstFigure\">\r\n\t\t\t\t\t\t<image class=\"imgclass\" :src=\"firstFigure\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"commet\">\r\n\t\t\t\t\t    \r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"margin-bottom-sm margin-top-sm title-size\" v-if=\"wxUser.userRole==2\">\r\n\t\t\t\t\t\t\t选择客户\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<view class=\"\" style=\"margin-bottom: 200rpx;\" @click=\"useOutClickSides\" v-if=\"wxUser.userRole==2\">\r\n\t\t\t\t\t\t\t<easySelect ref=\"easySelect1\" :options=\"coustomerRealList\" :value=\"nowCoustomer.realName\" size=\"medium\" @selectOne=\"selectTwo\"></easySelect>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t\t\t<view class=\"margin-bottom-sm title-size\">\r\n\t\t\t\t\t\t\t{{isCheck?'选择置业顾问':'跟踪的置业顾问'}}\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\t\t\t<view class=\"\" @click=\"useOutClickSide\" >\r\n\t\t\t\t\t\t\t<easySelect ref=\"easySelect\" :options=\"isCheck?list:listone\" size=\"medium\" :value=\"distribution.realName?distribution.realName:distribution.nickName\"\r\n\t\t\t\t\t\t\t @selectOne=\"selectOne\"></easySelect>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t           \r\n\t\t\t\r\n\t\t\t\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"text-title\" v-if=\"!isCheck\" style=\"marign-top:230rpx\">\r\n\t\t\t\t\t\t请前台通知<text class=\"text_name\">{{distribution.realName}}</text>前来接待客户\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t\r\n\t\t\t\t\t<view class=\"flex  padding flex-direction\" style=\"marign-top:250rpx\">\r\n\t\t\t\t\t<!-- \t<view class=\"\" style=\"width:200rpx\">\r\n\t\t\tclass=\"cu-btn\"\r\n\t\t\t\t\t\t</view> -->\r\n\t\t\t\t\t\t<!-- <button v-if=\"!wxUser.nickName\"  class=\"cu-btn bg-grey lg\" @click=\"getUserProfile\">授权</button>\r\n\t\t\t\t\t\t<button v-if=\"wxUser.nickName && !wxUser.phone\"  open-type=\"getPhoneNumber\" class=\"cu-btn bg-grey lg\" @getphonenumber=\"getPhoneNumber\">电话授权</button> -->\r\n\t\t\t\t\t<!-- \t<button v-if=\"wxUser.nickName && wxUser.phone && wxUser.userRole!=2\" class=\"cu-btn bg-grey lg\" @tap=\"commit\">提交</button>\r\n\t\t\t\t\t\t<button v-if=\"wxUser.nickName && wxUser.phone && wxUser.userRole==2\" class=\"cu-btn bg-grey lg\" @tap=\"commitprocessed\">办理</button> -->\r\n\t\t\t\t\t\t<button v-if=\" wxUser.phone && wxUser.userRole!=2\" class=\"cu-btn bg-grey lg\" @tap=\"commit\">提交</button>\r\n\t\t\t\t\t\t<button v-if=\" wxUser.phone && wxUser.userRole==2\" class=\"cu-btn bg-grey lg\" @tap=\"commitprocessed\">办理</button>\r\n\t\t\t\t\t</view>\r\n\t\t\t\r\n\t\t\t\r\n\t\t</view>\r\n\t\t\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport init from '../../utils/initPage.js';\r\n\timport api from '../../pages/api/home.js';\r\n\timport easySelect from '@/components/easy-select/easy-select.vue'\r\n\texport default {\r\n\t\tdata: function() {\r\n\t\t\treturn {\r\n\t\t\t\tlist: [], //置业顾问列表\r\n\t\t\t\twxUser: \"\",\r\n\t\t\t\tselecValue: '双皮奶',\r\n\t\t\t\tdistribution: {}, //选择的置业顾问 或者已经绑定在本楼盘的顾问\r\n\t\t\t\tcoustomerList: [], //客户列表\r\n\t\t\t\tnowCoustomer: {}, //当前选择的客户\r\n\t\t\t\tcoustomerRealList: [], // 根据流程查出来的用户信息\r\n\t\t\t\tfirstFigure:\"\", //图片\r\n\t\t\t\tprojectName:\"\",\r\n\t\t\t\tisCheck:true,\r\n\t\t\t\tlistone:[],\r\n\t\t\t};\r\n\t\t},\r\n\t\tcomponents:{\r\n\t\t\teasySelect\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tlet that=this;\r\n\t\t\tconsole.log(\"+++++++++++++++++onLoad++++++++++++++++++++++++++++++\");\r\n\t\t\tinit.initPage().then(res => {\r\n\t\t\t\t\r\n\t\t\t\t// console.log(\"marketingCenter________________\")\r\n\t\t\t\t// console.log(getApp().globalData.wxUser)\r\n\t\t\t\t// console.log(getApp().globalData.platforminfo)\r\n\t\t\t\t// console.log(getApp().globalData.projectItem)\r\n\t\t\t\tlet wxUser=getApp().globalData.wxUser;\r\n\t\t\t\tthat.getplatforminfo();\r\n\t\t\t\tthat.getUserinfozhiye();\r\n\t\t\t\tif(wxUser.userRole===2){\r\n\t\t\t\t\tthat.getTask();\r\n\t\t\t\t}\t\r\n\t\t\t})\r\n\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tasync commit() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tif(!that.isCheck){\r\n\t\t\t\t\tthat.redirect();\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\tlet isAuth = await that.chooseGW();\r\n\t\t\t\tconsole.log(\"---------------------------------\")\r\n\t\t\t\tif(isAuth){\r\n\t\t\t\t\tawait that.userInfoGet();\r\n\t\t\t\t\tconsole.log(\"---------------------------------\")\r\n\t\t\t\t\tawait that.getProcessDefinition();\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\t// agreenGetUser:function(e){\r\n\t\t\t// \tconsole.log(e)\r\n\t\t\t\t\r\n\t\t\t// \tlet that=this;\r\n\t\t\t//   if (e.detail.errMsg == 'getUserInfo:ok') {\r\n\t\t\t// \tthat.http(api.wxUserSave,\"POST\",e.detail,false).then(res=>{\r\n\t\t\t\t\r\n\t\t\t// \tconsole.log(res)\r\n\t\t\t\t\t\r\n\t\t\t// \t\tthat.userInfoGet()\r\n\t\t\t\t\t\r\n\t\t\t// \t})\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t// }\r\n\t\t\t// },\r\n\t\t\tgetUserProfile(e) {\n\t\t    // 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认\n\t\t    // 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗\n\t\tlet that=this;\n\t\t    wx.getUserProfile({\n\t\t      desc: '用于完善会员资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写\n\t\t      success: (res) => {\n\t\t\t\tthat.http(api.wxUserSave,\"POST\",res,false).then(reslut=>{\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\r\n\t\t\t\t\tthat.userInfoGet()\r\n\t\t\t\t\t\r\n\t\t\t\t})\n\t\t      }\n\t\t    })\n\t\t  },\r\n\t\t\tgetplatforminfo(){\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tthat.http(api.platforminfo,\"GET\",{},false).then(res=>{\r\n\t\t\t\t\tconsole.log(\"getplatforminfo-信息\")\r\n\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\tlet projectList = res.data.basicInfoList;\r\n\t\t\t\t\tlet id = getApp().globalData.projectItem.id;\r\n\t\t\t\t\tlet projectnow={};\r\n\t\t\t\t\tfor(let i =0;i<projectList.length;i++){\r\n\t\t\t\t\t\tif(projectList[i].id ==id){\r\n\t\t\t\t\t\tprojectnow= projectList[i];\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log(projectnow)\r\n\t\t\t\t\tthat.firstFigure=projectnow.firstFigure\r\n\t\t\t\t\tthat.projectName=projectnow.projectName\r\n\t\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetPhoneNumber: function(e) { //第一步，获取手机授权\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tif (e.detail.errMsg == \"getPhoneNumber:ok\") { //用户点击了一个\r\n\t\t\t\t\tlet encryptedData = e.detail.encryptedData;\r\n\r\n\t\t\t\t\tlet iv = e.detail.iv;\r\n\t\t\t\t\t// };\r\n\t\t\t\t\tinit.initPage().then(res => { //保证sessionkey最新有效\r\n\t\t\t\t\t\tlet session_key = getApp().globalData.sessionKey;\r\n\t\t\t\t\t\tthat.sendphoneNumber(encryptedData, session_key, iv)\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tsendphoneNumber: function(encryptedData, session_key, iv) { //解析手机号码\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\tencryptedData: '',\r\n\t\t\t\t\tsession_key: '',\r\n\t\t\t\t\tiv: ''\r\n\t\t\t\t};\r\n\t\t\t\tdata.encryptedData = encryptedData;\r\n\t\t\t\tdata.session_key = session_key;\r\n\t\t\t\tdata.iv = iv\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetPhone, //仅为示例，并非真实接口地址。\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\ttimeout: 120000,\r\n\t\t\t\t\theader: {\r\n\t\t\t\t\t\t'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t\t\t\t'third-session': getApp().globalData.thirdSession\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.errMsg == \"request:ok\") {\r\n\t\t\t\t\t\t\tgetApp().globalData.wxUser = res.data //成功获取手机缓存到wxUser\r\n\t\t\t\t\t\t\tthat.wxUser = res.data\r\n\r\n\t\t\t\t\t\t\t// if(that.wxUser.invteer){  //第一次授权电话号码，发起流程如果有经纪人邀请码发起经纪人流程\r\n\t\t\t\t\t\t\t// \t//经纪人流程\r\n\t\t\t\t\t\t\t// \tthat.brokerprocess()\r\n\t\t\t\t\t\t\t// }else{\r\n\t\t\t\t\t\t\t// \t//自有流程\r\n\t\t\t\t\t\t\t// \tthat.getProcessDefinition()\r\n\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\tthat.checkphonept();\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tasync getUserinfozhiye() { //置业顾问\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet id = getApp().globalData.projectItem.id\r\n\t\t\t\tconsole.log(id)\r\n\t\t\t\tlet res = await that.http(api.getall, 'GET', {\r\n\t\t\t\t\taffId: id\r\n\t\t\t\t}, false);\r\n\t\t\t\tlet pconsul = res.data\r\n\t\t\t\tconsole.log(\"ddddddddddddddddddd\")\r\n\t\t\t\tconsole.log(pconsul)\r\n\t\t\t\tthat.list = res.data;\r\n\t\t\t\t\r\n\t\t\t\tlet distribution = getApp().globalData.wxUser.distribution\r\n\t\t\t\tthat.wxUser = getApp().globalData.wxUser\r\n\t\t\t\tlet distributionItem = {}\r\n\r\n\t\t\t\tfor (let i = 0; i < pconsul.length; i++) {\r\n\r\n\t\t\t\t\tfor (let j = 0; j < distribution.length; j++) {\r\n\r\n\t\t\t\t\t\tif (pconsul[i].id == distribution[j]) {\r\n\t\t\t\t\t\t\tgetApp().globalData.distribution = pconsul[i]\r\n\t\t\t\t\t\t\tdistributionItem = pconsul[i]\r\n\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tthat.distribution = distributionItem\r\n\t\t\t\tthat.listone.push(distributionItem);\r\n\t\t\t\tif(that.wxUser.phone && that.wxUser.userRole!=2){that.checkphonept();}\r\n\t\t\t},\r\n\t\t\tgetProcessDefinition(){   //获取自有流程id\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet projectItemId = getApp().globalData.projectItem.id\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition,\r\n\t\t\t\t\tmethod: 'GET',\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\ttenantIdIn:projectItemId  //楼盘id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(vlaue) {\r\n\t\t\t\t\t\tconsole.log('平台流程');\r\n\t\t\t\t\t\tconsole.log(vlaue);\r\n\t\t\t\t\t\tif (vlaue.statusCode == 200) {\r\n\t\t\t\t\t\t\tlet res = vlaue.data;\r\n\t\t\t\t\t\t\tlet id;\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.length; i++) {\r\n\t\t\t\t\t\t\t\tif (res[i].key == 'passenger') {\r\n\t\t\t\t\t\t\t\t\tid = res[i].id;\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tif(id){\r\n\t\t\t\t\t\t\t\tthat.PostProcessAcquistion(id);\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"请检查key为passenger的流程是否存在\",\r\n\t\t\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t\t\t\tduration:3000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '未找到有效流程，或流程未配置',\r\n\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\tduration: 3000\r\n\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcheckphonept(){\r\n\t\t\t\tlet that =this;\r\n\t\t\t\tlet projectItem=getApp().globalData.projectItem\r\n\t\t\t\tconsole.log(\"查看projctItem\")\r\n\t\t\t\tconsole.log(projectItem)\r\n\t\t\t\tconsole.log(getApp().globalData.distribution)\r\n\t\t\t\tlet distrubtyin\r\n\t\t\t\tlet data={\r\n\t\t\t\t\t\tphone:that.wxUser.phone,\r\n\t\t\t\t\t\tsenderId:that.wxUser.id,\r\n\t\t\t\t\t\taffId:projectItem.id,\r\n\t\t\t\t\t\tsalesmanId:getApp().globalData.distribution?getApp().globalData.distribution.id : null,\r\n\t\t\t\t\t\tgroupId:getApp().globalData.distribution?getApp().globalData.distribution.memberGroup: null,\r\n\t\t\t\t\t\ttenantId:that.wxUser.tenantId,\r\n\t\t\t\t\t};\r\n\t\t\t\treturn new Promise((l,r)=>{\r\n\t\t\t\t\t\r\n\t\t\t\t\t// that.http(api.Verification,\"GET\",data,false).then(res=>{\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// \tconsole.log(\"验证电话pt\")\r\n\t\t\t\t\t// \tconsole.log(res);\r\n\t\t\t\t\t// \tif(res.ok){\r\n\t\t\t\t\t// \t\tl(\"true\");\r\n\t\t\t\t\t// \t} else{\r\n\t\t\t\t\t// \t\tl(\"false\");\r\n\t\t\t\t\t// \t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t// })\r\n\t\t\t\t\tuni.request({\r\n\t\t\t\t\t\tmethod:\"GET\",\r\n\t\t\t\t\t\turl:api.Verificationplt,\r\n\t\t\t\t\t\tdata:data,\r\n\t\t\t\t\t\theader: {\r\n\t\t\t\t\t\t  'app-id': wx.getAccountInfoSync().miniProgram.appId,\r\n\t\t\t\t\t\t  'third-session': getApp().globalData.thirdSession\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tsuccess:function(reslt) {\r\n\t\t\t\t\t\t\t// that.checkPhone=false;\r\n\t\t\t\t\t\t\tconsole.log(\"验证电话pt\")\r\n\t\t\t\t\t\t\tconsole.log(\"_________________________________\")\r\n\t\t\t\t\t\t\tconsole.log(reslt);\r\n\t\t\t\t\t\t\tconsole.log(\"_________________________________\")\r\n\t\t\t\t\t\t\tif(reslt.data.ok){\r\n\t\t\t\t\t\t\t\tthat.isCheck=true;\r\n\t\t\t\t\t\t\t\tl(\"true\");\r\n\t\t\t\t\t\t\t} else{\r\n\t\t\t\t\t\t\t\tthat.isCheck=false;\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle:\"号码楼盘已存在\",\r\n\t\t\t\t\t\t\t\t\ticon:'none',\r\n\t\t\t\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tl(\"false\");\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t},\r\n\t\t\t PostProcessAcquistion(id){\r\n\t\t\t\t\r\n\t\t\t\tlet that=this;\r\n\t\t\t\tlet ids=id;\r\n\t\t\t\tlet project = getApp().globalData.projectItem\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.GetProcessDefinition+\"/\"+ids+\"/submit-form\",\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\tdata:{\r\n\t\t\t\t\t\tvariables:{\r\n\t\t\t\t\t\tinitiator: {\r\n\t\t\t\t\t\t\tvalue:getApp().globalData.wxUser.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tphone: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.phone\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcustomerName: {\r\n\t\t\t\t\t\t\tvalue:that.wxUser.realName?that.wxUser.realName:that.wxUser.nickName \r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\taffiliationId: {\r\n\t\t\t\t\t\t\tvalue: project.id\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcurrentTaskDeposit:{\r\n\t\t\t\t\t\t\tvalue: false,\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgender: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.sex,\r\n\t\t\t\t\t\t\ttype: 'String',\r\n\t\t\t\t\t\t\tvalueInfo: {}\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttenantId: {\r\n\t\t\t\t\t\t\tvalue: that.wxUser.tenantId\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tcharacters: {\r\n\t\t\t\t\t\t\tvalue: null\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tunspecified: {\r\n\t\t\t\t\t\t\tvalue: getApp().globalData.distribution ? false : true\r\n\t\t\t\t\t\t}, //未指定    有置业 false ，否则true\r\n\t\t\t\t\t\tsalesmanId: {\r\n\t\t\t\t\t\t\tvalue: getApp().globalData.distribution ? getApp().globalData.distribution.id : null\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\torigin: {\r\n\t\t\t\t\t\t\tvalue: '1'\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\t// {\r\n\t\t\t\t\t\t// \tinitiator:{value:getApp().globalData.wxUser.id},\r\n\t\t\t\t\t\t// \tphone:{value:that.wxUser.phone},\r\n\t\t\t\t\t\t// \tcustomerName:{value:that.wxUser.realName?that.wxUser.realName:that.wxUser.nickName},\r\n\t\t\t\t\t\t// \taffiliationId:{value:project.id},\r\n\t\t\t\t\t\t// \ttenantId:{value:that.wxUser.tenantId},\r\n\t\t\t\t\t\t// \tcharacters:{value:null},\r\n\t\t\t\t\t\t// \tunspecified:{value:that.distribution?false:true} ,//未指定    有置业 false ，否则true\r\n\t\t\t\t\t\t// \tsalesmanId:{value:that.distribution?that.distribution.id:null},\r\n\t\t\t\t\t\t// \torigin:{value:'1'}\r\n\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess: function(response) {\r\n\t\t\t\t\t\tconsole.log('提交平台流程');\r\n\t\t\t\t\t\tconsole.log(response);\r\n\t\t\t\t\t\tif(response.statusCode == 200){\r\n\t\t\t\t\t\t\tthat.redirect();\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\tasync userInfoGet() {\r\n\t\t\t\tlet that = this\r\n\t\t\t\treturn new Promise((r,l)=>{\r\n\t\t\t\t\tthat.http(api.userInfoGet, 'GET', {}, false).then((res)=>{\r\n\t\t\t\t\t\tthat.wxUser = res.data\r\n\t\t\t\t\t\tgetApp().globalData.wxUser = res.data\r\n\t\t\t\t\t\tif(res.ok){\r\n\t\t\t\t\t\t\tr(\"success\");\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tl(\"fail\")\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t});\r\n\t\t\t\tlet res=await that.http(api.userInfoGet, 'GET', {}, false);\r\n\t\t\t\t\t\r\n\t\t\t\t\t\tconsole.log(\"userInfoGet\")\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\t// userInfo: res.data\r\n\t\t\t\t\t\tthat.wxUser = res.data\r\n\t\t\t\t\t\tgetApp().globalData.wxUser = res.data\r\n\t\t\t\t\t\t// that.getUserinfozhiye();\t\r\n\t\t\t\t\t\t// that.$emit('cachwxUser',res.data)\r\n\t\t\t\t\t\t//刷新置业顾问\r\n\t\t\t\t\t\r\n\t\t\t},\r\n\t\t\tasync chooseGW() {\r\n\t\t\t\t//\tconsole.log(\"选择置业\")\r\n\t\t\t\tlet id = getApp().globalData.projectItem.id\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet data = that.distribution;\r\n\t\t\t\treturn new Promise((r,l)=>{\r\n\t\t\t\t\tthat.http(api.GetShareInfno + '/distribution/' + data.id, 'GET', {\r\n\t\t\t\t\t\taffId: id\r\n\t\t\t\t\t}, false).then((res)=>{\r\n\t\t\t\t\t\tif(res.data!=true){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:res.data,\r\n\t\t\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tl(false);\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\tr(true);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t\t\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t\t//\tconsole.log(data)\r\n\t\t\t\t//\tconsole.log(\"开始发起\")\r\n\t\t\t\t// let res = await that.http(api.GetShareInfno + '/distribution/' + data.id, 'GET', {\r\n\t\t\t\t// \taffId: id\r\n\t\t\t\t// }, false);\r\n\t\t\t\t// console.log(res);\r\n\t\t\t\t// if(res.data!=true){\r\n\t\t\t\t// \tuni.showToast({\r\n\t\t\t\t// \t\ttitle:res.data,\r\n\t\t\t\t// \t\tduration:1000,\r\n\t\t\t\t// \t\ticon:'none'\r\n\t\t\t\t// \t})\r\n\t\t\t\t// }\r\n\r\n\t\t\t},\r\n\t\t\tgetTask() {\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet wxUser = getApp().globalData.wxUser;\r\n\t\t\t\tconsole.log(wxUser.id)\r\n\t\t\t\t// that.http(api.getTask,'GET',{assigneeIn:wxUser.id},false).then((res)=>{\r\n\t\t\t\t// \tconsole.log(\"++++++++++++++++++++++++++++++\")\r\n\t\t\t\t// \tconsole.log(res)\r\n\t\t\t\t// })\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.getTask,\r\n\t\t\t\t\tmethod: \"GET\",\r\n\t\t\t\t\tdata: {\r\n\t\t\t\t\t\tassigneeIn: wxUser.id\r\n\t\t\t\t\t},\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(\"-------------------\")\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif (res.data) {\r\n\t\t\t\t\t\t\tthat.coustomerList = res.data\r\n\t\t\t\t\t\t\tlet list = [];\r\n\t\t\t\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\t\t\tlist.push(res.data[i][\"processInstanceId\"])\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tconsole.log(\"查看执行list id\")\r\n\t\t\t\t\t\t\tconsole.log(list)\r\n\t\t\t\t\t\t\tif (list.length > 0) {\r\n\t\t\t\t\t\t\t\tthat.postReferrals(list);\r\n\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: \"无客户可操作\",\r\n\t\t\t\t\t\t\t\t\tduration: 1000,\r\n\t\t\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\r\n\t\t\t},\r\n\t\t\tpostReferrals(list) {\r\n\t\t\t\tlet that = this;\r\n\r\n\t\t\t\tthat.http(api.Referrals + '/list', 'POST', list, false).then(res => {\r\n\t\t\t\t\tconsole.log(\"mycoustom\")\r\n\t\t\t\t\tconsole.log(res)\r\n\r\n\r\n\t\t\t\t\tfor (let i = 0; i < res.data.length; i++) {\r\n\t\t\t\t\t\tres.data[i][\"realName\"] = res.data[i][\"customerName\"]\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthat.coustomerRealList = res.data\r\n\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tcommitprocessed() { //中介提交流程\r\n\t\t\t\tlet that = this;\r\n\t\t\t\tlet coustomerList = that.coustomerList\r\n\t\t\t\tlet coustomer = that.nowCoustomer;\r\n\t\t\t\tlet id = \"\";\r\n\t\t\t\tfor (let i = 0; i < coustomerList.length; i++) {\r\n\t\t\t\t\tif (coustomerList[i].processInstanceId == coustomer.instanceId) {\r\n\t\t\t\t\t\tid = coustomerList[i].id\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tlet distribution = that.distribution;\r\n\t\t\t\tif(id==\"\"){\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle:\"未选择客户无法办理\",\r\n\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\t// console.log(\"___________________________\")\r\n\t\t\t\t// console.log(coustomerList)\r\n\t\t\t\t// console.log(coustomer)\r\n\t\t\t\t// console.log(distribution)\r\n\t\t\t\t// console.log(\"___________________________\")\r\n\t\t\t\tlet data = {\r\n\t\t\t\t\t\"variables\": {\r\n\t\t\t\t\t\t\"agentId\": {\r\n\t\t\t\t\t\t\t\"value\": distribution.id.toString()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\t\"withVariablesInReturn\": true\r\n\t\t\t\t}\r\n\t\t\t\tuni.request({\r\n\t\t\t\t\turl: api.getTask + \"/\" + id + \"/complete\",\r\n\t\t\t\t\tmethod: \"POST\",\r\n\t\t\t\t\tdata: data,\r\n\t\t\t\t\tsuccess(res) {\r\n\t\t\t\t\t\tconsole.log(res)\r\n\t\t\t\t\t\tif(res.statusCode==200){\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle:'处理成功',\r\n\t\t\t\t\t\t\t\tduration:1000,\r\n\t\t\t\t\t\t\t\ticon:'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\tsetTimeout(()=>{\r\n\t\t\t\t\t\t\t\tthat.redirect();\r\n\t\t\t\t\t\t\t},1000)\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail(response) {\r\n\t\t\t\t\t\tconsole.log(response)\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle:res.data.message,\r\n\t\t\t\t\t\t\tduration:2000,\r\n\t\t\t\t\t\t\ticon:\"none\",\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tredirect(){\r\n\t\t\t\tconsole.log(\"跳转\")\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl:'/pages/index/index',\r\n\t\t\t\t\tsuccess: res => {},\r\n\t\t\t\t\tfail: () => {},\r\n\t\t\t\t\tcomplete: () => {}\r\n\t\t\t\t});\r\n\t\t\t\t\r\n\t\t\t},\r\n\t\t\tselectOne(options) {\r\n\t\t\t\tconsole.log(options)\r\n\t\t\t\tthis.distribution = options\r\n\r\n\t\t\t},\r\n\t\t\tselectTwo(options) {\r\n\t\t\t\tconsole.log(options)\r\n\t\t\t\tthis.nowCoustomer = options\r\n\t\t\t},\r\n\t\t\tuseOutClickSide() {\r\n\t\t\t\tconsole.log();\t\r\n\t\t\t\tthis.$refs.easySelect.hideOptions && this.$refs.easySelect.hideOptions()\r\n\t\t\t},\r\n\t\t\tuseOutClickSides() {\r\n\t\t\t\tconsole.log();\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\tthis.$refs.easySelect1.hideOptions && this.$refs.easySelect1.hideOptions()\r\n\t\t\t\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t.text-title{\r\n\t\t\r\n\t\ttext-align: center;\r\n\t}\r\n\t.text_name{\r\n\t\tcolor: red;\r\n\t\tfont-weight: bold;\r\n\t\t\r\n\t\tpadding:0rpx 5rpx;\r\n\t}\r\n\t.commet {\r\n\t\tpadding: 0rpx 30rpx;\r\n\t\tmargin-bottom: 200rpx;\r\n\t}\r\n\t.title-size{\r\n\t\tfont-size: 40rpx;\r\n\t\tfont-weight: 400;\r\n\t}\r\n\t.imgclass{\r\n\t\twidth:100%;\r\n\t\theight: 400rpx;\r\n\t}\r\n\t.auth-img {\r\n\t\t\t/* border: dashed 1rpx #999999; */\r\n\t\t/* margin-left: 90rpx; */\r\n\t\theight: 150rpx;\r\n\t\t\r\n\t}\r\n\t.text-xxx{\r\n\t\t\r\n\t\ttext-align: center;\r\n\t\t\r\n\t}\r\n\t.auth-vips {\r\n\t\t/* height: 100vh; */\r\n\t\tbackground-color: #FFFFFF;\r\n\t\tpadding-top: 400rpx;\r\n\t}\r\n\t\r\n\t.auth-button {\r\n\t\twidth: 650rpx;\r\n\t\tmargin-left: 50rpx;\r\n\t\t/* margin-top: 20rpx; */\r\n\t\t/* width: 580rpx; */\r\n\t\theight: 98rpx;\r\n\t\tbackground: rgba(22, 204, 246, 1);\r\n\t\tborder-radius: 10rpx;\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-family: Microsoft YaHei;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: rgba(255, 255, 255, 1);\r\n\t\ttext-align: center;\r\n\t\tline-height: 98rpx;\r\n\t\t/* margin-left: 70rpx; */\r\n\t\tbottom: 250rpx;\r\n\t\tposition: absolute;\r\n\t\r\n\t}\r\n</style>\n","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./home.vue?vue&type=style&index=0&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1629702862850\n      var cssReload = require(\"D:/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}