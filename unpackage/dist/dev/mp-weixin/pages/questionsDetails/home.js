(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/questionsDetails/home"],{152:
/*!************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/main.js?{"page":"pages%2FquestionsDetails%2Fhome"} ***!
  \************************************************************************************************************/
/*! no static exports found */function(t,e,a){"use strict";(function(t){a(/*! uni-pages */4);n(a(/*! vue */2));var e=n(a(/*! ./pages/questionsDetails/home.vue */153));function n(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,a(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},153:
/*!*****************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue ***!
  \*****************************************************************************************/
/*! no static exports found */function(t,e,a){"use strict";a.r(e);var n=a(/*! ./home.vue?vue&type=template&id=3761ff50& */154),i=a(/*! ./home.vue?vue&type=script&lang=js& */156);for(var o in i)"default"!==o&&function(t){a.d(e,t,(function(){return i[t]}))}(o);a(/*! ./home.vue?vue&type=style&index=0&lang=css& */158);var s,r=a(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),l=Object(r["default"])(i["default"],n["render"],n["staticRenderFns"],!1,null,null,null,!1,n["components"],s);l.options.__file="pages/questionsDetails/home.vue",e["default"]=l.exports},154:
/*!************************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=template&id=3761ff50& ***!
  \************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,a){"use strict";a.r(e);var n=a(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=3761ff50& */155);a.d(e,"render",(function(){return n["render"]})),a.d(e,"staticRenderFns",(function(){return n["staticRenderFns"]})),a.d(e,"recyclableRender",(function(){return n["recyclableRender"]})),a.d(e,"components",(function(){return n["components"]}))},155:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=template&id=3761ff50& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,a){"use strict";var n;a.r(e),a.d(e,"render",(function(){return i})),a.d(e,"staticRenderFns",(function(){return s})),a.d(e,"recyclableRender",(function(){return o})),a.d(e,"components",(function(){return n}));var i=function(){var t=this,e=t.$createElement,a=(t._self._c,t._f("datefiflter")(t.questionsItem.createTime)),n=t.__map(t.questionsItem.listTopicReply,(function(e,a){var n=t.__get_orig(e),i="1"==e.auditStatus?t._f("datefiflter")(e.createTime):null;return{$orig:n,f1:i}}));t.$mp.data=Object.assign({},{$root:{f0:a,l0:n}})},o=!1,s=[];i._withStripped=!0},156:
/*!******************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(t,e,a){"use strict";a.r(e);var n=a(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */157),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},157:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var n=s(a(/*! ./node_modules/@babel/runtime/regenerator */18)),i=s(a(/*! ../../utils/initPage.js */21)),o=s(a(/*! ../../pages/api/home.js */11));function s(t){return t&&t.__esModule?t:{default:t}}function r(t,e,a,n,i,o,s){try{var r=t[o](s),l=r.value}catch(u){return void a(u)}r.done?e(l):Promise.resolve(l).then(n,i)}function l(t){return function(){var e=this,a=arguments;return new Promise((function(n,i){var o=t.apply(e,a);function s(t){r(o,n,i,s,l,"next",t)}function l(t){r(o,n,i,s,l,"throw",t)}s(void 0)}))}}var u={data:function(){return{popupadsData:"",popupaShow:"",detailValue:"",questionsItem:"",baseBudding:"",num:"",isShowTx:"",modalName:"",logoImg:"",questionsList:"",wxUser:getApp().globalData.wxUser,disabled:!1,painting:{},shareImage:"",imageWidth:0,imageHeight:0,Qcode:"",neiImgeHeighte:1,neiImgeWidth:1,ordinal:null}},computed:{placeholderComputer:function(){if(this.questionsItem)return"回复@"+this.questionsItem.userInfo.nickName},questionsDatalength:function(){var t=this,e=this.questionsItem,a=0;if(e)return e.listTopicReply.forEach((function(e){"1"!=e.auditStatus&&e.userInfo.id!=t.wxUser.id||++a})),a},questionsListsum:function(){var t=this,e=this.questionsList;if(e){var a=0;return e.forEach((function(e){"1"!=e.auditStatus&&e.createId!=t.wxUser.id||++a})),a}}},filters:{datefiflter:function(t){return(t||"").split(" ")[0]}},methods:{toMine:function(){t.redirectTo({url:"/pages/index/index?PageCur=mine"})},getquestionsDetailValue:function(t){this.detailValue=t.detail.value},getwxUser:function(t){var e=this;e.http(o.default.wxUserSave,"POST",t,!1).then((function(t){e.userInfoGets()}))},getuserinfo:function(t){"getUserInfo:ok"==t.detail.errMsg&&this.getwxUser(t.detail)},getUserProfile:function(t){var e=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(t){e.getwxUser(t)}})},questionscommit:function(){this.ReviewsCommit()},getQuestionsPages:function(){var t=this,e=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;t.http(o.default.QuestionsPage,"GET",{current:1,size:10,auditStatus:1,createId:getApp().globalData.wxUser.id,affiliationId:e},!1).then((function(e){console.log("楼盘问答"),console.log(e),t.questionsList=e.data.records}))},getQuestionsPage:function(t){var e=this,a=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(o.default.QuestionsPage,"GET",{id:t,affiliationId:a},!1).then((function(t){e.disabled=!1,e.questionsItem=t.data.records[0]}))},getQuestionsPagebyordinal:function(t){var e=this,a=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(o.default.QuestionsPage,"GET",{ordinal:t,affiliationId:a},!1).then((function(t){e.questionsItem=t.data.records[0]}))},getlogoImg:function(){var e=this,a=this,n=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;a.http(o.default.Notice,"GET",{type:"1",enable:"1",affiliation:"2",affiliationId:n},!1).then((function(n){if(n.data.listAdvertisementItem){a.logoImg=n.data.listAdvertisementItem[0].url;try{t.setStorageSync("logoImg",n.data.listAdvertisementItem[0].url)}catch(i){}}console.log(e.swiperList)}))},ReviewsCommit:function(){var t=this;if(!t.disabled){var e=getApp().globalData.projectItem.id;t.disabled=!0;var a=t.detailValue.replace(/\s*/g,"");if(!a)return void(t.disabled=!1);t.http(o.default.Topicreply,"POST",{replyTypes:4,typesId:t.questionsItem.id,details:t.detailValue,replyClass:t.questionsItem.createId==getApp().globalData.wxUser.id?"1":"0",affiliationId:e},!1).then((function(e){console.log("写回复"),console.log(e),t.disabled=!1,t.detailValue="",t.getQuestionsPage(t.questionsItem.id)}))}},getBaseBudding:function(){var t=this,e=this,a=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(o.default.BaseBudiing+"/get/"+a,"GET",{},!1).then((function(e){e.data;t.baseBudding=e.data,getApp().globalData.BaseBudding=e.data}))},getwxUsersuan:function(t){var e=this;e.http(o.default.wxUserSave,"POST",t,!1).then((function(t){e.userInfoGets()}))},getuserinfohx:function(t){"getUserInfo:ok"==t.detail.errMsg&&this.getwxUsersuan(t.detail)},hideModal:function(){this.modalName=""},eventDraw:function(){if(wx.showLoading({title:"分享图片生成中",mask:!0}),this.shareImage)return wx.hideLoading(),void(this.modalName="Image");var t=Math.floor(10*Math.random()),e=getApp().globalData.wxUser;this.painting={width:375,height:555,clear:!0,views:[{type:"image",url:"https://img.0728jh.com/staticImg/haibaobao"+t+".png",top:0,left:0,width:375,height:555},{type:"image",url:e.headimgUrl,top:27.5,left:29,width:55,height:55},{type:"image",url:"https://img.0728jh.com/staticImg/huangtukuang"+t+".png",top:27.5,left:29,width:55,height:55},{type:"text",content:"您的好友【"+e.nickName+"】",fontSize:16,color:"#402D16",textAlign:"left",top:33,left:96,bolder:!0,MaxLineNumber:1,breakWord:!0,width:250},{type:"text",content:"向您推荐"+this.baseBudding.projectName,fontSize:15,color:"#563D20",textAlign:"left",top:59.5,left:96},{type:"image",url:this.logoImg,top:136,left:42.5,width:290,height:186},{type:"image",url:this.Qcode,top:435,left:80,width:80,height:80},{type:"text",content:"问："+this.questionsItem.content,fontSize:16,lineHeight:21,color:"#383549",textAlign:"left",top:336,left:44,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:"想知道？就来吧，看看别人怎么说",fontSize:16,lineHeight:21,color:"#383549",textAlign:"left",top:380,left:44,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:"长按识别图中二维码了解"+this.baseBudding.projectName,fontSize:14,color:"#383549",textAlign:"left",top:460,left:165.5,lineHeight:20,MaxLineNumber:2,breakWord:!0,width:125}]}},eventSave:function(){this.hideModal(),wx.saveImageToPhotosAlbum({filePath:this.shareImage,success:function(t){wx.showToast({title:"保存图片成功",icon:"success",duration:2e3})}})},eventGetImage:function(e){var a=this;wx.hideLoading(),t.getImageInfo({src:e.detail.tempFilePath,success:function(t){a.imageWidth=t.width,a.imageHeight=t.height},fail:function(){console.log("图片宽高获取失败")}}),a.shareImage=e.detail.tempFilePath,a.modalName="Image"},userInfoGets:function(){var t=this;this.http(o.default.userInfoGet,"GET",{},!1).then((function(e){t.wxUser=e.data,getApp().globalData.wxUser=e.data}))},getShareCode:function(){var t=this,e="",a=getApp().globalData.wxUser,n=getApp().globalData.projectItem&&getApp().globalData.projectItem.affiliationCode?getApp().globalData.projectItem:getApp().globalData.BaseBudding;e="age_"+n.affiliationCode+"_"+a.userCode;var i=e+"_"+t.questionsItem.ordinal;t.http(o.default.ShareCode,"POST",{scene:i,page:"pages/questionsDetails/home"},!1).then((function(e){if(0==e.code){var a=wx.getFileSystemManager(),n="tmp_img_src",i="".concat(wx.env.USER_DATA_PATH,"/").concat(n,".jpg");a.writeFile({filePath:i,data:e.data,encoding:"base64",success:function(e){console.log("dizhi"),console.log(i),t.Qcode=i,t.eventDraw()},fail:function(){}})}}))},getPopupads:function(){var t=this;t.http(o.default.Popupads,"GET",{},!1).then((function(e){e&&(t.popupadsData=e.data)}))},Jiema:function(t,e,a){var n=this;return new Promise((function(i,s){n.http(o.default.Jiema,"GET",{aff:e,user:a,scene:t},!1).then((function(t){i(t)}))}))}},onShareAppMessage:function(){var t=getApp().globalData.BaseBudding,e="",a=getApp().globalData.wxUser;e=a.id;var n=getApp().globalData.projectItem,i=n.affiliationCode||this.affCode,o="age_"+i+"_"+a.userCode;return o=o+"_"+this.questionsItem.ordinal,{title:t.projectName,path:"/pages/questionsDetails/home?invitee="+e+"&scene="+o}},onLoad:function(t){var e=this;return l(n.default.mark((function a(){var o,s,r,l,u,d;return n.default.wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(o=e,s=null,!t.scene){a.next=15;break}return r=decodeURIComponent(t.scene),l=r.split("_"),a.next=7,o.Jiema(l[0],l[1],l[2]);case 7:u=a.sent,u.data["senen"]=l[0],e.affCode=l[1],d={id:u.data.affId},getApp().globalData.projectItem=d,getApp().globalData.senen=u.data,getApp().globalData.invitee=u.data.userId,e.ordinal=parseInt(l[3]);case 15:t.id&&(s=t.id),t.num&&(e.num=t.num),t.invitee&&(getApp().globalData.invit=t.invitee),e.isShowTx="0"==getApp().globalData.interaction,i.default.initPage().then((function(t){e.popupaShow=null==getApp().globalData.popupaShow||getApp().globalData.popupaShow,e.wxUser=getApp().globalData.wxUser,null==e.ordinal?e.getQuestionsPage(s):e.getQuestionsPagebyordinal(e.ordinal),e.wxUser=getApp().globalData.wxUser,e.getBaseBudding(),e.getQuestionsPages(),e.getlogoImg(),e.getPopupads()}));case 20:case"end":return a.stop()}}),a)})))()}};e.default=u}).call(this,a(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},158:
/*!**************************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************************/
/*! no static exports found */function(t,e,a){"use strict";a.r(e);var n=a(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */159),i=a.n(n);for(var o in n)"default"!==o&&function(t){a.d(e,t,(function(){return n[t]}))}(o);e["default"]=i.a},159:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsDetails/home.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,a){}},[[152,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/questionsDetails/home.js.map