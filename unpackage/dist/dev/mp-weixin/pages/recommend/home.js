(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/recommend/home"],{347:
/*!***********************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue ***!
  \***********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./home.nvue?vue&type=template&id=378bd273& */348),a=n(/*! ./home.nvue?vue&type=script&lang=js& */350);for(var i in a)"default"!==i&&function(e){n.d(t,e,(function(){return a[e]}))}(i);n(/*! ./home.nvue?vue&type=style&index=0&lang=css& */352);var r,s=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),l=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],r);l.options.__file="pages/recommend/home.nvue",t["default"]=l.exports},348:
/*!******************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=template&id=378bd273& ***!
  \******************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.nvue?vue&type=template&id=378bd273& */349);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},349:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=template&id=378bd273& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return r})),n.d(t,"recyclableRender",(function(){return i})),n.d(t,"components",(function(){return o}));var o={vcodeInput:function(){return n.e(/*! import() | components/vcode-input/vcode-input */"components/vcode-input/vcode-input").then(n.bind(null,/*! @/components/vcode-input/vcode-input.vue */645))}},a=function(){var e=this,t=e.$createElement;e._self._c},i=!1,r=[];a._withStripped=!0},350:
/*!************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=script&lang=js& ***!
  \************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.nvue?vue&type=script&lang=js& */351),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},351:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=script&lang=js& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,n,o){"use strict";(function(t){Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=r(o(/*! ./node_modules/@babel/runtime/regenerator */18)),i=r(o(/*! ../api/home.js */11));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,o,a,i,r){try{var s=e[i](r),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(o,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var i=e.apply(t,n);function r(e){s(i,o,a,r,l,"next",e)}function l(e){s(i,o,a,r,l,"throw",e)}r(void 0)}))}}var u=function(){o.e(/*! require.ensure | components/vcode-input/vcode-input */"components/vcode-input/vcode-input").then(function(){return resolve(o(/*! @/components/vcode-input/vcode-input */645))}.bind(null,o)).catch(o.oe)},c=function(){o.e(/*! require.ensure | components/register/home */"components/register/home").then(function(){return resolve(o(/*! @/components/register/home */652))}.bind(null,o)).catch(o.oe)},d={data:function(){return{modalName:"",name:"",phone:"",textarea:"",remm:"her",items:["先生","女士"],gender:"先生",wxUser:getApp().globalData.wxUser,BaseBudding:"",flags:!0,platforminfo:getApp().globalData.platforminfo,jumpsum:0,isCommit:!1,projectItem:getApp().globalData.projectItem,checkBox:!0,checkPhone:!0}},components:{VcodeInput:u,register:c},methods:{showcommission:function(){this.modalName="showcommission"},getCheckBoxValue:function(e){console.log(e),this.checkBox=!this.checkBox,console.log(this.checkBox)},toRegister:function(){var e=this;t.navigateTo({url:"../register/home",events:{getss:function(t){e.userInfoGets()}}})},showTap:function(){console.log("niho"),this.modalName="showTap"},cleanText:function(){this.$refs.myvcode.cleanText()},vcodeInput:function(e){var n=this;this.phone=e.replace(/●/g,"*");var o=getApp().globalData.projectItem;if(11==this.phone.length){console.log("++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),console.log(n.wxUser),console.log(getApp().globalData.distribution);var a={phone:n.phone,senderId:n.wxUser.id,affId:o.id,salesmanId:getApp().globalData.distribution.id,groupId:getApp().globalData.distribution.memberGroup,tenantId:n.wxUser.tenantId};console.log(a),t.request({method:"GET",url:i.default.Verification,data:a,success:function(e){n.checkPhone=!1,console.log("验证电话"),console.log(e),!0===e.data.ok?(n.isCommit=!1,t.showToast({title:"此号码正常",duration:1e3,icon:"none"})):1==e.data.data?(n.isCommit="您已推荐过此号码",e.data.msg?t.showModal({title:"提示",content:"您已在"+n.getTime(e.data.msg)+"推荐过此号码，本次推荐不成功，请填写您其他亲友的资料。",success:function(){}}):t.showToast({title:"您已推荐过此号码",duration:1e3,icon:"none"})):(n.isCommit="楼盘已存在此号码",e.data.msg?t.showModal({title:"提示",content:"该客户已经于"+n.getTime(e.data.msg)+"在楼盘登记，本次推荐不成功，请填写您其他亲友的资料",success:function(){}}):t.showToast({title:"楼盘已存在此号码",duration:1e3,icon:"none"}))}})}},getTime:function(e){var t=new Date(new Date(e)),n=t.getFullYear(),o=t.getMonth()+1,a=t.getDate(),i=n+"年"+o+"月"+a+"日 "+t.getHours()+"时"+t.getMinutes()+"分"+t.getSeconds()+"秒";console.log(t),console.log(i);return i},getuserinformd:function(){"getUserInfo:ok"==e.detail.errMsg&&this.commit()},getUserProfile:function(e){var t=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(e){t.http(i.default.wxUserSave,"POST",e,!1).then((function(e){console.log(e),t.userInfoGets().then((function(e){t.commit()}))}))}})},toIndex:function(){t.redirectTo({url:"/pages/index/index?PageCur=basics"})},radioChangexian:function(e){this.flags=1==e.detail.value,this.cleanText()},radioChange:function(e){this.gender=e.detail.value},showModal:function(e){this.modalName="Modal"},hideModal:function(e){this.modalName=null},changOne:function(e){this.remm=e.currentTarget.dataset.remmend},gettextarea:function(e){this.textarea=e.detail.value},getiphone:function(e){this.phone=e.detail.value},getname:function(e){this.name=e.detail.value},touchStart:function(e){},commit:function(){var e=this;if(e.name){e.phone;if(e.checkPhone)t.showToast({title:"号码验证未通过,请稍后再试.",duration:1e3,icon:"none"});else if(console.log(e.isCommit),e.isCommit)t.showToast({title:e.isCommit,duration:1e3,icon:"none"});else{var n=getApp().globalData.BaseBudding;console.log("查看缓存"),console.log(getApp().globalData),t.request({url:i.default.GetProcessDefinition,method:"GET",data:{tenantIdIn:n.id},success:function(n){if(200==n.statusCode){for(var o,a,i=n.data,r=0;r<i.length;r++)"broker"==i[r].key&&(o=i[r].id),"enrecommend"==i[r].key&&(a=i[r].id);e.flags?o?e.PostProcess(o):t.showToast({title:"请检查key为broker的流程是否存在",icon:"none",duration:3e3}):a?e.PostProcess(a):t.showToast({title:"请检查key为enrecommend的流程是否存在",icon:"none",duration:3e3})}else t.showToast({title:"未找到有效流程，或流程未配置",icon:"none",duration:3e3})}})}}else e.showModal()},PostProcess:function(e){var n=this,o=e,a=getApp().globalData.projectItem,r={variables:{phone:{value:n.phone.toString(),type:"String",valueInfo:{}},customerName:{value:n.name,type:"String",valueInfo:{}},gender:{value:"先生"==n.gender?"1":"女士"==n.gender?"2":"0",type:"String",valueInfo:{}},description:{value:n.textarea,type:"String",valueInfo:{}},affiliationId:{value:a.id,type:"String",valueInfo:{}},brokerId:{value:n.wxUser.id,type:"String",valueInfo:{}},salesmanId:{value:getApp().globalData.distribution?getApp().globalData.distribution.id:null,type:"String",valueInfo:{}},brokerName:{value:n.wxUser.realName||n.wxUser.nickName,type:"String",valueInfo:getApp().globalData.wxUser},brokerPhone:{value:n.wxUser.phone,type:"String",valueInfo:{}},inviteeId:{value:n.wxUser.invitee,type:"String",valueInfo:{}},tenantId:{value:n.wxUser.tenantId,type:"String",valueInfo:{}},origin:{value:"0"}},businessKey:n.phone};console.log(r),t.request({url:i.default.GetProcessDefinition+"/"+o+"/submit-form",method:"POST",data:r,success:function(e){200==e.statusCode&&(n.phone="",n.name="",n.textarea="",n.cleanText(),n.modalName="DialogModal")}})},userInfoGets:function(){var e=this,t=this;return new Promise((function(n,o){e.http(i.default.userInfoGet,"GET",{},!1).then((function(e){t.wxUser=e.data,console.log(e),getApp().globalData.wxUser=e.data,n("success")}))}))},getss:function(){console.log("1223")},choose:function(){var e=this,t=getApp().globalData.BaseBudding;return console.log("++++++++++++++++++++++"),console.log(getApp().globalData.projectItem),console.log(getApp().globalData.platforminfo),console.log("++++++++++++++++++++++"),new Promise((function(n,o){e.http(i.default.GetShareInfno+"/distributions","GET",{affId:t.id},!1).then((function(t){console.log(t),t.data&&(getApp().globalData.wxUser=t.data,e.wxUser=t.data,n("success"))}))}))},getdistribution:function(){var e=this,t=getApp().globalData.projectItem.id,n=getApp().globalData.wxUser.distribution;return console.log("wxUser"),console.log(getApp().globalData.wxUser),new Promise((function(o,a){e.http(i.default.getall,"GET",{affId:t},!1).then((function(e){console.log("查看置业列表"),console.log(e);for(var t=e.data,a=null,i=0;i<t.length;i++)for(var r=0;r<n.length;r++)t[i].id==n[r]&&(a=t[i],getApp().globalData.distribution=t[i]);console.log("第二步，获取置业"),console.log(getApp().globalData.distribution),o(a)}))}))}},deactivated:function(){console.log("deactivated")},mounted:function(){var e=this;return l(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("recomend mounted"),e.BaseBudding=getApp().globalData.BaseBudding,e.wxUser=getApp().globalData.wxUser,console.log("查看用户信息"),console.log(getApp().globalData.wxUser),e.jumpsum=getApp().globalData.platforminfo.suppressionNumber,getApp().globalData.distribution){t.next=13;break}return t.next=9,e.choose();case 9:return t.next=11,e.userInfoGets();case 11:return t.next=13,e.getdistribution();case 13:e.wxUser=getApp().globalData.wxUser;case 14:case"end":return t.stop()}}),t)})))()},created:function(){var e=this;return l(a.default.mark((function t(){return a.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.userInfoGets();case 2:case"end":return t.stop()}}),t)})))()}};n.default=d}).call(this,o(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},352:
/*!********************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=style&index=0&lang=css& ***!
  \********************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.nvue?vue&type=style&index=0&lang=css& */353),a=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);t["default"]=a.a},353:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/recommend/home.nvue?vue&type=style&index=0&lang=css& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/recommend/home.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/recommend/home-create-component',
    {
        'pages/recommend/home-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(347))
        })
    },
    [['pages/recommend/home-create-component']]
]);
