(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/pReviewsDetails/home"],{87:
/*!***********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/main.js?{"page":"pages%2FpReviewsDetails%2Fhome"} ***!
  \***********************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){i(/*! uni-pages */4);a(i(/*! vue */2));var t=a(i(/*! ./pages/pReviewsDetails/home.vue */88));function a(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},88:
/*!****************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue ***!
  \****************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var a=i(/*! ./home.vue?vue&type=template&id=245933a0& */89),n=i(/*! ./home.vue?vue&type=script&lang=js& */91);for(var o in n)"default"!==o&&function(e){i.d(t,e,(function(){return n[e]}))}(o);i(/*! ./home.vue?vue&type=style&index=0&lang=css& */93);var r,s=i(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),l=Object(s["default"])(n["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],r);l.options.__file="pages/pReviewsDetails/home.vue",t["default"]=l.exports},89:
/*!***********************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=template&id=245933a0& ***!
  \***********************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";i.r(t);var a=i(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=245933a0& */90);i.d(t,"render",(function(){return a["render"]})),i.d(t,"staticRenderFns",(function(){return a["staticRenderFns"]})),i.d(t,"recyclableRender",(function(){return a["recyclableRender"]})),i.d(t,"components",(function(){return a["components"]}))},90:
/*!***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=template&id=245933a0& ***!
  \***********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,i){"use strict";var a;i.r(t),i.d(t,"render",(function(){return n})),i.d(t,"staticRenderFns",(function(){return r})),i.d(t,"recyclableRender",(function(){return o})),i.d(t,"components",(function(){return a}));var n=function(){var e=this,t=e.$createElement;e._self._c},o=!1,r=[];n._withStripped=!0},91:
/*!*****************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var a=i(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */92),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},92:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=script&lang=js& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(i(/*! ./node_modules/@babel/runtime/regenerator */18)),n=r(i(/*! ../../utils/initPage.js */21)),o=r(i(/*! ../../pages/api/home.js */11));function r(e){return e&&e.__esModule?e:{default:e}}function s(e,t,i,a,n,o,r){try{var s=e[o](r),l=s.value}catch(d){return void i(d)}s.done?t(l):Promise.resolve(l).then(a,n)}function l(e){return function(){var t=this,i=arguments;return new Promise((function(a,n){var o=e.apply(t,i);function r(e){s(o,a,n,r,l,"next",e)}function l(e){s(o,a,n,r,l,"throw",e)}r(void 0)}))}}var d={data:function(){return{swiperItem:{id:""},details:"",wxUser:getApp().globalData.wxUser,isShowTx:"",swiperList:"",painting:{},shareImage:"",modalName:"",imageWidth:0,imageHeight:0,Qcode:"",neiImgeHeighte:1,neiImgeWidth:1,baseBudding:"",ordinal:null,logoImg:"",disabled:!1}},methods:{isAuth:function(){return!!getApp().globalData.wxUser.nickName||(e.showToast({title:"请先授权",icon:"none",duration:3e3}),!1)},getlogoImg:function(){var t=this,i=getApp().globalData.projectItem.id;t.http(o.default.Notice,"GET",{type:"1",enable:"1",affiliation:"2",affiliationId:i},!1).then((function(i){if(i.data.listAdvertisementItem){t.logoImg=i.data.listAdvertisementItem[0].url;try{e.setStorageSync("logoImg",i.data.listAdvertisementItem[0].url)}catch(a){}}}))},getTextareaValue:function(e){this.isAuth();this.details=e.detail.value},getreadingReviewstotal:function(){var e=this;e.http(o.default.ReadingReviews,"GET",{current:1,size:100,auditStatus:1,createId:getApp().globalData.wxUser.id},!1).then((function(t){e.swiperList=t.data.records}))},getreadingReviews:function(e){var t=this,i=e||t.swiperItem.id;t.http(o.default.ReadingReviews,"GET",{current:1,size:1,id:i},!1).then((function(e){t.disabled=!1,t.swiperItem=e.data.records[0]}))},getreadingReviewsbyordinal:function(e){var t=this;t.http(o.default.ReadingReviews,"GET",{ordinal:e},!1).then((function(e){t.disabled=!1,t.swiperItem=e.data.records[0]}))},getRefreshData:function(){this.getreadingReviews()},getwxUser:function(e){var t=this;t.http(o.default.wxUserSave,"POST",e,!1).then((function(e){t.userInfoGets()}))},getUserProfile:function(e){var t=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(e){t.getwxUser(e)}})},ReviewsCommit:function(){var e=this;if(!e.disabled){e.disabled=!0;var t=e.details.replace(/\s*/g,"");if(!t)return void(e.disabled=!1);e.http(o.default.Topicreply,"POST",{replyTypes:2,typesId:e.swiperItem.id,details:e.details,replyClass:e.swiperItem.createId==getApp().globalData.wxUser.id?"1":"0",affiliationId:getApp().globalData.projectItem.id},!1).then((function(t){e.details="",e.getreadingReviews(e.swiperItem.id)}))}},getTestReviews:function(e){var t=this,i=e||t.swiperItem.id;t.http(o.default.TestReviews,"POST",{id:i},!1).then((function(e){1==e.data&&t.getreadingReviews(i)}))},getBaseBudding:function(){var e=this,t=this,i=getApp().globalData.projectItem.id;t.http(o.default.BaseBudiing+"/get/"+i,"GET",{},!1).then((function(t){t.data;e.baseBudding=t.data,getApp().globalData.BaseBudding=t.data}))},hideModal:function(){this.modalName=""},eventDraw:function(){if(wx.showLoading({title:"分享图片生成中",mask:!0}),this.shareImage)return wx.hideLoading(),void(this.modalName="Image");var e=getApp().globalData.wxUser;this.painting={width:375,height:555,clear:!0,views:[{type:"image",url:"https://img.0728jh.com/staticImg/haibaobao.png",top:0,left:0,width:375,height:555},{type:"image",url:e.headimgUrl,top:27.5,left:29,width:55,height:55},{type:"image",url:"https://img.0728jh.com/staticImg/tukuang.png",top:27.5,left:29,width:55,height:55},{type:"text",content:"您的好友【"+e.nickName+"】",fontSize:16,color:"#402D16",textAlign:"left",top:33,left:96,bolder:!0,MaxLineNumber:1,breakWord:!0,width:250},{type:"text",content:"向您推荐"+this.baseBudding.projectName,fontSize:15,color:"#563D20",textAlign:"left",top:59.5,left:96},{type:"image",url:this.Qcode,top:435,left:80,width:80,height:80},{type:"text",content:"楼盘点评",fontSize:20,lineHeight:21,color:"#383549",textAlign:"left",top:150,left:44,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:"网友 ：",fontSize:16,lineHeight:21,color:"#383549",textAlign:"left",top:200,left:44,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:this.swiperItem.content,fontSize:16,lineHeight:21,color:"#383549",textAlign:"left",top:250,left:44,width:287,MaxLineNumber:4,breakWord:!0,bolder:!0},{type:"text",content:"长按识别图中二维码了解"+this.baseBudding.projectName,fontSize:14,color:"#383549",textAlign:"left",top:460,left:165.5,lineHeight:20,MaxLineNumber:2,breakWord:!0,width:125}]}},eventSave:function(){this.hideModal(),wx.saveImageToPhotosAlbum({filePath:this.shareImage,success:function(e){wx.showToast({title:"保存图片成功",icon:"success",duration:2e3})}})},eventGetImage:function(t){var i=this;console.log(t),wx.hideLoading(),e.getImageInfo({src:t.detail.tempFilePath,success:function(e){i.imageWidth=e.width,i.imageHeight=e.height},fail:function(){}}),i.shareImage=t.detail.tempFilePath,i.modalName="Image"},getShareCode:function(){var e=this,t="",i=getApp().globalData.wxUser,a=getApp().globalData.projectItem&&getApp().globalData.projectItem.affiliationCode?getApp().globalData.projectItem:getApp().globalData.BaseBudding;t="age_"+a.affiliationCode+"_"+i.userCode;var n=t+"_"+e.swiperItem.ordinal;e.http(o.default.ShareCode,"POST",{scene:n,page:"pages/pReviewsDetails/home"},!1).then((function(t){if(0==t.code){var i=wx.getFileSystemManager(),a="tmp_img_src",n="".concat(wx.env.USER_DATA_PATH,"/").concat(a,".jpg");i.writeFile({filePath:n,data:t.data,encoding:"base64",success:function(t){e.Qcode=n,e.eventDraw()},fail:function(){}})}}))},userInfoGets:function(){var e=this;this.http(o.default.userInfoGet,"GET",{},!1).then((function(t){e.wxUser=t.data,getApp().globalData.wxUser=t.data}))},getPopupads:function(){var e=this;e.http(o.default.Popupads,"GET",{},!1).then((function(t){t&&(e.popupadsData=t.data)}))},Jiema:function(e,t,i){var a=this;return new Promise((function(n,r){a.http(o.default.Jiema,"GET",{aff:t,user:i,scene:e},!1).then((function(e){console.log("解码"),console.log(e),n(e)}))}))}},onShareAppMessage:function(){var e=getApp().globalData.BaseBudding,t="",i=getApp().globalData.wxUser;t=i.id;var a=getApp().globalData.projectItem,n=a.affiliationCode||this.affCode,o=o="age_"+n+"_"+i.userCode;return o=o+"_"+this.swiperItem.ordinal,{title:e.projectName,path:"/pages/pReviewsDetails/home?invitee="+t+"&scene="+o}},onLoad:function(e){var t=this;return l(a.default.mark((function i(){var o,r,s,l,d,u;return a.default.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=t,!e.scene){i.next=14;break}return r=decodeURIComponent(e.scene),s=r.split("_"),i.next=6,o.Jiema(s[0],s[1],s[2]);case 6:l=i.sent,l.data["senen"]=s[0],d={id:l.data.affId},getApp().globalData.projectItem=d,getApp().globalData.senen=l.data,getApp().globalData.invitee=l.data.userId,t.ordinal=parseInt(s[3]),t.affCode=s[1];case 14:e.invitee&&(getApp().globalData.invit=e.invitee),e.id&&(u=e.id,t.swiperItem.id=u),t.isShowTx="0"==getApp().globalData.interaction,n.default.initPage().then((function(e){t.popupaShow=null==getApp().globalData.popupaShow||getApp().globalData.popupaShow,o.wxUser=getApp().globalData.wxUser,null!=t.ordinal?t.getreadingReviewsbyordinal(t.ordinal):(o.getTestReviews(o.swiperItem.id),o.getreadingReviews(o.swiperItem.id)),o.getBaseBudding(),o.getreadingReviewstotal(),o.getlogoImg(),o.getPopupads()}));case 18:case"end":return i.stop()}}),i)})))()},onShow:function(){}};t.default=d}).call(this,i(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},93:
/*!*************************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=style&index=0&lang=css& ***!
  \*************************************************************************************************************************/
/*! no static exports found */function(e,t,i){"use strict";i.r(t);var a=i(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */94),n=i.n(a);for(var o in a)"default"!==o&&function(e){i.d(t,e,(function(){return a[e]}))}(o);t["default"]=n.a},94:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/pReviewsDetails/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,i){}},[[87,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/pReviewsDetails/home.js.map