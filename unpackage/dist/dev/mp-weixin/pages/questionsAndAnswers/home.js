(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/questionsAndAnswers/home"],{144:
/*!***************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/main.js?{"page":"pages%2FquestionsAndAnswers%2Fhome"} ***!
  \***************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){n(/*! uni-pages */4);a(n(/*! vue */2));var e=a(n(/*! ./pages/questionsAndAnswers/home.vue */145));function a(t){return t&&t.__esModule?t:{default:t}}t(e.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},145:
/*!********************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue ***!
  \********************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! ./home.vue?vue&type=template&id=610a32c8& */146),i=n(/*! ./home.vue?vue&type=script&lang=js& */148);for(var o in i)"default"!==o&&function(t){n.d(e,t,(function(){return i[t]}))}(o);n(/*! ./home.vue?vue&type=style&index=0&lang=css& */150);var r,s=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),u=Object(s["default"])(i["default"],a["render"],a["staticRenderFns"],!1,null,null,null,!1,a["components"],r);u.options.__file="pages/questionsAndAnswers/home.vue",e["default"]=u.exports},146:
/*!***************************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=template&id=610a32c8& ***!
  \***************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=610a32c8& */147);n.d(e,"render",(function(){return a["render"]})),n.d(e,"staticRenderFns",(function(){return a["staticRenderFns"]})),n.d(e,"recyclableRender",(function(){return a["recyclableRender"]})),n.d(e,"components",(function(){return a["components"]}))},147:
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=template&id=610a32c8& ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(t,e,n){"use strict";var a;n.r(e),n.d(e,"render",(function(){return i})),n.d(e,"staticRenderFns",(function(){return r})),n.d(e,"recyclableRender",(function(){return o})),n.d(e,"components",(function(){return a}));var i=function(){var t=this,e=t.$createElement;t._self._c},o=!1,r=[];i._withStripped=!0},148:
/*!*********************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=script&lang=js& ***!
  \*********************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */149),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},149:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=script&lang=js& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a,i=s(n(/*! ./node_modules/@babel/runtime/regenerator */18)),o=s(n(/*! ../../utils/initPage.js */21)),r=s(n(/*! ../../pages/api/home.js */11));function s(t){return t&&t.__esModule?t:{default:t}}function u(t,e,n,a,i,o,r){try{var s=t[o](r),u=s.value}catch(l){return void n(l)}s.done?e(u):Promise.resolve(u).then(a,i)}function l(t){return function(){var e=this,n=arguments;return new Promise((function(a,i){var o=t.apply(e,n);function r(t){u(o,a,i,r,s,"next",t)}function s(t){u(o,a,i,r,s,"throw",t)}r(void 0)}))}}function c(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function d(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=f(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var a=0,i=function(){};return{s:i,n:function(){return a>=t.length?{done:!0}:{done:!1,value:t[a++]}},e:function(t){throw t},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,r=!0,s=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return r=t.done,t},e:function(t){s=!0,o=t},f:function(){try{r||null==n.return||n.return()}finally{if(s)throw o}}}}function f(t,e){if(t){if("string"===typeof t)return g(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(t,e):void 0}}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,a=new Array(e);n<e;n++)a[n]=t[n];return a}var p={data:function(){return{popupadsData:"",popupaShow:"",questionsValue:"",questionsList:[],baseBudding:"",isShowTx:"",logoImg:"",modalName:"",wxUser:getApp().globalData.wxUser,painting:{},shareImage:"",imageWidth:0,imageHeight:0,Qcode:"",neiImgeHeighte:1,neiImgeWidth:1,disabled:!1,wdcurrent:1,ordinal:null,listMap:""}},computed:{questionsListsum:function(){var t=this,e=this.questionsList;if(e){var n=0;return e.forEach((function(e){"1"!=e.auditStatus&&e.createId!=t.wxUser.id||++n})),n}}},methods:(a={scrolltolower:function(){this.wdcurrent=this.wdcurrent+1,this.getQuestionsPage()},toMine:function(){t.redirectTo({url:"/pages/index/index?PageCur=mine"})},getwxUser:function(t){var e=this,n=this;n.http(r.default.wxUserSave,"POST",t,!1).then((function(t){e.userInfoGets()}))},toQuestionsDetails:function(e){var n=e.currentTarget.dataset.id;t.navigateTo({url:"../questionsDetails/home?id="+n})},getquestioninput:function(t){this.questionsValue=t.detail.value},getUserProfile:function(t){var e=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(t){e.getwxUser(t)}})},questionscommit:function(){if(!this.disabled){this.disabled=!0;var t=this.questionsValue.replace(/\s*/g,"");if(!t)return;this.getAskquestions()}},getQuestionsPage:function(){var t=this,e=this,n=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(r.default.QuestionsPage,"GET",{current:e.wdcurrent,size:5,auditStatus:1,descs:"create_time",createId:getApp().globalData.wxUser.id,affiliationId:n},!1).then((function(n){var a,i=t.listMap,o=d(n.data.records);try{for(o.s();!(a=o.n()).done;){var r=a.value;i.set(r.id,r)}}catch(u){o.e(u)}finally{o.f()}var s=[];i.forEach((function(t){console.log("key",t),s.push(t)})),e.questionsList=s,e.disabled=!1}))},getAskquestions:function(){var t=this,e=this,n=getApp().globalData.projectItem.id;e.http(r.default.Questions,"POST",{content:e.questionsValue,affiliationId:n},!1).then((function(n){e.questionsValue="",1==n.data&&(e.wdcurrent=1,t.getQuestionsPage())}))},getBaseBudding:function(){var t=this,e=this,n=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(r.default.BaseBudiing+"/get/"+n,"GET",{},!1).then((function(n){t.baseBudding=n.data,getApp().globalData.BaseBudding=n.data,e.tagData=t.baseBudding.keywords,e.index=parseInt(t.baseBudding.salesStatus)}))},getlogoImg:function(){var e=this,n=getApp().globalData.projectItem?getApp().globalData.projectItem.id:getApp().globalData.senen.affId;e.http(r.default.Notice,"GET",{type:"1",enable:"1",affiliationId:n,affiliation:"2"},!1).then((function(n){if(n.data.listAdvertisementItem){e.logoImg=n.data.listAdvertisementItem[0].url;try{t.setStorageSync("logoImg",n.data.listAdvertisementItem[0].url)}catch(a){}}}))},getwxUsersuan:function(t){var e=this;e.http(r.default.wxUserSave,"POST",t,!1).then((function(t){e.userInfoGets()}))}},c(a,"getUserProfile",(function(t){var e=this;wx.getUserProfile({desc:"用于完善会员资料",success:function(t){e.getwxUsersuan(t)}})})),c(a,"hideModal",(function(){this.modalName=""})),c(a,"eventDraw",(function(){if(wx.showLoading({title:"分享图片生成中",mask:!0}),this.shareImage)return wx.hideLoading(),void(this.modalName="Image");var t=Math.floor(10*Math.random()),e=getApp().globalData.wxUser;this.painting={width:375,height:555,clear:!0,views:[{type:"image",url:"https://img.0728jh.com/staticImg/haibaobao"+t+".png",top:0,left:0,width:375,height:555},{type:"image",url:e.headimgUrl,top:27.5,left:29,width:55,height:55},{type:"image",url:"https://img.0728jh.com/staticImg/huangtukuang"+t+".png",top:27.5,left:29,width:55,height:55},{type:"text",content:"您的好友【"+e.nickName+"】",fontSize:16,color:"#402D16",textAlign:"left",top:33,left:96,bolder:!0,MaxLineNumber:1,breakWord:!0,width:250},{type:"text",content:"向您推荐"+this.baseBudding.projectName,fontSize:15,color:"#563D20",textAlign:"left",top:59.5,left:96},{type:"image",url:this.logoImg,top:136,left:42.5,width:290,height:186},{type:"image",url:this.Qcode,top:435,left:80,width:80,height:80},{type:"text",content:"问大家",fontSize:18,lineHeight:21,color:"#383549",textAlign:"left",top:336,left:55,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:"不知道的都在这里哦~快来提问吧",fontSize:16,lineHeight:21,color:"#383549",textAlign:"left",top:380,left:55,width:287,MaxLineNumber:2,breakWord:!0,bolder:!0},{type:"text",content:"长按识别图中二维码了解"+this.baseBudding.projectName,fontSize:14,color:"#383549",textAlign:"left",top:460,left:165.5,lineHeight:20,MaxLineNumber:2,breakWord:!0,width:125}]}})),c(a,"eventSave",(function(){this.hideModal(),wx.saveImageToPhotosAlbum({filePath:this.shareImage,success:function(t){wx.showToast({title:"保存图片成功",icon:"success",duration:2e3})}})})),c(a,"eventGetImage",(function(e){var n=this;wx.hideLoading(),t.getImageInfo({src:e.detail.tempFilePath,success:function(t){n.imageWidth=t.width,n.imageHeight=t.height},fail:function(){console.log("图片宽高获取失败")}}),n.shareImage=e.detail.tempFilePath,n.modalName="Image"})),c(a,"getPopupads",(function(){var t=this;t.http(r.default.Popupads,"GET",{},!1).then((function(e){e&&(t.popupadsData=e.data)}))})),c(a,"getShareCode",(function(){var t=this,e="",n=getApp().globalData.wxUser,a=getApp().globalData.projectItem&&getApp().globalData.projectItem.affiliationCode?getApp().globalData.projectItem:getApp().globalData.BaseBudding;e="age_"+a.affiliationCode+"_"+n.userCode,t.http(r.default.ShareCode,"POST",{scene:e,page:"pages/questionsAndAnswers/home"},!1).then((function(e){if(0==e.code){var n=wx.getFileSystemManager(),a="tmp_img_src",i="".concat(wx.env.USER_DATA_PATH,"/").concat(a,".jpg");n.writeFile({filePath:i,data:e.data,encoding:"base64",success:function(e){t.Qcode=i,t.eventDraw()},fail:function(){}})}}))})),c(a,"userInfoGets",(function(){var t=this;this.http(r.default.userInfoGet,"GET",{},!1).then((function(e){t.wxUser=e.data,getApp().globalData.wxUser=e.data}))})),c(a,"Jiema",(function(t,e,n){var a=this;return new Promise((function(i,o){a.http(r.default.Jiema,"GET",{aff:e,user:n,scene:t},!1).then((function(t){i(t)}))}))})),a),onShareAppMessage:function(){var t=getApp().globalData.BaseBudding,e="",n=getApp().globalData.wxUser;e=n.id;var a=getApp().globalData.projectItem,i=a.affiliationCode||this.affCode,o="age_"+i+"_"+n.userCode;return{title:t.projectName,path:"/pages/questionsAndAnswers/home?invitee="+e+"&scene="+o}},onLoad:function(t){var e=this;return l(i.default.mark((function n(){var a,r,s,u,l;return i.default.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(a=e,!t.scene){n.next=13;break}return r=decodeURIComponent(t.scene),s=r.split("_"),n.next=6,a.Jiema(s[0],s[1],s[2]);case 6:u=n.sent,u.data["senen"]=s[0],a.affCode=s[1],l={id:u.data.affId},getApp().globalData.projectItem=l,getApp().globalData.senen=u.data,getApp().globalData.invitee=u.data.userId;case 13:t.invitee&&(getApp().globalData.invit=t.invitee),e.isShowTx="0"==getApp().globalData.interaction,o.default.initPage().then((function(t){e.popupaShow=null==getApp().globalData.popupaShow||getApp().globalData.popupaShow,e.wxUser=getApp().globalData.wxUser,e.listMap=new Map,e.getBaseBudding(),e.getQuestionsPage(),e.getlogoImg(),e.getPopupads()}));case 16:case"end":return n.stop()}}),n)})))()}};e.default=p}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},150:
/*!*****************************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=style&index=0&lang=css& ***!
  \*****************************************************************************************************************************/
/*! no static exports found */function(t,e,n){"use strict";n.r(e);var a=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */151),i=n.n(a);for(var o in a)"default"!==o&&function(t){n.d(e,t,(function(){return a[t]}))}(o);e["default"]=i.a},151:
/*!*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/questionsAndAnswers/home.vue?vue&type=style&index=0&lang=css& ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(t,e,n){}},[[144,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/questionsAndAnswers/home.js.map