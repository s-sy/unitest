(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/register/home"],{160:
/*!****************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/main.js?{"page":"pages%2Fregister%2Fhome"} ***!
  \****************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){n(/*! uni-pages */4);o(n(/*! vue */2));var t=o(n(/*! ./pages/register/home.vue */161));function o(e){return e&&e.__esModule?e:{default:e}}e(t.default)}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["createPage"])},161:
/*!*********************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue ***!
  \*********************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./home.vue?vue&type=template&id=3bfdf8bc& */162),a=n(/*! ./home.vue?vue&type=script&lang=js& */164);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(/*! ./home.vue?vue&type=style&index=0&lang=css& */173);var i,s=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),l=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);l.options.__file="pages/register/home.vue",t["default"]=l.exports},162:
/*!****************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=template&id=3bfdf8bc& ***!
  \****************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=3bfdf8bc& */163);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},163:
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=template&id=3bfdf8bc& ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=!1,i=[];a._withStripped=!0},164:
/*!**********************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=script&lang=js& ***!
  \**********************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */165),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},165:
/*!*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=script&lang=js& ***!
  \*****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;a(n(/*! ../auth/home.vue */166)),a(n(/*! ../../utils/initPage.js */21));var o=a(n(/*! ../api/home.js */11));function a(e){return e&&e.__esModule?e:{default:e}}var r={data:function(){return{modalName:"",picker:["注册经纪人","中介公司","内部员工（非销售岗)","业主"],pickerIndex:-1,companyList:[],companyIndex:-1,name:"",gender:"",phone:"",textarea:"",wxUser:{},companyName:"",companyAddress:"",companyPrincipal:"",companyPhone:"",companyTeamNumber:"",companyIntroduction:"",companyOutletUrl:""}},onLoad:function(){console.log("register_____________________"),console.log(getApp().globalData.projectItem),this.getCompanyList(),this.getwxUser()},methods:{getwxUser:function(){var e=this,t=this;t.http(o.default.userInfoGet,"GET",{},!1).then((function(t){console.log("查看用户信息"),console.log(t),e.wxUser=t.data,e.phone=t.data.phone,e.gender=t.data.sex,getApp().globalData.wxUser=t.data}))},hideModal:function(){this.modalName=""},getname:function(e){this.name=e.detail.value},gettextarea:function(e){this.textarea=e.detail.value},radioChange:function(e){this.gender=e.detail.value},PickerChange:function(e){this.pickerIndex=parseInt(e.detail.value)},companyPickerChange:function(e){this.companyIndex=parseInt(e.detail.value)},getCompanyList:function(){var e=this;e.http(o.default.intermediaryCompany+"/list","GET",{current:1,size:100},!1).then((function(t){console.log("查看companyList"),e.companyList=t.data}))},regborker:function(){var t=this,n=t.wxUser;if(""!=t.name)if(t.pickerIndex<0)e.showToast({title:"请选择经纪人类型",duration:1e3,icon:"none"});else if(1==t.pickerIndex&&t.companyIndex<0)e.showToast({title:"请选择经纪人公司，如没有对应公司请注册公司",duration:1e3,icon:"none"});else{var a=t.pickerIndex;a+=1,4==a&&(a+=1);var r={realName:t.name,sex:t.gender,userRole:t.pickerIndex>=0?a:0,intermediaryCompanyId:t.companyIndex>=0?t.companyList[t.companyIndex].id:n.intermediaryCompanyId};t.http(o.default.userInfoGet,"PUT",r,!1).then((function(n){n.ok&&(t.getwxUser(),e.showToast({title:"注册成功",duration:1e3,icon:"success"}),setTimeout((function(){e.navigateBack({delta:1});var n=t.getOpenerEventChannel();n.emit("getss",{data:"test_____________________"})}),1e3))}))}else e.showToast({title:"请填写正确姓名",duration:1e3,icon:"none"})},commitc:function(){var t=this;if(""!=t.companyName)if(""!=t.companyAddress)if(""!=t.companyPrincipal){var n=/^1\d{10}$/;if(n.test(t.companyPhone))if(""!=t.companyTeamNumber)if(""!=t.companyIntroduction)if(""!=t.companyOutletUrl){var a={createId:getApp().globalData.wxUser.id,corporationName:t.companyName,address:t.companyAddress,principal:t.companyPrincipal,phone:t.companyPhone,introduction:t.companyIntroduction,outletUrl:t.companyOutletUrl,teamNumber:t.companyTeamNumber};t.http(o.default.intermediaryCompany,"POST",a,!1).then((function(n){1==n.data&&n.ok&&(t.hideModal(),e.showToast({title:"提交成功，等待审核",duration:2e3,icon:"none"}),t.getCompanyList())}))}else e.showToast({title:"请上传一张门店图片",duration:1e3,icon:"none"});else e.showToast({title:"请填写公司简介",duration:1e3,icon:"none"});else e.showToast({title:"请填写公司人数",duration:1e3,icon:"none"});else e.showToast({title:"请填写正确电话号码",duration:1e3,icon:"none"})}else e.showToast({title:"请填写联系人",duration:1e3,icon:"none"});else e.showToast({title:"请填写地址",duration:1e3,icon:"none"});else e.showToast({title:"请填写公司名称",duration:1e3,icon:"none"})},company:function(){this.modalName="DialogModal1"},getCorporationName:function(e){this.companyName=e.detail.value},getCompanyAddress:function(e){this.companyAddress=e.detail.value},getCompanyPrincipal:function(e){this.companyPrincipal=e.detail.value},getcompanyPhone:function(e){this.companyPhone=e.detail.value},getcompanyTeamNumber:function(e){this.companyTeamNumber=e.detail.value},getcompanyIntroduction:function(e){this.companyIntroduction=e.detail.value},uploadImg:function(){var t=this;e.chooseImage({count:1,sizeType:["compressed"],sourceType:["album","camera"],success:function(n){var a=n.tempFilePaths;e.uploadFile({url:o.default.UpLoad,files:a,filePath:a[0],name:"file",fileType:"image",header:{"app-id":wx.getAccountInfoSync().miniProgram.appId,"third-session":getApp().globalData.thirdSession},formData:{dir:"material",fileType:"image"},success:function(e){t.companyOutletUrl=JSON.parse(e.data).link}})}})},deleteImg:function(){this.companyOutletUrl=""},userInfoGets:function(){var e=this;this.http(o.default.userInfoGet,"GET",{},!1).then((function(t){e.wxUser=t.data,e.phone=t.data.phone,getApp().globalData.wxUser=t.data}))}}};t.default=r}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},166:
/*!*****************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue ***!
  \*****************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! ./home.vue?vue&type=template&id=4e5421bd& */167),a=n(/*! ./home.vue?vue&type=script&lang=js& */169);for(var r in a)"default"!==r&&function(e){n.d(t,e,(function(){return a[e]}))}(r);n(/*! ./home.vue?vue&type=style&index=0&lang=css& */171);var i,s=n(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */10),l=Object(s["default"])(a["default"],o["render"],o["staticRenderFns"],!1,null,null,null,!1,o["components"],i);l.options.__file="pages/auth/home.vue",t["default"]=l.exports},167:
/*!************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=template&id=4e5421bd& ***!
  \************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=4e5421bd& */168);n.d(t,"render",(function(){return o["render"]})),n.d(t,"staticRenderFns",(function(){return o["staticRenderFns"]})),n.d(t,"recyclableRender",(function(){return o["recyclableRender"]})),n.d(t,"components",(function(){return o["components"]}))},168:
/*!************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=template&id=4e5421bd& ***!
  \************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */function(e,t,n){"use strict";var o;n.r(t),n.d(t,"render",(function(){return a})),n.d(t,"staticRenderFns",(function(){return i})),n.d(t,"recyclableRender",(function(){return r})),n.d(t,"components",(function(){return o}));var a=function(){var e=this,t=e.$createElement;e._self._c},r=!1,i=[];a._withStripped=!0},169:
/*!******************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=script&lang=js& ***!
  \******************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */170),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},170:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=script&lang=js& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=i(n(/*! ./node_modules/@babel/runtime/regenerator */18)),a=i(n(/*! ../api/home.js */11)),r=i(n(/*! ../../utils/initPage.js */21));function i(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n,o,a,r,i){try{var s=e[r](i),l=s.value}catch(u){return void n(u)}s.done?t(l):Promise.resolve(l).then(o,a)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(o,a){var r=e.apply(t,n);function i(e){s(r,o,a,i,l,"next",e)}function l(e){s(r,o,a,i,l,"throw",e)}i(void 0)}))}}var u={data:function(){return{}},props:{showText:{type:String,default:"获取手机授权"},sendPassed:{type:Boolean,default:!0}},created:function(){this.getUserinfozhiye()},methods:{getPhoneNumber:function(e){var t=this;if("getPhoneNumber:ok"==e.detail.errMsg){var n=e.detail.encryptedData,o=e.detail.iv;r.default.initPage().then((function(e){var a=getApp().globalData.sessionKey;t.sendphoneNumber(n,a,o)}))}},getTaills:function(){var e=this,t=getApp().globalData.projectItem.id;return console.log("Check Id"),console.log(t),new Promise((function(n,o){e.http(a.default.getall,"GET",{affId:t},!1).then((function(e){console.log("++++++++++++++++++check getTaills+++++++"),console.log(e),n(e)}))}))},getUserinfozhiye:function(){var e=this;return l(o.default.mark((function t(){var n,a,r,i,s,l;return o.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e,console.log("_____________auth get distribution__________________"),console.log(getApp().globalData.projectItem),getApp().globalData.projectItem.id,t.next=6,n.getTaills();case 6:for(a=t.sent,console.log("++++++++++++++++++++++++++++++++++++++++++++++"),console.log(a),console.log("++++++++++++++++++++++++++++++++++++++++++++++"),r=a.data,console.log("ddddddddddddddddddd"),console.log(r),i=getApp().globalData.wxUser.distribution||[],null==i&&(i=[]),[],console.log(i),s=0;s<r.length;s++)for(l=0;l<i.length;l++)r[s].id==i[l]&&(getApp().globalData.distribution=r[s]);console.log("c+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++"),console.log(getApp().globalData.distribution);case 20:case"end":return t.stop()}}),t)})))()},brokerprocess:function(){var t=this;t.wxUser.phone;var n=getApp().globalData.projectItem;console.log("project"),console.log(getApp().globalData),e.request({url:a.default.GetProcessDefinition,method:"GET",data:{tenantIdIn:n.id},success:function(n){if(console.log("流程"),console.log(n),200==n.statusCode){for(var o,a=n.data,r=0;r<a.length;r++)"broker"==a[r].key&&(o=a[r].id);o?t.PostProcess(o):e.showToast({title:"请检查key为broker的流程是否存在",icon:"none",duration:3e3})}else e.showToast({title:"未找到有效流程，或流程未配置",icon:"none",duration:3e3})}})},getProcessDefinition:function(){var t=this,n=getApp().globalData.projectItem;console.log("查看流程定义的id"),console.log(n),e.request({url:a.default.GetProcessDefinition,method:"GET",data:{tenantIdIn:n.id},success:function(n){if(console.log("平台流程"),console.log(n),200==n.statusCode){for(var o,a=n.data,r=0;r<a.length;r++)"passenger"==a[r].key&&(o=a[r].id);o?t.PostProcessAcquistion(o):e.showToast({title:"请检查key为passenger的流程是否存在",icon:"none",duration:3e3})}else e.showToast({title:"未找到有效流程，或流程未配置",icon:"none",duration:3e3})}})},PostProcessAcquistion:function(t){var n=this,o=t,r=getApp().globalData.projectItem,i=getApp().globalData.wxUser.id,s=n.wxUser.realName?n.wxUser.realName:n.wxUser.nickName?n.wxUser.nickName:"",l={variables:{initiator:{value:i},phone:{value:n.wxUser.phone},customerName:{value:s},affiliationId:{value:r.id},currentTaskDeposit:{value:!1},gender:{value:n.wxUser.sex,type:"String",valueInfo:{}},tenantId:{value:n.wxUser.tenantId},characters:{value:null},unspecified:{value:!getApp().globalData.distribution},salesmanId:{value:getApp().globalData.distribution?getApp().globalData.distribution.id:null},origin:{value:"1"}}};console.log(l),e.request({url:a.default.GetProcessDefinition+"/"+o+"/submit-form",method:"POST",data:l,success:function(e){e.statusCode}})},PostProcess:function(t){var n=this,o=t,r=getApp().globalData.projectItem;e.request({url:a.default.GetProcessDefinition+"/"+o+"/submit-form",method:"POST",data:{variables:{phone:{value:n.wxUser.phone,type:"String",valueInfo:{}},customerName:{value:n.wxUser.realName?n.wxUser.realName:n.wxUser.nickName,type:"String",valueInfo:{}},gender:{value:n.wxUser.sex,type:"String",valueInfo:{}},introduction:{value:"",type:"String",valueInfo:{}},affiliationId:{value:r.id,type:"String",valueInfo:{}},brokerId:{value:n.wxUser.invitee,type:"String",valueInfo:{}},salesmanId:{value:getApp().globalData.distribution.id||null,type:"String",valueInfo:{name:"XXXXX"}},brokerName:{value:n.wxUser.inviteeUser?n.wxUser.inviteeUser.realName?n.wxUser.inviteeUser.realName:n.wxUser.nickName:"匿名用户",type:"String",valueInfo:getApp().globalData.wxUser},brokerPhone:{value:n.wxUser.inviteeUser?n.wxUser.inviteeUser.phone:"没有电话",type:"String",valueInfo:{}},inviteeId:{value:n.wxUser.invitee,type:"String",valueInfo:{}},tenantId:{value:n.wxUser.tenantId,type:"String",valueInfo:{}},origin:{value:"1"}},businessKey:n.phone},success:function(e){e.statusCode}})},savephone:function(t,n,o){var r={encryptedData:"",session_key:"",iv:""};return r.encryptedData=t,r.session_key=n,r.iv=o,new Promise((function(t,n){console.log("解析手机号码"),e.request({url:a.default.GetPhone,method:"POST",data:r,timeout:12e4,header:{"app-id":wx.getAccountInfoSync().miniProgram.appId,"third-session":getApp().globalData.thirdSession},success:function(e){"request:ok"==e.errMsg?t(!0):t(!1)}})}))},getInfo:function(){var e=this;return new Promise((function(t,n){e.http(a.default.userInfoGet,"GET",{},!1).then((function(n){n.data?(getApp().globalData.wxUser=n.data,e.wxUser=n.data,console.log("授权后，再次获取uerInfo"),console.log(n.data),t(n.data)):t(!1)}))}))},sendphoneNumber:function(e,t,n){var a=this;return l(o.default.mark((function r(){var i,s,l,u,c,d;return o.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return i=a,o.next=3,i.savephone(e,t,n);case 3:if(s=o.sent,!s){o.next=27;break}return o.next=7,i.getInfo();case 7:if(l=o.sent,console.log("++++++++++++++++++++++++++++"),console.log(i.sendPassed),console.log("++++++++++++++++++++++++++++"),!l||!i.sendPassed){o.next=26;break}if(console.log("发起了流程"),u=l.invitee,!u){o.next=22;break}return o.next=17,i.checkPhone();case 17:c=o.sent,console.log(c),"true"==c&&i.brokerprocess(),o.next=26;break;case 22:return o.next=24,i.checkphonept();case 24:d=o.sent,"true"==d&&i.getProcessDefinition();case 26:i.$emit("refData");case 27:case"end":return o.stop()}}),r)})))()},checkphonept:function(){var t=this,n=getApp().globalData.projectItem;console.log("查看projctItem"),console.log(n),console.log(getApp().globalData.distribution);var o={phone:t.wxUser.phone,senderId:t.wxUser.id,affId:n.id,salesmanId:getApp().globalData.distribution?getApp().globalData.distribution.id:null,groupId:getApp().globalData.distribution?getApp().globalData.distribution.memberGroup:null,tenantId:t.wxUser.tenantId};return new Promise((function(t,n){e.request({method:"GET",url:a.default.Verificationplt,data:o,header:{"app-id":wx.getAccountInfoSync().miniProgram.appId,"third-session":getApp().globalData.thirdSession},success:function(e){console.log("验证电话pt"),console.log("_________________________________"),console.log(e),console.log("_________________________________"),e.data.ok?t("true"):t("false")}})}))},checkPhone:function(){var t=this,n=getApp().globalData.projectItem,o={phone:t.wxUser.phone,senderId:t.wxUser.id,affId:n.id,salesmanId:getApp().globalData.distribution?getApp().globalData.distribution.id:null,groupId:getApp().globalData.distribution?getApp().globalData.distribution.memberGroup:null,tenantId:t.wxUser.tenantId};return new Promise((function(t,n){e.request({method:"GET",url:a.default.Verification,data:o,success:function(e){console.log("验证电话"),console.log(e.data.ok),e.data.ok?t("true"):t("false")}})}))}}};t.default=u}).call(this,n(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */1)["default"])},171:
/*!**************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=style&index=0&lang=css& ***!
  \**************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */172),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},172:
/*!******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/auth/home.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){},173:
/*!******************************************************************************************************************!*\
  !*** C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=style&index=0&lang=css& ***!
  \******************************************************************************************************************/
/*! no static exports found */function(e,t,n){"use strict";n.r(t);var o=n(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */174),a=n.n(o);for(var r in o)"default"!==r&&function(e){n.d(t,e,(function(){return o[e]}))}(r);t["default"]=a.a},174:
/*!**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!C:/Users/Administrator/Desktop/project/项目/unitest/pages/register/home.vue?vue&type=style&index=0&lang=css& ***!
  \**********************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */function(e,t,n){}},[[160,"common/runtime","common/vendor"]]]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/register/home.js.map