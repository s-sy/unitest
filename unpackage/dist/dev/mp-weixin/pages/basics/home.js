(global["webpackJsonp"] = global["webpackJsonp"] || []).push([["pages/basics/home"],{

/***/ 340:
/*!******************************************************************!*\
  !*** E:/zuomianproject/project/项目/unitest/pages/basics/home.vue ***!
  \******************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./home.vue?vue&type=template&id=0fd8db80&name=basics& */ 341);
/* harmony import */ var _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./home.vue?vue&type=script&lang=js& */ 343);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[key]; }) }(__WEBPACK_IMPORT_KEY__));
/* harmony import */ var _home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./home.vue?vue&type=style&index=0&lang=css& */ 345);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/runtime/componentNormalizer.js */ 11);

var renderjs





/* normalize component */

var component = Object(_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_3__["default"])(
  _home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__["default"],
  _home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["render"],
  _home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"],
  false,
  null,
  null,
  null,
  false,
  _home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["components"],
  renderjs
)

component.options.__file = "pages/basics/home.vue"
/* harmony default export */ __webpack_exports__["default"] = (component.exports);

/***/ }),

/***/ 341:
/*!*************************************************************************************************************!*\
  !*** E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=template&id=0fd8db80&name=basics& ***!
  \*************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=template&id=0fd8db80&name=basics& */ 342);
/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "render", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["render"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["staticRenderFns"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["recyclableRender"]; });

/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, "components", function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_16_0_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_template_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_uni_app_loader_page_meta_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_template_id_0fd8db80_name_basics___WEBPACK_IMPORTED_MODULE_0__["components"]; });



/***/ }),

/***/ 342:
/*!*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--16-0!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/template.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-uni-app-loader/page-meta.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=template&id=0fd8db80&name=basics& ***!
  \*************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! exports provided: render, staticRenderFns, recyclableRender, components */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "render", function() { return render; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "staticRenderFns", function() { return staticRenderFns; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "recyclableRender", function() { return recyclableRender; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "components", function() { return components; });
var components
try {
  components = {
    tag: function() {
      return __webpack_require__.e(/*! import() | components/tag/tag */ "components/tag/tag").then(__webpack_require__.bind(null, /*! @/components/tag/tag.vue */ 398))
    },
    title: function() {
      return Promise.all(/*! import() | components/title/title */[__webpack_require__.e("common/vendor"), __webpack_require__.e("components/title/title")]).then(__webpack_require__.bind(null, /*! @/components/title/title.vue */ 405))
    },
    dragButton: function() {
      return __webpack_require__.e(/*! import() | components/drag-button/drag-button */ "components/drag-button/drag-button").then(__webpack_require__.bind(null, /*! @/components/drag-button/drag-button.vue */ 582))
    }
  }
} catch (e) {
  if (
    e.message.indexOf("Cannot find module") !== -1 &&
    e.message.indexOf(".vue") !== -1
  ) {
    console.error(e.message)
    console.error("1. 排查组件名称拼写是否正确")
    console.error(
      "2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom"
    )
    console.error(
      "3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件"
    )
  } else {
    throw e
  }
}
var render = function() {
  var _vm = this
  var _h = _vm.$createElement
  var _c = _vm._self._c || _h
  var l0 = _vm.__map(_vm.recommendList, function(item, index) {
    var $orig = _vm.__get_orig(item)

    var f0 = _vm._f("pricefiflter")(item)

    return {
      $orig: $orig,
      f0: f0
    }
  })

  _vm.$mp.data = Object.assign(
    {},
    {
      $root: {
        l0: l0
      }
    }
  )
}
var recyclableRender = false
var staticRenderFns = []
render._withStripped = true



/***/ }),

/***/ 343:
/*!*******************************************************************************************!*\
  !*** E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=script&lang=js& ***!
  \*******************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=script&lang=js& */ 344);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_babel_loader_lib_index_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_12_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_script_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 344:
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/babel-loader/lib!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--12-1!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/script.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=script&lang=js& ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

"use strict";
/* WEBPACK VAR INJECTION */(function(uni) {Object.defineProperty(exports, "__esModule", { value: true });exports.default = void 0;var _regenerator = _interopRequireDefault(__webpack_require__(/*! ./node_modules/@babel/runtime/regenerator */ 19));












































































































































































































































































































































































































































































































































var _home = _interopRequireDefault(__webpack_require__(/*! ../api/home.js */ 12));
var _initPage = _interopRequireDefault(__webpack_require__(/*! ../../utils/initPage.js */ 22));function _interopRequireDefault(obj) {return obj && obj.__esModule ? obj : { default: obj };}function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {try {var info = gen[key](arg);var value = info.value;} catch (error) {reject(error);return;}if (info.done) {resolve(value);} else {Promise.resolve(value).then(_next, _throw);}}function _asyncToGenerator(fn) {return function () {var self = this,args = arguments;return new Promise(function (resolve, reject) {var gen = fn.apply(self, args);function _next(value) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "next", value);}function _throw(err) {asyncGeneratorStep(gen, resolve, reject, _next, _throw, "throw", err);}_next(undefined);});};}function _createForOfIteratorHelper(o, allowArrayLike) {var it;if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {if (it) o = it;var i = 0;var F = function F() {};return { s: F, n: function n() {if (i >= o.length) return { done: true };return { done: false, value: o[i++] };}, e: function e(_e) {throw _e;}, f: F };}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");}var normalCompletion = true,didErr = false,err;return { s: function s() {it = o[Symbol.iterator]();}, n: function n() {var step = it.next();normalCompletion = step.done;return step;}, e: function e(_e2) {didErr = true;err = _e2;}, f: function f() {try {if (!normalCompletion && it.return != null) it.return();} finally {if (didErr) throw err;}} };}function _unsupportedIterableToArray(o, minLen) {if (!o) return;if (typeof o === "string") return _arrayLikeToArray(o, minLen);var n = Object.prototype.toString.call(o).slice(8, -1);if (n === "Object" && o.constructor) n = o.constructor.name;if (n === "Map" || n === "Set") return Array.from(o);if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);}function _arrayLikeToArray(arr, len) {if (len == null || len > arr.length) len = arr.length;for (var i = 0, arr2 = new Array(len); i < len; i++) {arr2[i] = arr[i];}return arr2;}var dragButton = function dragButton() {__webpack_require__.e(/*! require.ensure | components/drag-button/drag-button */ "components/drag-button/drag-button").then((function () {return resolve(__webpack_require__(/*! @/components/drag-button/drag-button.vue */ 582));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};var Skeleton = function Skeleton() {__webpack_require__.e(/*! require.ensure | components/skeleton/index */ "components/skeleton/index").then((function () {return resolve(__webpack_require__(/*! ../../components/skeleton/index.vue */ 645));}).bind(null, __webpack_require__)).catch(__webpack_require__.oe);};
var QQMapWX = __webpack_require__(/*! ../../utils/qqmap-wx-jssdk.min.js */ 53);
var qqmapsdk;var _default =
{
  components: {
    Skeleton: Skeleton,
    dragButton: dragButton },


  name: "basics",
  data: function data() {
    return {
      unreadMessage: 0,
      // showSkeleton: true,
      popupadsData: '',
      popupaShow: '',
      viewsloading: true,
      loading: true,
      IsBudingPhone: '',
      totalViews: '',
      isShowTX: '',
      noticeData: '',
      wxUser: getApp().globalData.wxUser,
      showModalKey: '',
      jiangjiaIStrue: false,
      kaipanIStrue: false,
      questionsList: '',
      latitude: 30.66339,
      longitude: 113.16614,
      scale: 14,
      markers: [],
      obj: {
        id: 0,
        width: 33,
        height: 39,
        latitude: 30.66339,
        longitude: 113.16614,
        zIndex: 9,
        iconPath: 'https://img.0728jh.com/staticImg/adress_icon.png',
        callout: {
          content: '湖北省\n地址：天门市新文化宫',
          color: '#999999',
          fontSize: 12,
          display: 'ALWAYS',
          borderRadius: 5,
          bgColor: '#FFFFFF',
          padding: 8 } },


      chanNames: '银行',

      modalNames: '',
      modalName: '',

      awesomeshootingList: '',
      newsList: [{
        id: 0 },
      {
        id: 1 },
      {
        id: 2 }],


      pconsultantList: [],
      questions: {
        name: '楼盘问答',
        type: 'questions' },

      aparment: {
        name: '推荐户型',
        type: 'aparment' },

      aroundp: {
        name: '周边配套',
        type: 'aroundp' },

      xup: {
        name: '楼盘炫拍',
        type: 'xup' },

      news: {
        name: '新闻动态',
        type: 'news' },

      loyal: {
        name: '楼盘点评',
        type: 'loyal' },

      initialCounter: {
        name: '置业顾问',
        type: 'initialCounter' },

      recommendList: [],
      swiperList: [],
      commentList: [],
      tagData: [],
      baseBuildingData: {},
      logoImg: '',
      interaction: '',
      refmodelPhone: '',
      displayAd: '' };


  },
  filters: {

    pricefiflter: function pricefiflter(value) {
      var baseprice = getApp().globalData.BaseBudding;

      if (baseprice && value) {
        var BaseBuddingprice = parseFloat(baseprice.price);
        var floorage = parseFloat(value.floorage);

        // console.log("查看总价")
        // console.log(BaseBuddingprice)
        // console.log(value)
        var price = parseFloat(value.price);
        var total = (floorage * price / 10000).toFixed(2);
        if (!total || total == "NaN") {
          total = (floorage * BaseBuddingprice / 10000).toFixed(2);
        }
        if (!total || total == "NaN") {
          return '总价待定';
        }
        return '约' + total + '万/套';
      }


    } },

  computed: {

    classphone: function classphone() {
      //console.log("--------------------------")
      var BaseBudding = getApp().globalData.BaseBudding;
      var wxUser = getApp().globalData.wxUser;
      var sminvitee = getApp().globalData.invitee;
      var list = this.pconsultantList;
      //console.log(BaseBudding)
      //console.log(wxUser)
      if (wxUser && wxUser.userType && wxUser.userType == '1') {
        //console.log(wxUser)
        return wxUser.phone;
      } else
      if (wxUser && wxUser.invitee) {
        if (list) {
          //console.log(list)
          list.forEach(function (item) {
            if (item.id == wxUser.invitee) {

              return item.phone;
            }
          });
        }
      } else
      if (sminvitee) {
        if (list) {
          list.forEach(function (item) {
            if (item.id == sminvitee) {
              return item.phone;
            }
          });
        }
      } else {
        if (BaseBudding && BaseBudding.premisesMobile) {
          return BaseBudding.premisesMobile;
        }
      }
      //console.log("--------------------------")
    } },


  methods: {
    hideview: function hideview() {
      var that = this;
      that.displayAd = '';
    },
    helpfindhouse: function helpfindhouse() {
      var that = this;
      that.displayAd = '';
      uni.showToast({
        title: "报名成功，以安排客服提供专业咨询",
        icon: "none",
        duration: 2000 });

    },
    hasXwPhone: function hasXwPhone() {
      var that = this;
      that.modalName = 'refuseModels';
    },
    refmodelPhones: function refmodelPhones(e) {
      var that = this;
      console.log(e);
      var phone = e.detail.value;
      console.log(phone);
      that.refmodelPhone = phone;
    },
    btnClick: function btnClick() {
      uni.navigateTo({
        url: '../../pagestwo/chart/home' });

    },
    navigateToVR: function navigateToVR(value) {
      console.log("123");
      console.log(value);
      if (value.page) {
        uni.navigateTo({
          url: '../../pagestwo/vR/home?srcTd=' + value.page });

      }
      //TODO:
      //判断类型为什么的跳转否则不跳
      // uni.navigateTo({
      // 	url: '../../pagestwo/vR/home'
      // })	 
    },
    btnTouchstart: function btnTouchstart() {},
    btnTouchend: function btnTouchend() {},
    reloadData: function reloadData() {


      this.loading = false;

    },
    toMine: function toMine(e) {
      uni.redirectTo({
        url: '/pages/index/index?PageCur=mine' });

    },
    posterData: function posterData(e) {
      //console.log('置业顾问二维码发送')
      //	console.log(e)
    },
    callPhone: function callPhone() {
      // let phoneNum=this.baseBuildingData.premisesMobile
      var wxinvitee = getApp().globalData.wxUser.invitee;
      var wxUser = getApp().globalData.wxUser;
      var tempinvitee = getApp().globalData.invitee;
      var list = this.pconsultantList;
      var BaseBudding = getApp().globalData.BaseBudding;
      var phoneNum = '';
      if (wxinvitee || tempinvitee || wxUser.userType == '1') {

        phoneNum = list[0].phone;
      } else {
        phoneNum = BaseBudding.premisesMobile;
      }



      uni.makePhoneCall({
        phoneNumber: phoneNum //仅为示例
      });
    },
    tonewsDetails: function tonewsDetails(e) {
      var id = e.currentTarget.dataset.id;
      //console.log(id)
      //TODO:
      var item = e.currentTarget.dataset.item;
      //console.log(item)

      this.viewsAdd(id);
      switch (item.type) {
        case '0':
          uni.navigateTo({
            url: '../newsInformationDetails/home?id=' + id });

          break;
        case '1':
          uni.navigateTo({
            url: '../newsWebview/home?id=' + id });

          break;}


    },
    toLayoutDetails: function toLayoutDetails(e) {
      var id = e.currentTarget.dataset.id;



      uni.navigateTo({
        url: '../../pagestwo/layoutDetails/home?id=' + id });

    },
    toFlareUpsDetail: function toFlareUpsDetail(e) {
      var id = e.currentTarget.dataset.id;
      //console.log(id)
      uni.navigateTo({
        url: '../flareUps-details/home?id=' + id });

    },

    toPReviewsDetails: function toPReviewsDetails(e) {
      var id = e.currentTarget.dataset.id;

      uni.navigateTo({
        url: '../pReviewsDetails/home?id=' + id });

    },
    toquestionsDetails: function toquestionsDetails(e) {
      var id = e.currentTarget.dataset.id;
      var num = this.questionsList.length;
      uni.navigateTo({
        url: '../questionsDetails/home?id=' + id + '&num=' + num });

    },
    viewsAdd: function viewsAdd(value) {
      var that = this;
      that.http(_home.default.AddViewNewsIFtion, 'POST', {
        id: value },
      false).then(function (res) {
        //	console.log("最新动态加view")
        //	console.log(res)
      });
    },
    hideModal: function hideModal(e) {
      console.log("XXX");
      this.modalName = null;

    },
    toTrend: function toTrend() {
      uni.navigateTo({
        url: '../trend/home' });

    },
    changName: function changName(e) {//周边配套 点击keyword切换关键字收搜
      //	console.log(e)
      var _self = this;
      _self.chanNames = e.currentTarget.dataset.name;
      //console.log(_self.chanNames)
      qqmapsdk.search({
        keyword: _self.chanNames,
        location: {
          latitude: _self.latitude,
          longitude: _self.longitude },

        success: function success(res) {
          _self.markers = [];
          //	console.log(res)
          var _iterator = _createForOfIteratorHelper(res.data),_step;try {for (_iterator.s(); !(_step = _iterator.n()).done;) {var item = _step.value;
              var markersArray = {
                id: item.id,
                title: item.title,
                width: 33,
                height: 39,
                address: item.address,
                latitude: item.location.lat,
                longitude: item.location.lng,
                _distance: item._distance,
                iconPath: 'https://img.0728jh.com/staticImg/myadress_icon.png',
                callout: {
                  content: item.title,
                  color: '#999999',
                  fontSize: 12,
                  display: 'BYCLICK',
                  borderRadius: 5,
                  bgColor: '#FFFFFF',
                  padding: 8 } };


              _self.markers.push(markersArray);

            }} catch (err) {_iterator.e(err);} finally {_iterator.f();}
          _self.markers.push(_self.obj);
        } });

    },
    toEstateDetails: function toEstateDetails() {
      uni.navigateTo({
        url: '../../pagestwo/estateDetails/home' });

    },
    getwxUser: function getwxUser(value) {
      var that = this;
      that.http(_home.default.wxUserSave, "POST", value, false).then(function (res) {
        //	console.log(res)
        that.wxUser = res.data;
        getApp().globalData.wxUser = res.data;
      });
    },

    toflareUpsPush: function toflareUpsPush() {

      uni.navigateTo({
        url: '../flareUps-push/home' });

    },
    getUserProfiles: function getUserProfiles(e) {
      // 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认
      // 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗
      var that = this;
      wx.getUserProfile({
        desc: '用于完善会员资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写
        success: function success(res) {
          that.getwxUser(res);
          that.toflareUpsPush();
        } });

    },

    getUserProfile: function getUserProfile(e) {
      // 推荐使用wx.getUserProfile获取用户信息，开发者每次通过该接口获取用户个人信息均需用户确认
      // 开发者妥善保管用户快速填写的头像昵称，避免重复弹窗
      var that = this;
      wx.getUserProfile({
        desc: '用于完善会员资料', // 声明获取用户个人信息后的用途，后续会展示在弹窗中，请谨慎填写
        success: function success(res) {
          that.getwxUser(res);
          that.topReviewsPublish();
        } });

    },
    topReviewsPublish: function topReviewsPublish() {

      uni.navigateTo({
        url: '../pReviewsPublish/home' });

    },
    getreadingReviews: function getreadingReviews() {//楼盘点评
      var that = this;
      //console.log("看下wxUser")
      //console.log(getApp().globalData.wxUser)
      console.log(
      "+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++");

      var id = getApp().globalData.projectItem.id;
      console.log(id);
      that.http(_home.default.ReadingReviews, 'GET', {
        current: 1,
        size: 5,
        descs: 'create_time', //降序
        auditStatus: 1,

        createId: getApp().globalData.wxUser.id,

        affiliationId: id },
      false).then(function (res) {
        console.log("楼盘点评");
        console.log(res);
        if (res.ok) {
          that.commentList = res.data.records;
        }

      });
    },
    userInfoGet: function userInfoGet() {
      var that = this;
      this.http(_home.default.userInfoGet, 'GET', {}, false).
      then(function (res) {
        // console.log("userInfoGet")
        // console.log(res)
        // userInfo: res.data
        that.wxUser = res.data;
        getApp().globalData.wxUser = res.data;
        that.getUserinfozhiye();
        that.$emit('cachwxUser', res.data);
        //刷新置业顾问
      });
    },

    getTaills: function getTaills() {
      var that = this;
      var id = getApp().globalData.projectItem.id;
      return new Promise(function (l, r) {
        that.http(_home.default.getall, 'GET', {
          affId: id },
        false).then(function (res) {
          l(res);
        });
      });
    },
    getUserinfozhiye: function getUserinfozhiye() {var _this = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee() {var that, id, res, pconsul, wxUser, list, i, j;return _regenerator.default.wrap(function _callee$(_context) {while (1) {switch (_context.prev = _context.next) {case 0: //置业顾问
                that = _this;
                id = getApp().globalData.projectItem.id;_context.next = 4;return (
                  that.getTaills());case 4:res = _context.sent;
                pconsul = res.data;
                // console.log(id)
                // console.log("ddddddddddddddddddd")
                // console.log(pconsul)
                wxUser = getApp().globalData.wxUser.distribution;
                list = [];

                for (i = 0; i < pconsul.length; i++) {

                  for (j = 0; j < wxUser.length; j++) {

                    if (pconsul[i].id == wxUser[j]) {
                      getApp().globalData.distribution = pconsul[i];
                      list.push(pconsul[i]);

                    }
                  }
                }
                if (list.length == 0) {
                  that.pconsultantList = pconsul;
                } else {
                  that.pconsultantList = list;
                }


                _this.unReadMessage();case 11:case "end":return _context.stop();}}}, _callee);}))();

    },

    getapartmentlayout: function getapartmentlayout() {//户型
      var _self = this;
      var id = getApp().globalData.projectItem.id;
      _self.http(_home.default.ApartmentLayout, 'GET', {
        current: 1,
        size: 20,
        descs: 'is_stick',
        affiliation: '2',
        affiliationId: id },
      false).then(function (res) {
        // console.log("户型")
        // console.log(res)
        _self.recommendList = res.data.records;
      });
    },
    getNotice: function getNotice() {
      var _self = this;
      var id = getApp().globalData.projectItem.id;
      //	console.log("affiliatiaonId:"+id)
      _self.http(_home.default.Notice, 'GET', {
        type: '1', //swipelist 轮播图
        enable: '1',
        affiliation: '2',
        affiliationId: id },
      false).then(function (res) {
        //	console.log("轮播图")
        //		console.log(res)
        if (res.data.listAdvertisementItem) {
          _self.swiperList = res.data.listAdvertisementItem;
          _self.logoImg = res.data.listAdvertisementItem[0].url;

          try {
            uni.setStorageSync('logoImg', res.data.listAdvertisementItem[0].url);
          } catch (e) {
            // error

          }
        }


      });
      _self.http(_home.default.Notice, 'GET', {
        type: '2', // notice 公告
        enable: '1',
        affiliation: '2',
        affiliationId: id },
      false).then(function (res) {
        //		console.log("公告")
        //    console.log(res)
        // noticeData=res.data.listAdvertisementItem.content
        var notice = '';
        if (res.data && res.data.listAdvertisementItem) {
          res.data.listAdvertisementItem.forEach(function (item) {
            notice = notice + item.content;
          });
          _self.noticeData = notice;
        }

      });
    },
    getBaseBuing: function getBaseBuing() {//楼盘基本信息
      var _self = this;
      //	_self.http(api.BaseBudiing,'GET',{affiliationId:getApp().globalData.projectItem.id},false).then(res=>{
      //	console.log("楼盘基本信息")
      //	console.log(res)
      //	if(res.data){
      var resdata = getApp().globalData.projectItem;

      _self.baseBuildingData = resdata;
      _self.$emit('BaseBudding', resdata);
      getApp().globalData.BaseBudding = resdata;
      //console.log(resdata)
      _self.tagData = resdata.keywords;


      _self.latitude = resdata.latitude;
      _self.longitude = resdata.longitude;
      _self.obj.latitude = resdata.latitude;
      _self.obj.longitude = resdata.longitude;

      _self.obj.callout.content = resdata.projectName;
      _self.markers.push(_self.obj);

      //let phone=resdata.premisesMobile

      _self.interaction = getApp().globalData.interaction == "0" ? true : false;

      //let sum=parseInt(phone.length)

      // let isShowTX = phone.substring(sum-2,sum)

      //if(isShowTX=='-1'){

      _self.isShowTX = getApp().globalData.interaction;
      // console.log("查看显示状态")
      // console.log(getApp().globalData.interaction)
      // 					try {
      // 					    uni.setStorageSync('isShowTX', false);
      // 					} catch (e) {
      // 					    // error
      // 					}	
      // 					}else{
      // 						try {
      // 						    uni.setStorageSync('isShowTX', true);
      // 						} catch (e) {
      // 						    // error
      // 						}
      // 					}
      this.reloadData();
      //	}

      //})
    },
    getNewsinformation: function getNewsinformation() {//新闻动态
      var _self = this;
      var id = getApp().globalData.projectItem.id;
      _self.http(_home.default.NewsInformation, 'GET', {
        current: 1,
        size: 3,
        descs: 'create_time', //降序

        affiliationId: id
        //asc 升序
      }, false).then(function (res) {
        // console.log("新闻动态")
        // console.log(res)
        if (res.ok) {
          _self.newsList = res.data.records;
        }

      });
    },
    getAwesomeshooting: function getAwesomeshooting() {//楼盘炫拍
      var that = this;
      var id = getApp().globalData.projectItem.id;
      that.http(_home.default.Awesomeshootingredding, 'GET', {
        current: 1,
        size: 3,
        descs: 'create_time', //降序
        auditStatus: 1,
        createId: getApp().globalData.wxUser.id,

        affiliationId: id },
      false).then(function (res) {
        //	console.log("楼盘炫拍")
        //	console.log(res)
        that.awesomeshootingList = res.data.records;
      });
    },
    getQuestionsPage: function getQuestionsPage() {

      var that = this;
      var id = getApp().globalData.projectItem.id;
      that.http(_home.default.QuestionsPage, 'GET', {
        current: 1,
        size: 3,
        descs: 'create_time', //降序
        auditStatus: 1,
        createId: getApp().globalData.wxUser.id,
        affiliationId: id },
      false).then(function (res) {
        //	console.log("楼盘问答")
        //	console.log(res)
        that.questionsList = res.data.records;
      });
    },
    getRefreshData: function getRefreshData(value) {

    },
    getApartmentConcern: function getApartmentConcern() {var _this2 = this;
      this.http(_home.default.getApartmentConcern, 'GET', {
        attentionType: '1',
        userId: getApp().globalData.wxUser.id },
      false).then(function (res) {
        //	console.log("关注列表")
        //	console.log(res)
        _this2.kaipanIStrue = false;
        _this2.jiangjiaIStrue = false;var _iterator2 = _createForOfIteratorHelper(
        res.data),_step2;try {for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {var item = _step2.value;
            //console.log(item)

            if (item.attentionType == '5') {
              _this2.kaipanIStrue = true;
            }
            if (item.attentionType == '4') {
              _this2.jiangjiaIStrue = true;
            }
          }} catch (err) {_iterator2.e(err);} finally {_iterator2.f();}

      });
    },
    guanzhu: function guanzhu(str) {

      this.http(_home.default.ApartmentConcern, 'POST', {
        affiliationId: getApp().globalData.projectItem.id,
        attentionType: str.toString() },

      false).then(function (res) {

      });
    },
    getSubscribeList: function getSubscribeList() {//拉取能订阅的列表
      var that = this;
      that.http(_home.default.Subscribe, 'POST', {
        enable: '1',
        useTypeList: ['4', '5'] },
      false).then(function (res) {
        //	console.log(res)
        var tmplIds = [];
        res.data.forEach(function (item) {
          tmplIds.push(item.priTmplId);
        });
        var value = that.showModalKey;
        var tmplIdsOne = (tmplIds[0] || '').split(' ');
        //tmplIdsOne = tmplIdsOne.push()
        var tmplIdsTwo = (tmplIds[1] || '').split(' ');
        var tmplist = value == 5 ? tmplIdsOne : value == 4 ? tmplIdsTwo : tmplIds;

        wx.requestSubscribeMessage({
          tmplIds: tmplist,
          success: function success(res) {
            if (res[tmplist[0]] === 'accept') {

              if (value == 5) {
                that.kaipanIStrue = !that.kaipanIStrue;
              } else
              if (value == 4) {
                that.jiangjiaIStrue = !that.jiangjiaIStrue;
              } else {}

              that.guanzhu(value);
              uni.showToast({
                title: '订阅成功',
                icon: 'none',
                duration: 2000 });

              that.userInfoGet();

            }
          },
          fail: function fail(res) {
            //		console.log("订阅失败")
            console.log(res);
          },
          complete: function complete(res) {
            //			console.log("订阅结果complete")
            console.log(res);

          } });



      });

    },


    getPhoneNumber: function getPhoneNumber(e) {//第一步，获取手机授权
      var that = this;

      if (e.detail.errMsg == "getPhoneNumber:ok") {//用户点击了一个
        var encryptedData = e.detail.encryptedData;

        var iv = e.detail.iv;
        // };
        _initPage.default.initPage().then(function (res) {//保证sessionkey最新有效
          var session_key = getApp().globalData.sessionKey;
          that.sendphoneNumber(encryptedData, session_key, iv);
        });
      } else {
        that.refmodelPhone = "";

        that.modalName = 'refuseModel';




        return;
      }
    },
    savephone: function savephone(encryptedData, session_key, iv) {
      var that = this;
      var data = {
        encryptedData: '',
        session_key: '',
        iv: '' };

      data.encryptedData = encryptedData;
      data.session_key = session_key;
      data.iv = iv;
      return new Promise(function (l, r) {
        console.log("解析手机号码");


        //console.log(encryptedData+'\n'+session_key+'\n'+iv)
        uni.request({
          url: _home.default.GetPhone, //仅为示例，并非真实接口地址。
          method: 'POST',
          data: data,
          timeout: 120000,
          header: {
            'app-id': wx.getAccountInfoSync().miniProgram.appId,
            'third-session': getApp().globalData.thirdSession },

          success: function success(res) {
            if (res.errMsg == "request:ok") {
              l(true);
            } else {
              l(false);
            }
          } });

      });
    },
    getInfo: function getInfo() {
      var that = this;
      return new Promise(function (l, r) {
        that.http(_home.default.userInfoGet, 'GET', {}, false).then(function (reslut) {
          if (reslut.data) {
            getApp().globalData.wxUser = reslut.data;
            that.wxUser = reslut.data;
            console.log("授权后，再次获取uerInfo");
            console.log(reslut.data);
            l(reslut.data);
          } else {
            l(false);
          }


        });
      });
    },
    baoming: function baoming() {var _this3 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee2() {var that, user, invitte, ischeck, _ischeck;return _regenerator.default.wrap(function _callee2$(_context2) {while (1) {switch (_context2.prev = _context2.next) {case 0:
                that = _this3;_context2.next = 3;return (
                  that.getInfo());case 3:user = _context2.sent;if (!

                user) {_context2.next = 18;break;}
                invitte = user.invitee;if (!
                invitte) {_context2.next = 14;break;}_context2.next = 9;return (
                  that.checkPhone(that.wxUser.phone));case 9:ischeck = _context2.sent;
                console.log(ischeck);
                if (ischeck == "true") {
                  that.brokerprocess(that.wxUser.phone);
                }_context2.next = 18;break;case 14:_context2.next = 16;return (


                  that.checkphonept(that.wxUser.phone));case 16:_ischeck = _context2.sent;
                if (_ischeck == "true") {
                  that.getProcessDefinition(that.wxUser.phone);
                }case 18:



                that.displayAd = '';
                _this3.modalName = "";
                setTimeout(function () {
                  uni.showToast({
                    title: "报名成功",
                    icon: 'none',
                    duration: 2000 });

                }, 1500);case 21:case "end":return _context2.stop();}}}, _callee2);}))();
    },
    sendphoneNumber: function sendphoneNumber(encryptedData, session_key, iv) {var _this4 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee3() {var that, isAuthPhone, user, invitte, ischeck, _ischeck2;return _regenerator.default.wrap(function _callee3$(_context3) {while (1) {switch (_context3.prev = _context3.next) {case 0: //解析手机号码
                that = _this4;_context3.next = 3;return (
                  that.savephone(encryptedData, session_key, iv));case 3:isAuthPhone = _context3.sent;if (!
                isAuthPhone) {_context3.next = 22;break;}_context3.next = 7;return (
                  that.getInfo());case 7:user = _context3.sent;if (!

                user) {_context3.next = 22;break;}
                invitte = user.invitee;if (!
                invitte) {_context3.next = 18;break;}_context3.next = 13;return (
                  that.checkPhone(that.wxUser.phone));case 13:ischeck = _context3.sent;
                console.log(ischeck);
                if (ischeck == "true") {
                  that.brokerprocess(that.wxUser.phone);
                }_context3.next = 22;break;case 18:_context3.next = 20;return (


                  that.checkphonept(that.wxUser.phone));case 20:_ischeck2 = _context3.sent;
                if (_ischeck2 == "true") {
                  that.getProcessDefinition(that.wxUser.phone);
                }case 22:case "end":return _context3.stop();}}}, _callee3);}))();




    },
    sendpassess: function sendpassess() {var _this5 = this;return _asyncToGenerator( /*#__PURE__*/_regenerator.default.mark(function _callee4() {var that, phone, invitte, ischeck, _ischeck3;return _regenerator.default.wrap(function _callee4$(_context4) {while (1) {switch (_context4.prev = _context4.next) {case 0:
                that = _this5;
                phone = that.refmodelPhone.trim();
                console.log(phone.length);if (!(
                phone.length != 11)) {_context4.next = 6;break;}
                uni.showToast({
                  title: "请填写正确电话号码",
                  icon: "none",
                  duration: 2000 });return _context4.abrupt("return");case 6:





                invitte = that.wxUser.invitte;if (!
                invitte) {_context4.next = 15;break;}_context4.next = 10;return (
                  that.checkPhone(phone));case 10:ischeck = _context4.sent;
                console.log(ischeck);
                if (ischeck == "true") {
                  that.brokerprocess(phone);
                }_context4.next = 19;break;case 15:_context4.next = 17;return (


                  that.checkphonept(phone));case 17:_ischeck3 = _context4.sent;
                if (_ischeck3 == "true") {
                  that.getProcessDefinition(phone);
                }case 19:case "end":return _context4.stop();}}}, _callee4);}))();

    },

    checkphonept: function checkphonept(phone) {
      var that = this;
      var projectItem = getApp().globalData.projectItem;
      var data = {
        phone: phone,
        senderId: that.wxUser.id,
        affId: projectItem.id,
        salesmanId: getApp().globalData.distribution ? getApp().globalData.distribution.id : null,
        groupId: getApp().globalData.distribution ? getApp().globalData.distribution.memberGroup : null,
        tenantId: that.wxUser.tenantId };

      return new Promise(function (l, r) {

        // that.http(api.Verification,"GET",data,false).then(res=>{


        // 	console.log("验证电话pt")
        // 	console.log(res);
        // 	if(res.ok){
        // 		l("true");
        // 	} else{
        // 		l("false");
        // 	}

        // })
        uni.request({
          method: "GET",
          url: _home.default.Verificationplt,
          data: data,
          header: {
            'app-id': wx.getAccountInfoSync().miniProgram.appId,
            'third-session': getApp().globalData.thirdSession },

          success: function success(reslt) {
            // that.checkPhone=false;
            console.log("验证电话pt");
            console.log("_________________________________");
            console.log(reslt);
            console.log("_________________________________");
            if (reslt.data.ok) {
              l("true");
            } else {
              l("false");
            }

          } });



      });
    },
    checkPhone: function checkPhone(phone) {
      var that = this;
      var projectItem = getApp().globalData.projectItem;
      var data = {
        phone: phone,
        senderId: that.wxUser.id,
        affId: projectItem.id,
        salesmanId: getApp().globalData.distribution ? getApp().globalData.distribution.id : null,
        groupId: getApp().globalData.distribution ? getApp().globalData.distribution.memberGroup : null,
        tenantId: that.wxUser.tenantId };

      return new Promise(function (l, r) {

        // that.http(api.Verification,"GET",data,false).then(res=>{
        // 	console.log("验证电话")
        // 	console.log(res);
        // })
        uni.request({
          method: "GET",
          url: _home.default.Verification,
          data: data,
          success: function success(reslt) {
            // that.checkPhone=false;
            console.log("验证电话");
            console.log(reslt.data.ok);
            if (reslt.data.ok) {
              l("true");
            } else {
              l("false");
            }

          } });



      });
    },
    brokerprocess: function brokerprocess(phone) {
      var that = this;
      //获取定义流程列表，
      var budding = getApp().globalData.BaseBudding;

      // console.log("查看缓存");
      // console.log(getApp().globalData)
      uni.request({
        url: _home.default.GetProcessDefinition,
        method: 'GET',
        data: {
          tenantIdIn: budding.id },

        success: function success(vlaue) {
          // console.log('流程');
          // console.log(vlaue);

          if (vlaue.statusCode == 200) {
            var res = vlaue.data;
            var id;
            for (var i = 0; i < res.length; i++) {
              if (res[i].key == 'broker') {
                id = res[i].id;
              }
            }
            if (id) {
              that.PostProcess(id, phone);
            } else {
              uni.showToast({
                title: "请检查key为broker的流程是否存在",
                icon: "none",
                duration: 3000 });

            }

          } else {
            uni.showToast({
              title: '未找到有效流程，或流程未配置',
              icon: 'none',
              duration: 3000 });

          }
        } });


    },
    getProcessDefinition: function getProcessDefinition(phone) {//获取自有流程id
      var that = this;
      var budding = getApp().globalData.BaseBudding;
      uni.request({
        url: _home.default.GetProcessDefinition,
        method: 'GET',
        data: {
          tenantIdIn: budding.id //楼盘id
        },
        success: function success(vlaue) {
          console.log('平台');
          // console.log(vlaue);
          if (vlaue.statusCode == 200) {
            var res = vlaue.data;
            var id;
            for (var i = 0; i < res.length; i++) {
              if (res[i].key == 'passenger') {
                id = res[i].id;
              }
            }
            if (id) {
              that.PostProcessAcquistion(id, phone);
            } else {
              uni.showToast({
                title: "请检查key为passenger的流程是否存在",
                icon: "none",
                duration: 3000 });

            }
          } else {
            uni.showToast({
              title: '未找到有效流程，或流程未配置',
              icon: 'none',
              duration: 3000 });

          }
        } });

    },
    PostProcessAcquistion: function PostProcessAcquistion(id, phone) {
      var that = this;
      var ids = id;
      var project = getApp().globalData.projectItem;
      var initator = getApp().globalData.wxUser.id;
      var datamap = {
        variables: {
          initiator: {
            value: initator },

          phone: {
            value: phone },

          customerName: {
            value: that.wxUser.realName ? that.wxUser.realName : that.wxUser.nickName },

          affiliationId: {
            value: project.id },

          currentTaskDeposit: {
            value: false },

          gender: {
            value: that.wxUser.sex,
            type: 'String',
            valueInfo: {} },

          tenantId: {
            value: that.wxUser.tenantId },

          characters: {
            value: null },

          unspecified: {
            value: getApp().globalData.distribution ? false : true },
          //未指定    有置业 false ，否则true
          salesmanId: {
            value: getApp().globalData.distribution ? getApp().globalData.distribution.id : null },

          origin: {
            value: '1' } } };




      uni.request({
        url: _home.default.GetProcessDefinition + "/" + ids + "/submit-form",
        method: 'POST',
        data: datamap,
        success: function success(response) {
          // console.log('提交平台流程');
          // console.log(response);
          if (response.statusCode == 200) {

          }
        } });


    },
    PostProcess: function PostProcess(id, phone) {
      var that = this;
      var ids = id;
      //console.log(that.wxUser)
      var porject = getApp().globalData.projectItem;
      //console.log("----------------------------------------------------")
      //description
      //问题：1.性别  2.重复推荐， 3推荐后跳转
      console.log(ids);
      console.log("-----------分享客户信息------------");
      console.log(that.wxUser);
      console.log("-----------------------");
      uni.request({
        url: _home.default.GetProcessDefinition + "/" + ids + "/submit-form",
        method: 'POST',
        data: {
          variables: {
            phone: {
              value: phone,
              type: 'String',
              valueInfo: {} },

            customerName: {
              value: that.wxUser.realName ? that.wxUser.realName : that.wxUser.nickName,
              type: 'String',
              valueInfo: {} },

            gender: {
              value: that.wxUser.sex || "",
              type: 'String',
              valueInfo: {} },

            introduction: {
              value: "",
              type: 'String',
              valueInfo: {} },

            affiliationId: {
              value: porject.id,
              type: 'String',
              valueInfo: {} },

            brokerId: {
              value: that.wxUser.invitee,
              type: 'String',
              valueInfo: {} },

            salesmanId: {
              value: getApp().globalData.distribution.id || null,
              type: 'String',
              valueInfo: {
                name: "XXXXX" } },


            brokerName: {
              value: that.wxUser.inviteeUser ? that.wxUser.inviteeUser.realName ? that.wxUser.inviteeUser.realName : that.wxUser.inviteeUser.nickName : "匿名用户",
              type: 'String',
              valueInfo: getApp().globalData.wxUser },

            brokerPhone: {
              value: that.wxUser.inviteeUser ? that.wxUser.inviteeUser.phone : "没有电话",
              type: 'String',
              valueInfo: {} },

            inviteeId: {
              value: that.wxUser.invitee,
              type: 'String',
              valueInfo: {} },

            tenantId: {
              value: that.wxUser.tenantId,
              type: 'String',
              valueInfo: {} },

            // totalDuration:{value:'PT3H'}
            origin: {
              value: '1' } },


          businessKey: that.phone },

        success: function success(response) {
          console.log('提交流程');
          console.log(response);
          if (response.statusCode == 200) {

          }
        } });

    },
    showTime: function showTime(e) {
      var that = this;
      that.showModalKey = e.currentTarget.dataset.type;
      var showKey = that.showModalKey;
      that.wxUser = getApp().globalData.wxUser;
      if (showKey == 4) {
        if (that.jiangjiaIStrue) {
          that.guanzhu(4);
          uni.showToast({
            title: '成功退订',
            icon: 'none',
            duration: 2000 });

          that.jiangjiaIStrue = !that.jiangjiaIStrue;
        } else {
          that.getSubscribeList();
        }
      }
      if (showKey == 5) {
        if (that.kaipanIStrue) {
          that.guanzhu(5);
          uni.showToast({
            title: '成功退订',
            icon: 'none',
            duration: 2000 });

          that.kaipanIStrue = !that.kaipanIStrue;
        } else {
          that.getSubscribeList();
        }
      }


    },


    Gettotalviews: function Gettotalviews() {
      var that = this;
      var id = getApp().globalData.projectItem.id;
      that.http(_home.default.Totalviews + "/" + id, 'GET', {}, false).then(function (res) {
        // console.log("浏览量三个")
        // console.log(res)
        that.totalViews = res.data;
        that.viewsloading = false;
        try {
          uni.setStorageSync('userCount', res.data);
        } catch (e) {
          // error
        }
      });
    },
    Sendaddviews: function Sendaddviews() {
      var that = this;
      that.http(_home.default.Addviews, 'POST', {
        id: getApp().globalData.projectItem.id },
      false).then(function (res) {
        // console.log("进首页加浏览量")
        // console.log(res)
      });
    },
    getPopupads: function getPopupads() {
      var that = this;
      that.http(_home.default.Popupads, 'GET', {}, false).then(function (res) {
        // console.log("弹框")
        // console.log(res)
        if (res) {
          that.popupadsData = res.data;
        }

      });
    },
    // xianshi:function(){
    // 	  this.showSkeleton = false;
    // },
    unReadMessage: function unReadMessage() {
      var that = this;
      var project = getApp().globalData.projectItem;
      var wxUser = getApp().globalData.wxUser;
      var salesman = getApp().globalData.distribution;
      console.log(project);
      console.log(wxUser);
      console.log(salesman);
      that.http(_home.default.getUnReadMessage, 'POST', {
        "affiliationId": project.id,
        "tenantId": project.tenantId,
        "userId": wxUser.id,
        "salesmanId": salesman ? salesman.id : "",
        "messageblob": "",
        "type": "" },
      false).then(function (res) {
        console.log("_______________未读消息条数___________________________");
        console.log(res);
        if (res.ok) {
          that.unreadMessage = res.data.unreadcount;
        }

      });
    },
    loadData: function loadData() {
      //console.log('……………………loadData……………………………………………………………………………')
      this.userInfoGet();
      this.getBaseBuing();
      this.getNotice();
      this.getNewsinformation();
      this.getapartmentlayout();
      this.getAwesomeshooting();
      this.getQuestionsPage();
      this.getApartmentConcern();
      this.Sendaddviews();
      this.Gettotalviews();
      this.getreadingReviews();
      this.getPopupads();
      this.setTimead();
    },
    setTimead: function setTimead() {
      var that = this;


      if (!getApp().globalData.isSetTimeAd) {
        setTimeout(function () {
          that.displayAd = 'flex';
          getApp().globalData.isSetTimeAd = true;
        }, 2000);

      }
    },
    initpage: function initpage() {
      var that = this;
      //	console.log('………………………BasicsinitPage…………………………………………………')
      _initPage.default.initPage().then(function (res) {//登录之后再请求其他内容，不然会超时
        that.loadData();
        that.wxUser = getApp().globalData.wxUser;
        console.log(getApp().globalData.wxUser);
      });
    } },

  beforeCreate: function beforeCreate() {
    this.loading = true;
    this.viewsloading = true;
  },
  mounted: function mounted() {
    var that = this;
    console.log("shouye ----------- mounted ");
    console.log(getApp().globalData);
    that.popupaShow = getApp().globalData.popupaShow == null ? true : getApp().globalData.popupaShow;
    console.log("popupaShow");
    console.log(that.popupaShow);
    if (getApp().globalData.thirdSession) {
      this.loading = true;
      this.viewsloading = true;
      that.loadData();

    }

    qqmapsdk = new QQMapWX({ //初始化腾讯地图sdk
      key: '2OABZ-3FGRJ-27CFB-FFEEQ-EKUMZ-22BXH' });

    that.scale = 14;
    //this.$nextTick(function () {

  }

  // _self.http(api.Notice,'GET',{ type: '2',
  // enable: '1'},false).then(res=>{
  // 	console.log("")
  // 		  console.log(res)
  // })
};exports.default = _default;
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@dcloudio/uni-mp-weixin/dist/index.js */ 1)["default"]))

/***/ }),

/***/ 345:
/*!***************************************************************************************************!*\
  !*** E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=style&index=0&lang=css& ***!
  \***************************************************************************************************/
/*! no static exports found */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!./home.vue?vue&type=style&index=0&lang=css& */ 346);
/* harmony import */ var _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ for(var __WEBPACK_IMPORT_KEY__ in _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== 'default') (function(key) { __webpack_require__.d(__webpack_exports__, key, function() { return _D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0__[key]; }) }(__WEBPACK_IMPORT_KEY__));
 /* harmony default export */ __webpack_exports__["default"] = (_D_HBuilderX_plugins_uniapp_cli_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_D_HBuilderX_plugins_uniapp_cli_node_modules_css_loader_dist_cjs_js_ref_6_oneOf_1_1_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_loaders_stylePostLoader_js_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_webpack_preprocess_loader_index_js_ref_6_oneOf_1_2_D_HBuilderX_plugins_uniapp_cli_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_3_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_vue_cli_plugin_uni_packages_vue_loader_lib_index_js_vue_loader_options_D_HBuilderX_plugins_uniapp_cli_node_modules_dcloudio_webpack_uni_mp_loader_lib_style_js_home_vue_vue_type_style_index_0_lang_css___WEBPACK_IMPORTED_MODULE_0___default.a); 

/***/ }),

/***/ 346:
/*!*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!./node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/webpack-preprocess-loader??ref--6-oneOf-1-2!./node_modules/postcss-loader/src??ref--6-oneOf-1-3!./node_modules/@dcloudio/vue-cli-plugin-uni/packages/vue-loader/lib??vue-loader-options!./node_modules/@dcloudio/webpack-uni-mp-loader/lib/style.js!E:/zuomianproject/project/项目/unitest/pages/basics/home.vue?vue&type=style&index=0&lang=css& ***!
  \*******************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

// extracted by mini-css-extract-plugin
    if(false) { var cssReload; }
  

/***/ })

}]);
//# sourceMappingURL=../../../.sourcemap/mp-weixin/pages/basics/home.js.map
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'pages/basics/home-create-component',
    {
        'pages/basics/home-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('1')['createComponent'](__webpack_require__(340))
        })
    },
    [['pages/basics/home-create-component']]
]);
